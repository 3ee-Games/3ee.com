import{S as de,i as _e,s as ve,l as fe,g as O,n as we,o as Y,p as Ce,q as K,d as l,P as ge,v as Ae,k as N,e as h,t as w,m as I,c as p,a as _,h as C,b as f,F as q,G as o,N as $,H as W,E as he,O as Ne,w as ye,x as be,y as Ee,B as ke,a0 as Ie}from"../../../chunks/index-2a82a4a8.js";import{a as pe}from"../../../chunks/accountStore-3492c591.js";import{g as me}from"../../../chunks/config-abc8f7a4.js";import{C as Oe}from"../../../chunks/Captcha-866d3d2b.js";import{g as Pe}from"../../../chunks/navigation-0e6511d1.js";import"../../../chunks/index-16dda89e.js";import"../../../chunks/singletons-d1fb5791.js";function Te(m){let t,e,r,s,c,a,n,u,v,y,i,d,g,k,P,z,R,T,G,A,S,B,j,Q,X,Z,V,F,x,ee,U,te,re;function se(E,b){if(E[6])return je;if(E[5])return De}let H=se(m),D=H&&H(m);function oe(E,b){return E[5]?qe:Be}let M=oe(m),L=M(m);return{c(){D&&D.c(),t=N(),e=h("form"),r=h("label"),s=w("your email address:"),c=N(),a=h("input"),u=N(),v=h("label"),y=w("desired username:"),i=N(),d=h("input"),k=N(),P=h("label"),z=w("come up with a secure password:"),R=N(),T=h("input"),G=N(),A=h("p"),S=h("ion-icon"),B=w(` By creating a 3ee Account, you
			automatically agree to our `),j=h("a"),Q=w("terms of service"),X=w("."),Z=N(),V=h("p"),F=h("ion-icon"),x=w(` We may need to make sure you're a
			human. Don't worry, our captchas are fun.`),ee=N(),U=h("div"),L.c(),this.h()},l(E){D&&D.l(E),t=I(E),e=p(E,"FORM",{class:!0});var b=_(e);r=p(b,"LABEL",{for:!0});var ne=_(r);s=C(ne,"your email address:"),ne.forEach(l),c=I(b),a=p(b,"INPUT",{name:!0,id:!0,placeholder:!0,type:!0,class:!0}),u=I(b),v=p(b,"LABEL",{for:!0});var ce=_(v);y=C(ce,"desired username:"),ce.forEach(l),i=I(b),d=p(b,"INPUT",{name:!0,id:!0,placeholder:!0,type:!0,class:!0}),k=I(b),P=p(b,"LABEL",{for:!0});var le=_(P);z=C(le,"come up with a secure password:"),le.forEach(l),R=I(b),T=p(b,"INPUT",{name:!0,id:!0,placeholder:!0,type:!0}),G=I(b),A=p(b,"P",{});var J=_(A);S=p(J,"ION-ICON",{class:!0,name:!0}),_(S).forEach(l),B=C(J,` By creating a 3ee Account, you
			automatically agree to our `),j=p(J,"A",{href:!0});var ue=_(j);Q=C(ue,"terms of service"),ue.forEach(l),X=C(J,"."),J.forEach(l),Z=I(b),V=p(b,"P",{});var ae=_(V);F=p(ae,"ION-ICON",{class:!0,name:!0}),_(F).forEach(l),x=C(ae,` We may need to make sure you're a
			human. Don't worry, our captchas are fun.`),ae.forEach(l),ee=I(b),U=p(b,"DIV",{id:!0});var ie=_(U);L.l(ie),ie.forEach(l),b.forEach(l),this.h()},h(){f(r,"for","email"),f(a,"name","email"),f(a,"id","email"),f(a,"placeholder","enter your email address"),f(a,"type","email"),a.required="true",f(a,"class",n=m[6]?"validation-error":""),f(v,"for","username"),f(d,"name","username"),f(d,"id","username"),f(d,"placeholder","enter a username"),f(d,"type","text"),d.required="true",f(d,"class",g=m[6]?"validation-error":""),f(P,"for","password"),f(T,"name","password"),f(T,"id","password"),f(T,"placeholder","enter a secure password"),f(T,"type","password"),T.required="true",q(S,"class","shield-checkmark svelte-kuyvbp"),q(S,"name","shield-checkmark"),f(j,"href","/account/terms/"),q(F,"class","shield-checkmark svelte-kuyvbp"),q(F,"name","game-controller"),f(U,"id","form-footer"),f(e,"class","svelte-kuyvbp")},m(E,b){D&&D.m(E,b),O(E,t,b),O(E,e,b),o(e,r),o(r,s),o(e,c),o(e,a),$(a,m[1]),o(e,u),o(e,v),o(v,y),o(e,i),o(e,d),$(d,m[2]),o(e,k),o(e,P),o(P,z),o(e,R),o(e,T),$(T,m[3]),o(e,G),o(e,A),o(A,S),o(A,B),o(A,j),o(j,Q),o(A,X),o(e,Z),o(e,V),o(V,F),o(V,x),o(e,ee),o(e,U),L.m(U,null),te||(re=[W(a,"input",m[8]),W(d,"input",m[9]),W(T,"input",m[10]),W(e,"submit",m[7])],te=!0)},p(E,b){H!==(H=se(E))&&(D&&D.d(1),D=H&&H(E),D&&(D.c(),D.m(t.parentNode,t))),b&64&&n!==(n=E[6]?"validation-error":"")&&f(a,"class",n),b&2&&a.value!==E[1]&&$(a,E[1]),b&64&&g!==(g=E[6]?"validation-error":"")&&f(d,"class",g),b&4&&d.value!==E[2]&&$(d,E[2]),b&8&&T.value!==E[3]&&$(T,E[3]),M!==(M=oe(E))&&(L.d(1),L=M(E),L&&(L.c(),L.m(U,null)))},i:he,o:he,d(E){D&&D.d(E),E&&l(t),E&&l(e),L.d(),te=!1,Ne(re)}}}function Se(m){let t,e;return t=new Oe({props:{game:m[0]}}),{c(){ye(t.$$.fragment)},l(r){be(t.$$.fragment,r)},m(r,s){Ee(t,r,s),e=!0},p(r,s){const c={};s&1&&(c.game=r[0]),t.$set(c)},i(r){e||(K(t.$$.fragment,r),e=!0)},o(r){Y(t.$$.fragment,r),e=!1},d(r){ke(t,r)}}}function De(m){let t,e,r,s;return{c(){t=h("div"),e=h("p"),r=h("ion-icon"),s=w(" The captcha was not correct. Please try below."),this.h()},l(c){t=p(c,"DIV",{class:!0});var a=_(t);e=p(a,"P",{class:!0});var n=_(e);r=p(n,"ION-ICON",{class:!0,name:!0}),_(r).forEach(l),s=C(n," The captcha was not correct. Please try below."),n.forEach(l),a.forEach(l),this.h()},h(){q(r,"class","shield-x"),q(r,"name","shield-x"),f(e,"class","error"),f(t,"class","error-container")},m(c,a){O(c,t,a),o(t,e),o(e,r),o(e,s)},d(c){c&&l(t)}}}function je(m){let t,e,r,s,c,a,n,u,v;return{c(){t=h("div"),e=h("p"),r=w("Your email or username are unavailable."),s=N(),c=h("p"),a=w("If you have an account, "),n=h("a"),u=w("login"),v=w(" now."),this.h()},l(y){t=p(y,"DIV",{class:!0});var i=_(t);e=p(i,"P",{class:!0});var d=_(e);r=C(d,"Your email or username are unavailable."),d.forEach(l),s=I(i),c=p(i,"P",{class:!0});var g=_(c);a=C(g,"If you have an account, "),n=p(g,"A",{href:!0});var k=_(n);u=C(k,"login"),k.forEach(l),v=C(g," now."),g.forEach(l),i.forEach(l),this.h()},h(){f(e,"class","error"),f(n,"href","/account/login/"),f(c,"class","error-description svelte-kuyvbp"),f(t,"class","error-container")},m(y,i){O(y,t,i),o(t,e),o(e,r),o(t,s),o(t,c),o(c,a),o(c,n),o(n,u),o(c,v)},d(y){y&&l(t)}}}function Be(m){let t,e,r,s,c;return{c(){t=h("button"),e=h("ion-icon"),r=N(),s=h("span"),c=w("Create Account"),this.h()},l(a){t=p(a,"BUTTON",{class:!0});var n=_(t);e=p(n,"ION-ICON",{class:!0,name:!0}),_(e).forEach(l),r=I(n),s=p(n,"SPAN",{});var u=_(s);c=C(u,"Create Account"),u.forEach(l),n.forEach(l),this.h()},h(){q(e,"class","icon svelte-kuyvbp"),q(e,"name","rocket-sharp"),f(t,"class","svelte-kuyvbp")},m(a,n){O(a,t,n),o(t,e),o(t,r),o(t,s),o(s,c)},d(a){a&&l(t)}}}function qe(m){let t,e,r,s,c,a,n,u,v,y;return{c(){t=h("div"),e=h("p"),r=h("ion-icon"),s=w(" The captcha was not correct. Please try again."),c=N(),a=h("button"),n=h("ion-icon"),u=N(),v=h("span"),y=w("Try again"),this.h()},l(i){t=p(i,"DIV",{class:!0});var d=_(t);e=p(d,"P",{class:!0});var g=_(e);r=p(g,"ION-ICON",{class:!0,name:!0}),_(r).forEach(l),s=C(g," The captcha was not correct. Please try again."),g.forEach(l),c=I(d),a=p(d,"BUTTON",{class:!0});var k=_(a);n=p(k,"ION-ICON",{class:!0,name:!0}),_(n).forEach(l),u=I(k),v=p(k,"SPAN",{});var P=_(v);y=C(P,"Try again"),P.forEach(l),k.forEach(l),d.forEach(l),this.h()},h(){q(r,"class","shield-x"),q(r,"name","shield-x"),f(e,"class","error"),q(n,"class","icon svelte-kuyvbp"),q(n,"name","rocket-sharp"),f(a,"class","alert svelte-kuyvbp"),f(t,"class","error-container")},m(i,d){O(i,t,d),o(t,e),o(e,r),o(e,s),o(t,c),o(t,a),o(a,n),o(a,u),o(a,v),o(v,y)},d(i){i&&l(t)}}}function Le(m){let t,e,r,s;const c=[Se,Te],a=[];function n(u,v){return u[4]?0:1}return t=n(m),e=a[t]=c[t](m),{c(){e.c(),r=fe()},l(u){e.l(u),r=fe()},m(u,v){a[t].m(u,v),O(u,r,v),s=!0},p(u,[v]){let y=t;t=n(u),t===y?a[t].p(u,v):(we(),Y(a[y],1,1,()=>{a[y]=null}),Ce(),e=a[t],e?e.p(u,v):(e=a[t]=c[t](u),e.c()),K(e,1),e.m(r.parentNode,r))},i(u){s||(K(e),s=!0)},o(u){Y(e),s=!1},d(u){a[t].d(u),u&&l(r)}}}function Ue(m,t,e){let r=null,s="",c="",a="",n=!0,u=!1,v=!1,y={},i=!1;const d=ge();Ae(async()=>{const A=await fetch(`${me().serviceUrl}/captcha/start/`,{method:"GET",mode:"cors"});if(e(0,r=await A.json()),typeof(r==null?void 0:r.captcha)!="undefined"&&!r.captcha){n=!1;return}window.addEventListener("message",function(S){const B=S.data,j=JSON.parse(B);e(4,u=!1),d("onCaptchaEvent",{showCaptcha:u}),j.message==="onPlayCaptchaEnd"&&j.success?g(j.session):P()})});async function g(A){e(5,v=!1),y.guid=A;try{const S=await k(y);if(S.ok){const B=await S.json();pe.set(B),B.token&&(e(6,i=!1),d("createAccountSuccess"),typeof umami!="undefined"&&umami.trackEvent("create account","/account/create/"))}else e(6,i=!0)}catch{e(6,i=!0)}typeof umami!="undefined"&&umami.trackEvent("Captcha",{success:!0},"/account/create/")}async function k(A){return await fetch(`${me().serviceUrl}/account/create/`,{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"https://3ee.com"},mode:"cors",body:JSON.stringify(A)})}function P(){e(5,v=!0),typeof umami!="undefined"&&umami.trackEvent("Captcha",{success:!1},"/account/create/")}async function z(A){A.preventDefault();const S=new FormData(A.target);if(y=Object.fromEntries(S.entries()),!u&&n){e(4,u=!0),d("onCaptchaEvent",{showCaptcha:u});return}try{const B=await k(y);if(B.ok){const j=await B.json();pe.set(j),j.token&&(e(6,i=!1),d("createAccountSuccess"),typeof umami!="undefined"&&umami.trackEvent("create account","/account/create/"))}else e(6,i=!0)}catch{e(6,i=!0)}}function R(){s=this.value,e(1,s)}function T(){c=this.value,e(2,c)}function G(){a=this.value,e(3,a)}return[r,s,c,a,u,v,i,z,R,T,G]}class Ve extends de{constructor(t){super(),_e(this,t,Ue,Le,ve,{})}}function Fe(m){let t,e,r,s,c;return{c(){t=h("h1"),e=w("Create your Account"),r=N(),s=h("h2"),c=w("Ready for your adventure to begin? Get started by creating an account."),this.h()},l(a){t=p(a,"H1",{});var n=_(t);e=C(n,"Create your Account"),n.forEach(l),r=I(a),s=p(a,"H2",{class:!0});var u=_(s);c=C(u,"Ready for your adventure to begin? Get started by creating an account."),u.forEach(l),this.h()},h(){f(s,"class","svelte-h6vuyh")},m(a,n){O(a,t,n),o(t,e),O(a,r,n),O(a,s,n),o(s,c)},d(a){a&&l(t),a&&l(r),a&&l(s)}}}function He(m){let t,e,r,s,c;return{c(){t=h("h1"),e=w("Are you human?"),r=N(),s=h("h2"),c=w("Please solve the Captcha Puzzle to continue."),this.h()},l(a){t=p(a,"H1",{});var n=_(t);e=C(n,"Are you human?"),n.forEach(l),r=I(a),s=p(a,"H2",{class:!0});var u=_(s);c=C(u,"Please solve the Captcha Puzzle to continue."),u.forEach(l),this.h()},h(){f(s,"class","svelte-h6vuyh")},m(a,n){O(a,t,n),o(t,e),O(a,r,n),O(a,s,n),o(s,c)},d(a){a&&l(t),a&&l(r),a&&l(s)}}}function $e(m){let t,e,r,s,c,a,n;function u(i,d){return i[0]?He:Fe}let v=u(m),y=v(m);return a=new Ve({}),a.$on("createAccountSuccess",m[1]),a.$on("onCaptchaEvent",m[2]),{c(){t=N(),e=h("section"),r=h("div"),s=h("div"),y.c(),c=N(),ye(a.$$.fragment),this.h()},l(i){Ie('[data-svelte="svelte-qohrfk"]',document.head).forEach(l),t=I(i),e=p(i,"SECTION",{class:!0});var g=_(e);r=p(g,"DIV",{class:!0});var k=_(r);s=p(k,"DIV",{class:!0});var P=_(s);y.l(P),P.forEach(l),c=I(k),be(a.$$.fragment,k),k.forEach(l),g.forEach(l),this.h()},h(){document.title="Create your Account",f(s,"class","promo"),f(r,"class","content"),f(e,"class","background")},m(i,d){O(i,t,d),O(i,e,d),o(e,r),o(r,s),y.m(s,null),o(r,c),Ee(a,r,null),n=!0},p(i,[d]){v!==(v=u(i))&&(y.d(1),y=v(i),y&&(y.c(),y.m(s,null)))},i(i){n||(K(a.$$.fragment,i),n=!0)},o(i){Y(a.$$.fragment,i),n=!1},d(i){i&&l(t),i&&l(e),y.d(),ke(a)}}}function ze(m,t,e){let r,s=!1;function c(n){Pe("/account/new/")}function a(n){e(3,s=n.detail.showCaptcha)}return m.$$.update=()=>{m.$$.dirty&8&&e(0,r=s)},[r,c,a,s]}class Qe extends de{constructor(t){super(),_e(this,t,ze,$e,ve,{})}}export{Qe as default};
