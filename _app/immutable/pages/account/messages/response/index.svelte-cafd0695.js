import{S as ie,i as ce,s as ue,e as _,k as w,t as $,c as m,m as I,a as v,h as N,d as a,b as g,g as E,I as c,j as fe,H as V,J as Q,E as B,n as de,o as K,p as pe,q as X,$ as _e,v as me,w as ee,x as he,y as te,B as se,R as ve,a1 as be,X as ge}from"../../../../chunks/index-e1315fa8.js";import{s as oe}from"../../../../chunks/svgMapper-4a1f5655.js";import{a as G}from"../../../../chunks/accountStore-0546593d.js";import{s as W}from"../../../../chunks/messagingStore-ae735959.js";import{g as J}from"../../../../chunks/navigation-0e6511d1.js";import"../../../../chunks/index-1440c114.js";import"../../../../chunks/singletons-d1fb5791.js";function ye(p){let e,s,n,t,i;return{c(){e=_("h1"),s=$("You received a response"),n=w(),t=_("p"),i=$(p[9]),this.h()},l(o){e=m(o,"H1",{});var f=v(e);s=N(f,"You received a response"),f.forEach(a),n=I(o),t=m(o,"P",{class:!0});var u=v(t);i=N(u,p[9]),u.forEach(a),this.h()},h(){g(t,"class","highlight")},m(o,f){E(o,e,f),c(e,s),E(o,n,f),E(o,t,f),c(t,i)},p:B,d(o){o&&a(e),o&&a(n),o&&a(t)}}}function ke(p){let e,s,n,t,i;return{c(){e=_("h1"),s=$("Your message has been sent"),n=w(),t=_("p"),i=$(p[9]),this.h()},l(o){e=m(o,"H1",{});var f=v(e);s=N(f,"Your message has been sent"),f.forEach(a),n=I(o),t=m(o,"P",{class:!0});var u=v(t);i=N(u,p[9]),u.forEach(a),this.h()},h(){g(t,"class","highlight")},m(o,f){E(o,e,f),c(e,s),E(o,n,f),E(o,t,f),c(t,i)},p:B,d(o){o&&a(e),o&&a(n),o&&a(t)}}}function Ee(p){let e,s,n;var t=oe.Messenger;function i(o){return{}}return t&&(s=new t(i())),{c(){e=_("div"),s&&ee(s.$$.fragment),this.h()},l(o){e=m(o,"DIV",{class:!0});var f=v(e);s&&he(s.$$.fragment,f),f.forEach(a),this.h()},h(){g(e,"class","column double")},m(o,f){E(o,e,f),s&&te(s,e,null),n=!0},p(o,f){if(t!==(t=oe.Messenger)){if(s){de();const u=s;K(u.$$.fragment,1,0,()=>{se(u,1)}),pe()}t?(s=new t(i()),ee(s.$$.fragment),X(s.$$.fragment,1),te(s,e,null)):s=null}},i(o){n||(s&&X(s.$$.fragment,o),n=!0)},o(o){s&&K(s.$$.fragment,o),n=!1},d(o){o&&a(e),s&&se(s)}}}function De(p){let e,s,n;return{c(){e=_("div"),s=_("img"),this.h()},l(t){e=m(t,"DIV",{class:!0});var i=v(e);s=m(i,"IMG",{src:!0,alt:!0}),i.forEach(a),this.h()},h(){ve(s.src,n="/pngout.png")||g(s,"src",n),g(s,"alt","The universe of 3ee Games, showing three planets."),g(e,"class","column half svelte-r4jzse")},m(t,i){E(t,e,i),c(e,s)},p:B,i:B,o:B,d(t){t&&a(e)}}}function $e(p){let e,s,n,t,i,o,f,u,r=p[0].response+"",d;return{c(){e=_("p"),s=$("Hail "),n=_("span"),t=$(p[7]),i=$(`! I have a message from the
								support team addressed to you. The message is a response to your query. It says:`),o=w(),f=_("blockquote"),u=_("q"),d=$(r),this.h()},l(l){e=m(l,"P",{});var h=v(e);s=N(h,"Hail "),n=m(h,"SPAN",{class:!0});var D=v(n);t=N(D,p[7]),D.forEach(a),i=N(h,`! I have a message from the
								support team addressed to you. The message is a response to your query. It says:`),h.forEach(a),o=I(l),f=m(l,"BLOCKQUOTE",{class:!0});var k=v(f);u=m(k,"Q",{class:!0});var O=v(u);d=N(O,r),O.forEach(a),k.forEach(a),this.h()},h(){g(n,"class","highlight accent"),g(u,"class","svelte-r4jzse"),g(f,"class","svelte-r4jzse")},m(l,h){E(l,e,h),c(e,s),c(e,n),c(n,t),c(e,i),E(l,o,h),E(l,f,h),c(f,u),c(u,d)},p(l,h){h&1&&r!==(r=l[0].response+"")&&fe(d,r)},d(l){l&&a(e),l&&a(o),l&&a(f)}}}function Ne(p){let e,s,n,t,i,o,f,u;return{c(){e=_("p"),s=$("Greetings "),n=_("span"),t=$(p[7]),i=$(`. The robots are trying to
								figure out which planet to route your query. Expect a response within
								`),o=_("span"),f=$("24 to 48 hours"),u=$("."),this.h()},l(r){e=m(r,"P",{});var d=v(e);s=N(d,"Greetings "),n=m(d,"SPAN",{class:!0});var l=v(n);t=N(l,p[7]),l.forEach(a),i=N(d,`. The robots are trying to
								figure out which planet to route your query. Expect a response within
								`),o=m(d,"SPAN",{class:!0});var h=v(o);f=N(h,"24 to 48 hours"),h.forEach(a),u=N(d,"."),d.forEach(a),this.h()},h(){g(n,"class","highlight accent"),g(o,"class","highlight")},m(r,d){E(r,e,d),c(e,s),c(e,n),c(n,t),c(e,i),c(e,o),c(o,f),c(e,u)},p:B,d(r){r&&a(e)}}}function je(p){let e,s,n,t,i,o,f,u,r,d,l,h,D,k,O,M,z;return{c(){e=_("p"),s=$("Thanks again for contacting support. Any concerns or additional questions?"),n=w(),t=_("div"),i=_("button"),o=_("ion-icon"),f=w(),u=_("span"),r=$("Contact"),d=w(),l=_("button"),h=_("ion-icon"),D=w(),k=_("span"),O=$("Discord"),this.h()},l(C){e=m(C,"P",{});var A=v(e);s=N(A,"Thanks again for contacting support. Any concerns or additional questions?"),A.forEach(a),n=I(C),t=m(C,"DIV",{class:!0});var j=v(t);i=m(j,"BUTTON",{class:!0});var H=v(i);o=m(H,"ION-ICON",{class:!0,name:!0}),v(o).forEach(a),f=I(H),u=m(H,"SPAN",{});var Y=v(u);r=N(Y,"Contact"),Y.forEach(a),H.forEach(a),d=I(j),l=m(j,"BUTTON",{class:!0});var y=v(l);h=m(y,"ION-ICON",{class:!0,name:!0}),v(h).forEach(a),D=I(y),k=m(y,"SPAN",{});var T=v(k);O=N(T,"Discord"),T.forEach(a),y.forEach(a),j.forEach(a),this.h()},h(){V(o,"class","icon svelte-r4jzse"),V(o,"name","mail"),g(i,"class","svelte-r4jzse"),V(h,"class","icon svelte-r4jzse"),V(h,"name","logo-discord"),g(l,"class","svelte-r4jzse"),g(t,"class","action-buttons svelte-r4jzse")},m(C,A){E(C,e,A),c(e,s),E(C,n,A),E(C,t,A),c(t,i),c(i,o),c(i,f),c(i,u),c(u,r),c(t,d),c(t,l),c(l,h),c(l,D),c(l,k),c(k,O),M||(z=[Q(i,"click",p[5]),Q(l,"click",p[6])],M=!0)},p:B,d(C){C&&a(e),C&&a(n),C&&a(t),M=!1,be(z)}}}function we(p){let e,s,n,t,i,o,f,u,r,d,l;return{c(){e=_("p"),s=$("Thanks again for contacting support. While you wait, stop by our Discord server."),n=w(),t=_("div"),i=_("button"),o=_("ion-icon"),f=w(),u=_("span"),r=$("Discord"),this.h()},l(h){e=m(h,"P",{});var D=v(e);s=N(D,"Thanks again for contacting support. While you wait, stop by our Discord server."),D.forEach(a),n=I(h),t=m(h,"DIV",{class:!0});var k=v(t);i=m(k,"BUTTON",{class:!0});var O=v(i);o=m(O,"ION-ICON",{class:!0,name:!0}),v(o).forEach(a),f=I(O),u=m(O,"SPAN",{});var M=v(u);r=N(M,"Discord"),M.forEach(a),O.forEach(a),k.forEach(a),this.h()},h(){V(o,"class","icon svelte-r4jzse"),V(o,"name","logo-discord"),g(i,"class","svelte-r4jzse"),g(t,"class","action-buttons svelte-r4jzse")},m(h,D){E(h,e,D),c(e,s),E(h,n,D),E(h,t,D),c(t,i),c(i,o),c(i,f),c(i,u),c(u,r),d||(l=Q(i,"click",p[6]),d=!0)},p:B,d(h){h&&a(e),h&&a(n),h&&a(t),d=!1,l()}}}function le(p){var H,Y;let e,s,n,t,i,o,f,u,r,d,l,h,D,k,O,M,z=p[0].body+"",C,A,j=((Y=(H=p[0])==null?void 0:H.status)==null?void 0:Y.status_type)===0&&ae(p);return{c(){e=_("hr"),s=w(),n=_("div"),t=_("h2"),i=$("Your original message"),o=w(),f=_("p"),u=$(p[8]),r=w(),d=_("p"),l=_("span"),h=$(p[7]),D=$(", this is the message you sent us:"),k=w(),O=_("blockquote"),M=_("q"),C=$(z),A=w(),j&&j.c(),this.h()},l(y){e=m(y,"HR",{}),s=I(y),n=m(y,"DIV",{class:!0});var T=v(n);t=m(T,"H2",{id:!0});var L=v(t);i=N(L,"Your original message"),L.forEach(a),o=I(T),f=m(T,"P",{class:!0});var R=v(f);u=N(R,p[8]),R.forEach(a),r=I(T),d=m(T,"P",{});var q=v(d);l=m(q,"SPAN",{class:!0});var b=v(l);h=N(b,p[7]),b.forEach(a),D=N(q,", this is the message you sent us:"),q.forEach(a),k=I(T),O=m(T,"BLOCKQUOTE",{class:!0});var P=v(O);M=m(P,"Q",{class:!0});var S=v(M);C=N(S,z),S.forEach(a),P.forEach(a),A=I(T),j&&j.l(T),T.forEach(a),this.h()},h(){g(t,"id","heading-message"),g(f,"class","highlight"),g(l,"class","highlight accent"),g(M,"class","svelte-r4jzse"),g(O,"class","svelte-r4jzse"),g(n,"class","author-message svelte-r4jzse")},m(y,T){E(y,e,T),E(y,s,T),E(y,n,T),c(n,t),c(t,i),c(n,o),c(n,f),c(f,u),c(n,r),c(n,d),c(d,l),c(l,h),c(d,D),c(n,k),c(n,O),c(O,M),c(M,C),c(n,A),j&&j.m(n,null)},p(y,T){var L,R;T&1&&z!==(z=y[0].body+"")&&fe(C,z),((R=(L=y[0])==null?void 0:L.status)==null?void 0:R.status_type)===0?j?j.p(y,T):(j=ae(y),j.c(),j.m(n,null)):j&&(j.d(1),j=null)},d(y){y&&a(e),y&&a(s),y&&a(n),j&&j.d()}}}function ae(p){let e,s,n;function t(l,h){return l[2]?Te:Ie}let i=t(p),o=i(p);function f(l,h){return l[2]?Se:Oe}let u=f(p),r=u(p),d=!p[2]&&re(p);return{c(){o.c(),e=w(),s=_("div"),r.c(),n=w(),d&&d.c(),this.h()},l(l){o.l(l),e=I(l),s=m(l,"DIV",{class:!0});var h=v(s);r.l(h),n=I(h),d&&d.l(h),h.forEach(a),this.h()},h(){g(s,"class","action-buttons svelte-r4jzse")},m(l,h){o.m(l,h),E(l,e,h),E(l,s,h),r.m(s,null),c(s,n),d&&d.m(s,null)},p(l,h){i!==(i=t(l))&&(o.d(1),o=i(l),o&&(o.c(),o.m(e.parentNode,e))),u===(u=f(l))&&r?r.p(l,h):(r.d(1),r=u(l),r&&(r.c(),r.m(s,n))),l[2]?d&&(d.d(1),d=null):d?d.p(l,h):(d=re(l),d.c(),d.m(s,null))},d(l){o.d(l),l&&a(e),l&&a(s),r.d(),d&&d.d()}}}function Ie(p){let e,s;return{c(){e=_("p"),s=$("Would you like to modify your query?"),this.h()},l(n){e=m(n,"P",{class:!0});var t=v(e);s=N(t,"Would you like to modify your query?"),t.forEach(a),this.h()},h(){g(e,"class","highlight large")},m(n,t){E(n,e,t),c(e,s)},d(n){n&&a(e)}}}function Te(p){let e,s;return{c(){e=_("p"),s=$("Your message was deleted."),this.h()},l(n){e=m(n,"P",{class:!0});var t=v(e);s=N(t,"Your message was deleted."),t.forEach(a),this.h()},h(){g(e,"class","highlight large")},m(n,t){E(n,e,t),c(e,s)},d(n){n&&a(e)}}}function Oe(p){let e,s,n,t,i,o,f;return{c(){e=_("button"),s=_("ion-icon"),n=w(),t=_("span"),i=$("Edit"),this.h()},l(u){e=m(u,"BUTTON",{class:!0});var r=v(e);s=m(r,"ION-ICON",{class:!0,name:!0}),v(s).forEach(a),n=I(r),t=m(r,"SPAN",{});var d=v(t);i=N(d,"Edit"),d.forEach(a),r.forEach(a),this.h()},h(){V(s,"class","icon svelte-r4jzse"),V(s,"name","create"),g(e,"class","svelte-r4jzse")},m(u,r){E(u,e,r),c(e,s),c(e,n),c(e,t),c(t,i),o||(f=Q(e,"click",p[3]),o=!0)},p:B,d(u){u&&a(e),o=!1,f()}}}function Se(p){let e,s,n,t,i,o,f;return{c(){e=_("button"),s=_("ion-icon"),n=w(),t=_("span"),i=$("Undo"),this.h()},l(u){e=m(u,"BUTTON",{class:!0});var r=v(e);s=m(r,"ION-ICON",{class:!0,name:!0}),v(s).forEach(a),n=I(r),t=m(r,"SPAN",{});var d=v(t);i=N(d,"Undo"),d.forEach(a),r.forEach(a),this.h()},h(){V(s,"class","icon svelte-r4jzse"),V(s,"name","arrow-undo-circle-outline"),g(e,"class","svelte-r4jzse")},m(u,r){E(u,e,r),c(e,s),c(e,n),c(e,t),c(t,i),o||(f=Q(e,"click",p[3]),o=!0)},p:B,d(u){u&&a(e),o=!1,f()}}}function re(p){let e,s,n,t,i,o,f;return{c(){e=_("button"),s=_("ion-icon"),n=w(),t=_("span"),i=$("Delete"),this.h()},l(u){e=m(u,"BUTTON",{class:!0});var r=v(e);s=m(r,"ION-ICON",{class:!0,name:!0}),v(s).forEach(a),n=I(r),t=m(r,"SPAN",{});var d=v(t);i=N(d,"Delete"),d.forEach(a),r.forEach(a),this.h()},h(){V(s,"class","icon svelte-r4jzse"),V(s,"name","close-circle"),g(e,"class","alert svelte-r4jzse")},m(u,r){E(u,e,r),c(e,s),c(e,n),c(e,t),c(t,i),o||(f=Q(e,"click",p[4]),o=!0)},p:B,d(u){u&&a(e),o=!1,f()}}}function ze(p){let e,s,n,t,i,o,f,u,r,d,l,h,D,k;function O(b,P){var S,U;return((U=(S=b[0])==null?void 0:S.status)==null?void 0:U.status_type)===0?ke:ye}let M=O(p),z=M(p);const C=[De,Ee],A=[];function j(b,P){var S,U;return((U=(S=b[0])==null?void 0:S.status)==null?void 0:U.status_type)===0?0:1}u=j(p),r=A[u]=C[u](p);function H(b,P){var S,U;return((U=(S=b[0])==null?void 0:S.status)==null?void 0:U.status_type)===0?Ne:$e}let Y=H(p),y=Y(p);function T(b,P){var S,U;return((U=(S=b[0])==null?void 0:S.status)==null?void 0:U.status_type)===0?we:je}let L=T(p),R=L(p),q=typeof p[1]!="undefined"&&typeof p[1].token!="undefined"&&le(p);return{c(){e=_("section"),s=_("div"),n=_("article"),t=_("div"),z.c(),i=w(),o=_("div"),f=_("div"),r.c(),d=w(),l=_("div"),y.c(),h=w(),R.c(),D=w(),q&&q.c(),this.h()},l(b){e=m(b,"SECTION",{class:!0});var P=v(e);s=m(P,"DIV",{class:!0});var S=v(s);n=m(S,"ARTICLE",{});var U=v(n);t=m(U,"DIV",{class:!0});var ne=v(t);z.l(ne),ne.forEach(a),i=I(U),o=m(U,"DIV",{class:!0});var F=v(o);f=m(F,"DIV",{class:!0});var Z=v(f);r.l(Z),d=I(Z),l=m(Z,"DIV",{class:!0});var x=v(l);y.l(x),h=I(x),R.l(x),x.forEach(a),Z.forEach(a),D=I(F),q&&q.l(F),F.forEach(a),U.forEach(a),S.forEach(a),P.forEach(a),this.h()},h(){g(t,"class","container svelte-r4jzse"),g(l,"class","column"),g(f,"class","row"),g(o,"class","content svelte-r4jzse"),g(s,"class","content svelte-r4jzse"),g(e,"class","background")},m(b,P){E(b,e,P),c(e,s),c(s,n),c(n,t),z.m(t,null),c(n,i),c(n,o),c(o,f),A[u].m(f,null),c(f,d),c(f,l),y.m(l,null),c(l,h),R.m(l,null),c(o,D),q&&q.m(o,null),k=!0},p(b,[P]){M===(M=O(b))&&z?z.p(b,P):(z.d(1),z=M(b),z&&(z.c(),z.m(t,null)));let S=u;u=j(b),u===S?A[u].p(b,P):(de(),K(A[S],1,1,()=>{A[S]=null}),pe(),r=A[u],r?r.p(b,P):(r=A[u]=C[u](b),r.c()),X(r,1),r.m(f,d)),Y===(Y=H(b))&&y?y.p(b,P):(y.d(1),y=Y(b),y&&(y.c(),y.m(l,h))),L===(L=T(b))&&R?R.p(b,P):(R.d(1),R=L(b),R&&(R.c(),R.m(l,null))),typeof b[1]!="undefined"&&typeof b[1].token!="undefined"?q?q.p(b,P):(q=le(b),q.c(),q.m(o,null)):q&&(q.d(1),q=null)},i(b){k||(X(r),k=!0)},o(b){K(r),k=!1},d(b){b&&a(e),z.d(),A[u].d(),y.d(),R.d(),q&&q.d()}}}function qe(p,e,s){let{messageResponse:n={}}=e,t;G.subscribe(k=>{s(1,t=k)});let i=!1;const o=_e();function f(){o("onEditMessage")}function u(k){s(2,i=!0),o("onDeleteMessage")}function r(k){o("onContactSubmit")}function d(k){o("onDiscordSubmit"),typeof umami!="undefined"&&typeof umami=="function"&&umami("Discord button click")}let l=typeof t.username!="undefined"?t.username:n.name,h=typeof n.created!="undefined"?new Date(n.created).toLocaleDateString("en-us",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"}):null,D=typeof n.updated!="undefined"?new Date(n.updated).toLocaleDateString("en-us",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"}):null;return me(async()=>{t.unreadMessages>0&&o("onMessageRead")}),p.$$set=k=>{"messageResponse"in k&&s(0,n=k.messageResponse)},[n,t,i,f,u,r,d,l,h,D]}class Ce extends ie{constructor(e){super(),ce(this,e,qe,ze,ue,{messageResponse:0})}}function Ae(p){let e,s,n;return s=new Ce({props:{messageResponse:p[0]}}),s.$on("onEditMessage",p[1]),s.$on("onDeleteMessage",p[3]),s.$on("onMessageRead",p[2]),s.$on("onDiscordSubmit",Me),s.$on("onContactSubmit",p[4]),{c(){e=w(),ee(s.$$.fragment),this.h()},l(t){ge('[data-svelte="svelte-kxtkme"]',document.head).forEach(a),e=I(t),he(s.$$.fragment,t),this.h()},h(){document.title="A response from 3ee Games"},m(t,i){E(t,e,i),te(s,t,i),n=!0},p(t,[i]){const o={};i&1&&(o.messageResponse=t[0]),s.$set(o)},i(t){n||(X(s.$$.fragment,t),n=!0)},o(t){K(s.$$.fragment,t),n=!1},d(t){t&&a(e),se(s,t)}}}function Me(p){typeof umami!="undefined"&&typeof umami=="function"&&umami("Discord button click"),typeof window!="undefined"&&window.open("https://discord.gg/3ee","_blank")}function Pe(p,e,s){let n;W.subscribe(r=>{s(0,n=r)});let t;G.subscribe(r=>{t=r});function i(r){if(!n.active){let l=n;l.undo=!0,l.edit=!1,W.set(l),J("/contact");return}let d=n;d.undo=!1,d.edit=!0,W.set(d),J("/contact")}async function o(){const r={"Content-Type":"application/json","Access-Control-Allow-Origin":"https://3ee.com",Authorization:"Token "+t.token},d=`https://3ee.dev/account/contact/${n.id}/`,l=await fetch(d,{method:"PATCH",headers:r,mode:"cors",body:JSON.stringify({read:!0})});if(l.status===401){G.set({}),G.deleteLocalStorage(),J("/account/login");return}const h=await l.json();W.update(k=>h);let D=t;D.unreadMessages=D.unreadMessages-1,G.set(D)}async function f(r){const d={"Content-Type":"application/json","Access-Control-Allow-Origin":"https://3ee.com",Authorization:"Token "+t.token},l=`https://3ee.dev/account/contact/${n.id}/`,h=await fetch(l,{method:"PATCH",headers:d,mode:"cors",body:JSON.stringify({active:!1})});if(h.status===401){G.set({}),G.deleteLocalStorage(),J("/account/login");return}const D=await h.json();W.update(k=>D)}function u(r){J("/contact")}return[n,i,o,f,u]}class Ge extends ie{constructor(e){super(),ce(this,e,Pe,Ae,ue,{})}}export{Ge as default};
