import{S as R,i as x,s as ee,e as _,k as N,l as _e,c as v,a as b,d as c,m as z,b as u,g as V,E as W,t as D,h as L,X as he,F as G,G as a,N as M,H as J,V as re,O as oe,j as Ee,f as ke,P as ce,a5 as we,a2 as Ie,a3 as ve,a4 as Ae,w as te,x as se,J as ye,y as ae,q as le,o as ie,B as ne}from"../../../chunks/index-2a82a4a8.js";import{g as be}from"../../../chunks/navigation-0e6511d1.js";import{g as pe}from"../../../chunks/config-abc8f7a4.js";import{a as Z}from"../../../chunks/accountStore-3492c591.js";import"../../../chunks/singletons-d1fb5791.js";import"../../../chunks/index-16dda89e.js";function Te(i){let e,s,r,m,o,t,d,n,f,l,p,y,g,w,P,E,h,I,T,A,S,C,O,q,j,F,B,Y,H;return{c(){e=_("article"),s=_("h4"),r=D("Change Your Password"),m=N(),o=_("p"),t=D("Change your account's password."),d=N(),n=_("aside"),f=_("input"),p=N(),y=_("aside"),g=_("input"),P=N(),E=_("div"),h=_("button"),I=_("ion-icon"),T=N(),A=_("span"),S=D("Change"),C=N(),O=_("button"),q=_("ion-icon"),j=N(),F=_("span"),B=D("Cancel"),this.h()},l(k){e=v(k,"ARTICLE",{class:!0});var U=b(e);s=v(U,"H4",{class:!0});var X=b(s);r=L(X,"Change Your Password"),X.forEach(c),m=z(U),o=v(U,"P",{class:!0});var K=b(o);t=L(K,"Change your account's password."),K.forEach(c),U.forEach(c),d=z(k),n=v(k,"ASIDE",{class:!0});var Q=b(n);f=v(Q,"INPUT",{name:!0,id:!0,placeholder:!0,type:!0,class:!0}),Q.forEach(c),p=z(k),y=v(k,"ASIDE",{class:!0});var $=b(y);g=v($,"INPUT",{name:!0,id:!0,placeholder:!0,type:!0,class:!0}),$.forEach(c),P=z(k),E=v(k,"DIV",{class:!0});var de=b(E);h=v(de,"BUTTON",{class:!0});var ue=b(h);I=v(ue,"ION-ICON",{class:!0,name:!0}),b(I).forEach(c),T=z(ue),A=v(ue,"SPAN",{});var ge=b(A);S=L(ge,"Change"),ge.forEach(c),ue.forEach(c),C=z(de),O=v(de,"BUTTON",{class:!0});var fe=b(O);q=v(fe,"ION-ICON",{class:!0,name:!0}),b(q).forEach(c),j=z(fe),F=v(fe,"SPAN",{});var me=b(F);B=L(me,"Cancel"),me.forEach(c),fe.forEach(c),de.forEach(c),this.h()},h(){u(s,"class","highlight large svelte-95zq78"),u(o,"class","svelte-95zq78"),u(e,"class","main"),u(f,"name","old_password"),u(f,"id","old_password"),u(f,"placeholder","enter your old password"),u(f,"type","password"),f.required="true",u(f,"class",l=he(i[3]?"validation-error":"")+" svelte-95zq78"),u(n,"class","aside aside-1"),u(g,"name","old_password"),u(g,"id","old_password"),u(g,"placeholder","enter your new password"),u(g,"type","password"),g.required="true",u(g,"class",w=he(i[3]?"validation-error":"")+" svelte-95zq78"),u(y,"class","aside aside-2"),G(I,"class","icon svelte-95zq78"),G(I,"name",i[8]),h.disabled=i[6],u(h,"class","svelte-95zq78"),G(q,"class","icon svelte-95zq78"),G(q,"name","close-circle"),u(O,"class","alert svelte-95zq78"),u(E,"class","action-buttons svelte-95zq78")},m(k,U){V(k,e,U),a(e,s),a(s,r),a(e,m),a(e,o),a(o,t),V(k,d,U),V(k,n,U),a(n,f),M(f,i[1]),V(k,p,U),V(k,y,U),a(y,g),M(g,i[2]),V(k,P,U),V(k,E,U),a(E,h),a(h,I),a(h,T),a(h,A),a(A,S),a(E,C),a(E,O),a(O,q),a(O,j),a(O,F),a(F,B),Y||(H=[J(f,"input",i[12]),J(g,"input",i[13]),J(h,"click",re(i[9])),J(O,"click",re(i[10]))],Y=!0)},p(k,U){U&8&&l!==(l=he(k[3]?"validation-error":"")+" svelte-95zq78")&&u(f,"class",l),U&2&&f.value!==k[1]&&M(f,k[1]),U&8&&w!==(w=he(k[3]?"validation-error":"")+" svelte-95zq78")&&u(g,"class",w),U&4&&g.value!==k[2]&&M(g,k[2]),U&256&&G(I,"name",k[8]),U&64&&(h.disabled=k[6])},d(k){k&&c(e),k&&c(d),k&&c(n),k&&c(p),k&&c(y),k&&c(P),k&&c(E),Y=!1,oe(H)}}}function Pe(i){let e,s,r,m,o,t,d,n,f,l,p,y,g,w,P;return{c(){e=_("article"),s=_("h4"),r=D("Change Password"),m=N(),o=_("p"),t=D("Update your password."),d=N(),n=_("aside"),f=_("button"),l=_("ion-icon"),p=N(),y=_("span"),g=D("Change"),this.h()},l(E){e=v(E,"ARTICLE",{class:!0});var h=b(e);s=v(h,"H4",{class:!0});var I=b(s);r=L(I,"Change Password"),I.forEach(c),m=z(h),o=v(h,"P",{class:!0});var T=b(o);t=L(T,"Update your password."),T.forEach(c),h.forEach(c),d=z(E),n=v(E,"ASIDE",{class:!0});var A=b(n);f=v(A,"BUTTON",{class:!0});var S=b(f);l=v(S,"ION-ICON",{class:!0,name:!0}),b(l).forEach(c),p=z(S),y=v(S,"SPAN",{});var C=b(y);g=L(C,"Change"),C.forEach(c),S.forEach(c),A.forEach(c),this.h()},h(){u(s,"class","highlight large svelte-95zq78"),u(o,"class","svelte-95zq78"),u(e,"class","main"),G(l,"class","icon svelte-95zq78"),G(l,"name",i[8]),f.disabled=i[6],u(f,"class","svelte-95zq78"),u(n,"class","aside aside-1")},m(E,h){V(E,e,h),a(e,s),a(s,r),a(e,m),a(e,o),a(o,t),V(E,d,h),V(E,n,h),a(n,f),a(f,l),a(f,p),a(f,y),a(y,g),w||(P=J(f,"click",re(i[9])),w=!0)},p(E,h){h&256&&G(l,"name",E[8]),h&64&&(f.disabled=E[6])},d(E){E&&c(e),E&&c(d),E&&c(n),w=!1,P()}}}function Se(i){let e,s,r,m;return{c(){e=_("div"),s=_("p"),r=_("ion-icon"),m=D(`
			Your password was changed.`),this.h()},l(o){e=v(o,"DIV",{class:!0});var t=b(e);s=v(t,"P",{class:!0});var d=b(s);r=v(d,"ION-ICON",{class:!0,name:!0}),b(r).forEach(c),m=L(d,`
			Your password was changed.`),d.forEach(c),t.forEach(c),this.h()},h(){G(r,"class","icon svelte-95zq78"),G(r,"name","checkmark-circle-sharp"),u(s,"class","success svelte-95zq78"),u(e,"class","error-container")},m(o,t){V(o,e,t),a(e,s),a(s,r),a(s,m)},p:W,d(o){o&&c(e)}}}function Ce(i){let e,s,r,m,o;return{c(){e=_("div"),s=_("p"),r=_("ion-icon"),m=N(),o=D(i[4]),this.h()},l(t){e=v(t,"DIV",{class:!0});var d=b(e);s=v(d,"P",{class:!0});var n=b(s);r=v(n,"ION-ICON",{class:!0,name:!0}),b(r).forEach(c),m=z(n),o=L(n,i[4]),n.forEach(c),d.forEach(c),this.h()},h(){G(r,"class","icon svelte-95zq78"),G(r,"name","close-circle-sharp"),u(s,"class","error svelte-95zq78"),u(e,"class","error-container")},m(t,d){V(t,e,d),a(e,s),a(s,r),a(s,m),a(s,o)},p(t,d){d&16&&Ee(o,t[4])},d(t){t&&c(e)}}}function Ue(i){let e,s,r,m;function o(p,y){return p[0]?Te:Pe}let t=o(i),d=t(i);function n(p,y){if(p[3]&&!p[5])return Ce;if(!p[3]&&p[5])return Se}let f=n(i),l=f&&f(i);return{c(){e=_("div"),d.c(),r=N(),l&&l.c(),m=_e(),this.h()},l(p){e=v(p,"DIV",{class:!0});var y=b(e);d.l(y),y.forEach(c),r=z(p),l&&l.l(p),m=_e(),this.h()},h(){u(e,"class",s="option-container "+i[7]+" svelte-95zq78")},m(p,y){V(p,e,y),d.m(e,null),V(p,r,y),l&&l.m(p,y),V(p,m,y)},p(p,[y]){t===(t=o(p))&&d?d.p(p,y):(d.d(1),d=t(p),d&&(d.c(),d.m(e,null))),y&128&&s!==(s="option-container "+p[7]+" svelte-95zq78")&&u(e,"class",s),f===(f=n(p))&&l?l.p(p,y):(l&&l.d(1),l=f&&f(p),l&&(l.c(),l.m(m.parentNode,m)))},i:W,o:W,d(p){p&&c(e),d.d(),p&&c(r),l&&l.d(p),p&&c(m)}}}function Ne(i,e,s){let r,m,o,t=!1,d="",n="",f=!1,l="",p=!1,{token:y=""}=e;const g=async h=>{if(s(5,p=!1),s(3,f=!1),t&&d.length>0&&n.length>0){const I=await fetch(`${pe().serviceUrl}/account/change-password/`,{method:"PATCH",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"https://3ee.com",Authorization:"Token "+y},body:JSON.stringify({old_password:d,new_password:n})});I.status===200?(s(1,d=""),s(2,n=""),s(3,f=!1),s(5,p=!0),typeof umami!="undefined"&&umami.trackEvent("Change Password",{success:!0})):(s(3,f=!0),s(4,l=await I.json()),typeof(l==null?void 0:l.old_password)!="undefined"&&(s(4,l=l.old_password[0]),typeof umami!="undefined"&&umami.trackEvent("Change Password",{success:!1})))}f||s(0,t=!t)};function w(){s(0,t=!1)}function P(){d=this.value,s(1,d)}function E(){n=this.value,s(2,n)}return i.$$set=h=>{"token"in h&&s(11,y=h.token)},i.$$.update=()=>{i.$$.dirty&1&&s(8,r=t?"lock-open-sharp":"lock-closed-sharp"),i.$$.dirty&1&&s(7,m=t?"active":""),i.$$.dirty&7&&s(6,o=t&&d.length===0&&n.length===0||t&&d.length>0&&n.length===0||t&&d.length===0&&n.length>0?"disabled":"")},[t,d,n,f,l,p,o,m,r,g,w,y,P,E]}class ze extends R{constructor(e){super(),x(this,e,Ne,Ue,ee,{token:11})}}function Oe(i){let e,s,r,m,o,t,d,n,f,l,p,y,g,w,P,E,h,I,T,A;return{c(){e=_("div"),s=_("article"),r=_("h4"),m=D("Avatar"),o=N(),t=_("p"),d=D("Upload your avatar. "),n=_("span"),f=D("512x512 recommended size."),l=N(),p=_("input"),y=N(),g=_("aside"),w=_("button"),P=_("ion-icon"),E=N(),h=_("span"),I=D("Upload"),this.h()},l(S){e=v(S,"DIV",{class:!0});var C=b(e);s=v(C,"ARTICLE",{class:!0});var O=b(s);r=v(O,"H4",{class:!0});var q=b(r);m=L(q,"Avatar"),q.forEach(c),o=z(O),t=v(O,"P",{class:!0});var j=b(t);d=L(j,"Upload your avatar. "),n=v(j,"SPAN",{class:!0});var F=b(n);f=L(F,"512x512 recommended size."),F.forEach(c),j.forEach(c),l=z(O),p=v(O,"INPUT",{style:!0,type:!0,accept:!0}),O.forEach(c),y=z(C),g=v(C,"ASIDE",{class:!0});var B=b(g);w=v(B,"BUTTON",{});var Y=b(w);P=v(Y,"ION-ICON",{class:!0,name:!0}),b(P).forEach(c),E=z(Y),h=v(Y,"SPAN",{});var H=b(h);I=L(H,"Upload"),H.forEach(c),Y.forEach(c),B.forEach(c),C.forEach(c),this.h()},h(){u(r,"class","highlight large svelte-1kgs1ro"),u(n,"class","inset-instruction svelte-1kgs1ro"),u(t,"class","svelte-1kgs1ro"),ke(p,"display","none"),u(p,"type","file"),u(p,"accept",".jpg, .jpeg, .png, .webp, .gif"),u(s,"class","main"),G(P,"class","icon svelte-1kgs1ro"),G(P,"name","camera"),w.disabled=i[0],u(g,"class","aside aside-3"),u(e,"class","option-container svelte-1kgs1ro")},m(S,C){V(S,e,C),a(e,s),a(s,r),a(r,m),a(s,o),a(s,t),a(t,d),a(t,n),a(n,f),a(s,l),a(s,p),i[5](p),a(e,y),a(e,g),a(g,w),a(w,P),a(w,E),a(w,h),a(h,I),T||(A=[J(p,"change",i[4]),J(w,"click",re(i[2]))],T=!0)},p(S,[C]){C&1&&(w.disabled=S[0])},i:W,o:W,d(S){S&&c(e),i[5](null),T=!1,oe(A)}}}function De(i,e,s){let{isProfileImageLoading:r=!1}=e,m;const o=ce(),t=async l=>{m.click()},d=async l=>{o("onFileSelected",{file:l.target.files[0]})},n=l=>d(l);function f(l){we[l?"unshift":"push"](()=>{m=l,s(1,m)})}return i.$$set=l=>{"isProfileImageLoading"in l&&s(0,r=l.isProfileImageLoading)},[r,m,t,d,n,f]}class Le extends R{constructor(e){super(),x(this,e,De,Oe,ee,{isProfileImageLoading:0})}}function qe(i){let e,s,r,m,o,t,d,n,f,l,p,y,g,w,P;return{c(){e=_("div"),s=_("article"),r=_("h4"),m=D("Subscribe to Insight"),o=N(),t=_("p"),d=D("Exclusive monthly email about games."),n=N(),f=_("aside"),l=_("input"),p=N(),y=_("label"),g=D("subscribe to 3ee insight newsletter"),this.h()},l(E){e=v(E,"DIV",{class:!0});var h=b(e);s=v(h,"ARTICLE",{class:!0});var I=b(s);r=v(I,"H4",{class:!0});var T=b(r);m=L(T,"Subscribe to Insight"),T.forEach(c),o=z(I),t=v(I,"P",{class:!0});var A=b(t);d=L(A,"Exclusive monthly email about games."),A.forEach(c),I.forEach(c),n=z(h),f=v(h,"ASIDE",{class:!0});var S=b(f);l=v(S,"INPUT",{type:!0,id:!0,name:!0,class:!0}),p=z(S),y=v(S,"LABEL",{for:!0,class:!0});var C=b(y);g=L(C,"subscribe to 3ee insight newsletter"),C.forEach(c),S.forEach(c),h.forEach(c),this.h()},h(){u(r,"class","highlight large svelte-m2rgyt"),u(t,"class","svelte-m2rgyt"),u(s,"class","main svelte-m2rgyt"),u(l,"type","checkbox"),u(l,"id","insight_subscription"),u(l,"name","insight_subscription"),l.checked=i[1],u(l,"class","svelte-m2rgyt"),u(y,"for","insight_subscription"),u(y,"class","svelte-m2rgyt"),u(f,"class","aside aside-1 svelte-m2rgyt"),u(e,"class","option-container svelte-m2rgyt")},m(E,h){V(E,e,h),a(e,s),a(s,r),a(r,m),a(s,o),a(s,t),a(t,d),a(e,n),a(e,f),a(f,l),M(l,i[0]),a(f,p),a(f,y),a(y,g),w||(P=[J(l,"change",i[3]),J(l,"change",re(i[2]))],w=!0)},p(E,[h]){h&2&&(l.checked=E[1]),h&1&&M(l,E[0])},i:W,o:W,d(E){E&&c(e),w=!1,oe(P)}}}function je(i,e,s){const r=ce();let{subscribeInsight:m="checked"}=e,{isSubscribedToInsight:o=!0}=e;const t=async n=>{r("onUpdateSettings",{id:n.target.id,checked:n.target.checked})};function d(){o=this.value,s(0,o)}return i.$$set=n=>{"subscribeInsight"in n&&s(1,m=n.subscribeInsight),"isSubscribedToInsight"in n&&s(0,o=n.isSubscribedToInsight)},[o,m,t,d]}class Ve extends R{constructor(e){super(),x(this,e,je,qe,ee,{subscribeInsight:1,isSubscribedToInsight:0})}}function Fe(i){let e,s,r,m,o,t,d,n,f,l,p,y,g,w,P,E,h,I;return{c(){e=_("div"),s=_("article"),r=_("h4"),m=D("Allow Analytics"),o=N(),t=_("p"),d=D("Allow analytics to run.   Read more: "),n=_("a"),f=D("privacy policy"),l=D("."),p=N(),y=_("aside"),g=_("input"),w=N(),P=_("label"),E=D("subscribe to 3ee insight newsletter"),this.h()},l(T){e=v(T,"DIV",{class:!0});var A=b(e);s=v(A,"ARTICLE",{class:!0});var S=b(s);r=v(S,"H4",{class:!0});var C=b(r);m=L(C,"Allow Analytics"),C.forEach(c),o=z(S),t=v(S,"P",{class:!0});var O=b(t);d=L(O,"Allow analytics to run.   Read more: "),n=v(O,"A",{href:!0});var q=b(n);f=L(q,"privacy policy"),q.forEach(c),l=L(O,"."),O.forEach(c),S.forEach(c),p=z(A),y=v(A,"ASIDE",{class:!0});var j=b(y);g=v(j,"INPUT",{type:!0,id:!0,name:!0,class:!0}),w=z(j),P=v(j,"LABEL",{for:!0,class:!0});var F=b(P);E=L(F,"subscribe to 3ee insight newsletter"),F.forEach(c),j.forEach(c),A.forEach(c),this.h()},h(){u(r,"class","highlight large svelte-3j84y"),u(n,"href","/account/privacy/"),u(t,"class","svelte-3j84y"),u(s,"class","main svelte-3j84y"),u(g,"type","checkbox"),u(g,"id","track_google_analytics"),u(g,"name","track_google_analytics"),g.checked=i[1],u(g,"class","svelte-3j84y"),u(P,"for","track_google_analytics"),u(P,"class","svelte-3j84y"),u(y,"class","aside aside-1 svelte-3j84y"),u(e,"class","option-container svelte-3j84y")},m(T,A){V(T,e,A),a(e,s),a(s,r),a(r,m),a(s,o),a(s,t),a(t,d),a(t,n),a(n,f),a(t,l),a(e,p),a(e,y),a(y,g),M(g,i[0]),a(y,w),a(y,P),a(P,E),h||(I=[J(g,"change",i[3]),J(g,"change",re(i[2]))],h=!0)},p(T,[A]){A&2&&(g.checked=T[1]),A&1&&M(g,T[0])},i:W,o:W,d(T){T&&c(e),h=!1,oe(I)}}}function He(i,e,s){const r=ce();let{analyticsTrack:m="checked"}=e,{isTracking:o=!0}=e;const t=async n=>{r("onUpdateSettings",{id:n.target.id,checked:n.target.checked})};function d(){o=this.value,s(0,o)}return i.$$set=n=>{"analyticsTrack"in n&&s(1,m=n.analyticsTrack),"isTracking"in n&&s(0,o=n.isTracking)},[o,m,t,d]}class Be extends R{constructor(e){super(),x(this,e,He,Fe,ee,{analyticsTrack:1,isTracking:0})}}function $e(i){let e,s,r,m,o,t,d,n,f,l,p,y,g,w,P;return{c(){e=_("div"),s=_("article"),r=_("h4"),m=D("Play Website Animation"),o=N(),t=_("p"),d=D("Toggle animations on and off."),n=N(),f=_("aside"),l=_("input"),p=N(),y=_("label"),g=D("play website animations"),this.h()},l(E){e=v(E,"DIV",{class:!0});var h=b(e);s=v(h,"ARTICLE",{class:!0});var I=b(s);r=v(I,"H4",{class:!0});var T=b(r);m=L(T,"Play Website Animation"),T.forEach(c),o=z(I),t=v(I,"P",{class:!0});var A=b(t);d=L(A,"Toggle animations on and off."),A.forEach(c),I.forEach(c),n=z(h),f=v(h,"ASIDE",{class:!0});var S=b(f);l=v(S,"INPUT",{type:!0,id:!0,name:!0,class:!0}),p=z(S),y=v(S,"LABEL",{for:!0,class:!0});var C=b(y);g=L(C,"play website animations"),C.forEach(c),S.forEach(c),h.forEach(c),this.h()},h(){u(r,"class","highlight large svelte-4tn02o"),u(t,"class","svelte-4tn02o"),u(s,"class","main svelte-4tn02o"),u(l,"type","checkbox"),u(l,"id","show_website_animations"),u(l,"name","show_website_animations"),l.checked=i[1],u(l,"class","svelte-4tn02o"),u(y,"for","show_website_animations"),u(y,"class","svelte-4tn02o"),u(f,"class","aside aside-1 svelte-4tn02o"),u(e,"class","option-container svelte-4tn02o")},m(E,h){V(E,e,h),a(e,s),a(s,r),a(r,m),a(s,o),a(s,t),a(t,d),a(e,n),a(e,f),a(f,l),M(l,i[0]),a(f,p),a(f,y),a(y,g),w||(P=[J(l,"change",i[3]),J(l,"change",re(i[2]))],w=!0)},p(E,[h]){h&2&&(l.checked=E[1]),h&1&&M(l,E[0])},i:W,o:W,d(E){E&&c(e),w=!1,oe(P)}}}function Ye(i,e,s){const r=ce();let{animations:m="checked"}=e,{isAnimationsToggled:o=!0}=e;const t=async n=>{r("onUpdateSettings",{id:n.target.id,checked:n.target.checked})};function d(){o=this.value,s(0,o)}return i.$$set=n=>{"animations"in n&&s(1,m=n.animations),"isAnimationsToggled"in n&&s(0,o=n.isAnimationsToggled)},[o,m,t,d]}class Je extends R{constructor(e){super(),x(this,e,Ye,$e,ee,{animations:1,isAnimationsToggled:0})}}function Ge(i){let e,s,r,m,o,t,d,n,f,l,p,y,g,w,P,E,h,I;return{c(){e=_("div"),s=_("article"),r=_("h4"),m=D("Select a theme"),o=N(),t=_("p"),d=D("Choose a theme for your experience."),n=N(),f=_("aside"),l=_("select"),p=_("option"),y=D("Default"),g=_("option"),w=D("Spacelab"),P=_("option"),E=D("Balace"),this.h()},l(T){e=v(T,"DIV",{class:!0});var A=b(e);s=v(A,"ARTICLE",{class:!0});var S=b(s);r=v(S,"H4",{class:!0});var C=b(r);m=L(C,"Select a theme"),C.forEach(c),o=z(S),t=v(S,"P",{class:!0});var O=b(t);d=L(O,"Choose a theme for your experience."),O.forEach(c),S.forEach(c),n=z(A),f=v(A,"ASIDE",{class:!0});var q=b(f);l=v(q,"SELECT",{id:!0,class:!0});var j=b(l);p=v(j,"OPTION",{});var F=b(p);y=L(F,"Default"),F.forEach(c),g=v(j,"OPTION",{});var B=b(g);w=L(B,"Spacelab"),B.forEach(c),P=v(j,"OPTION",{});var Y=b(P);E=L(Y,"Balace"),Y.forEach(c),j.forEach(c),q.forEach(c),A.forEach(c),this.h()},h(){u(r,"class","highlight large svelte-1yszf66"),u(t,"class","svelte-1yszf66"),u(s,"class","main svelte-1yszf66"),p.__value="0",p.value=p.__value,g.__value="1",g.value=g.__value,P.__value="2",P.value=P.__value,u(l,"id","theme-selector"),u(l,"class","svelte-1yszf66"),i[0]===void 0&&Ie(()=>i[3].call(l)),u(f,"class","aside aside-1 svelte-1yszf66"),u(e,"class","option-container svelte-1yszf66")},m(T,A){V(T,e,A),a(e,s),a(s,r),a(r,m),a(s,o),a(s,t),a(t,d),a(e,n),a(e,f),a(f,l),a(l,p),a(p,y),a(l,g),a(g,w),a(l,P),a(P,E),ve(l,i[0]),h||(I=[J(l,"change",i[3]),J(l,"change",i[1])],h=!0)},p(T,[A]){A&1&&ve(l,T[0])},i:W,o:W,d(T){T&&c(e),h=!1,oe(I)}}}function We(i,e,s){let r;const m=ce();let{theme:o=0}=e;const t=async n=>{m("onUpdateSettings",{id:n.target.id,value:parseInt(n.target.value)})};function d(){r=Ae(this),s(0,r),s(2,o)}return i.$$set=n=>{"theme"in n&&s(2,o=n.theme)},i.$$.update=()=>{i.$$.dirty&4&&s(0,r=o.toString())},[r,t,o,d]}class Me extends R{constructor(e){super(),x(this,e,We,Ge,ee,{theme:2})}}function Xe(i){var Y,H;let e,s,r,m,o,t,d,n,f,l,p,y,g,w,P,E,h,I,T,A,S,C,O,q,j,F,B;return w=new Le({props:{isProfileImageLoading:i[0]}}),w.$on("onFileSelected",i[11]),w.$on("onUpdate",i[11]),w.$on("onViewAvatar",i[13]),E=new ze({props:{token:i[3]}}),I=new Me({props:{theme:(H=(Y=i[1])==null?void 0:Y.settings)==null?void 0:H.theme}}),I.$on("onUpdateSettings",i[12]),A=new Ve({props:{subscribeInsight:i[8],isSubscribedToInsight:i[5]}}),A.$on("onUpdateSettings",i[12]),C=new Be({props:{analyticsTrack:i[9],isTracking:i[6]}}),C.$on("onUpdateSettings",i[12]),q=new Je({props:{animations:i[10],isAnimationsToggled:i[7]}}),q.$on("onUpdateSettings",i[12]),{c(){e=_("div"),s=_("h1"),r=D("Your Profile"),m=N(),o=_("div"),t=_("img"),f=N(),l=_("h2"),p=D(i[4]),y=N(),g=_("form"),te(w.$$.fragment),P=N(),te(E.$$.fragment),h=N(),te(I.$$.fragment),T=N(),te(A.$$.fragment),S=N(),te(C.$$.fragment),O=N(),te(q.$$.fragment),j=N(),F=_("hr"),this.h()},l(k){e=v(k,"DIV",{class:!0});var U=b(e);s=v(U,"H1",{});var X=b(s);r=L(X,"Your Profile"),X.forEach(c),m=z(U),o=v(U,"DIV",{class:!0});var K=b(o);t=v(K,"IMG",{class:!0,src:!0,alt:!0}),K.forEach(c),f=z(U),l=v(U,"H2",{});var Q=b(l);p=L(Q,i[4]),Q.forEach(c),y=z(U),g=v(U,"FORM",{class:!0});var $=b(g);se(w.$$.fragment,$),P=z($),se(E.$$.fragment,$),h=z($),se(I.$$.fragment,$),T=z($),se(A.$$.fragment,$),S=z($),se(C.$$.fragment,$),O=z($),se(q.$$.fragment,$),$.forEach(c),U.forEach(c),j=z(k),F=v(k,"HR",{}),this.h()},h(){u(t,"class","profile-image svelte-4qvar1"),ye(t.src,d=i[2])||u(t,"src",d),u(t,"alt",n=i[1].username+" profile avatar"),u(o,"class","mask-border svelte-4qvar1"),u(g,"class","settings-form svelte-4qvar1"),u(e,"class","profile-container svelte-4qvar1")},m(k,U){V(k,e,U),a(e,s),a(s,r),a(e,m),a(e,o),a(o,t),a(e,f),a(e,l),a(l,p),a(e,y),a(e,g),ae(w,g,null),a(g,P),ae(E,g,null),a(g,h),ae(I,g,null),a(g,T),ae(A,g,null),a(g,S),ae(C,g,null),a(g,O),ae(q,g,null),V(k,j,U),V(k,F,U),B=!0},p(k,[U]){var Q,$;(!B||U&4&&!ye(t.src,d=k[2]))&&u(t,"src",d),(!B||U&2&&n!==(n=k[1].username+" profile avatar"))&&u(t,"alt",n);const X={};U&1&&(X.isProfileImageLoading=k[0]),w.$set(X);const K={};U&2&&(K.theme=($=(Q=k[1])==null?void 0:Q.settings)==null?void 0:$.theme),I.$set(K)},i(k){B||(le(w.$$.fragment,k),le(E.$$.fragment,k),le(I.$$.fragment,k),le(A.$$.fragment,k),le(C.$$.fragment,k),le(q.$$.fragment,k),B=!0)},o(k){ie(w.$$.fragment,k),ie(E.$$.fragment,k),ie(I.$$.fragment,k),ie(A.$$.fragment,k),ie(C.$$.fragment,k),ie(q.$$.fragment,k),B=!1},d(k){k&&c(e),ne(w),ne(E),ne(I),ne(A),ne(C),ne(q),k&&c(j),k&&c(F)}}}function Ke(i,e,s){var I,T,A,S,C,O,q,j,F,B,Y;let r;const m=ce();let{isProfileImageLoading:o=!1}=e,t;Z.subscribe(H=>{s(1,t=H)});const d=t.token,n=t.username;let f=!!(typeof((I=t==null?void 0:t.settings)==null?void 0:I.insight_subscription)!="undefined"&&((T=t==null?void 0:t.settings)==null?void 0:T.insight_subscription)),l=!!(typeof((A=t==null?void 0:t.settings)==null?void 0:A.track_google_analytics)!="undefined"&&((S=t==null?void 0:t.settings)==null?void 0:S.track_google_analytics)),p=!!(typeof((C=t==null?void 0:t.settings)==null?void 0:C.show_website_animations)!="undefined"&&((O=t==null?void 0:t.settings)==null?void 0:O.show_website_animations));typeof((q=t==null?void 0:t.settings)==null?void 0:q.theme)!="undefined"&&((j=t==null?void 0:t.settings)==null?void 0:j.theme)||(F=t==null?void 0:t.settings)==null||F.the;let y=f?"checked":"",g=l?"checked":"",w=p?"checked":"";typeof((B=t==null?void 0:t.profile)==null?void 0:B.useDiffusion)!="undefined"&&((Y=t==null?void 0:t.profile)==null||Y.useDiffusion);const P=async(H,k)=>{m("onFileSelected",H.detail,k)},E=async H=>{m("onUpdateSettings",H.detail)},h=async H=>{m("onViewAvatar",H.detail)};return i.$$set=H=>{"isProfileImageLoading"in H&&s(0,o=H.isProfileImageLoading)},i.$$.update=()=>{var H;i.$$.dirty&2&&s(2,r=typeof((H=t==null?void 0:t.profile)==null?void 0:H.image)!="undefined"?t.profile.image:"")},[o,t,r,d,n,f,l,p,y,g,w,P,E,h]}class Qe extends R{constructor(e){super(),x(this,e,Ke,Xe,ee,{isProfileImageLoading:0})}}function Ze(i){let e,s,r,m;return r=new Qe({props:{prompt:i[1],isProfileImageLoading:i[0]}}),r.$on("onUpdateSettings",i[3]),r.$on("onFileSelected",i[2]),{c(){e=_("section"),s=_("article"),te(r.$$.fragment),this.h()},l(o){e=v(o,"SECTION",{class:!0});var t=b(e);s=v(t,"ARTICLE",{class:!0});var d=b(s);se(r.$$.fragment,d),d.forEach(c),t.forEach(c),this.h()},h(){u(s,"class","content"),u(e,"class","background")},m(o,t){V(o,e,t),a(e,s),ae(r,s,null),m=!0},p(o,[t]){const d={};t&2&&(d.prompt=o[1]),t&1&&(d.isProfileImageLoading=o[0]),r.$set(d)},i(o){m||(le(r.$$.fragment,o),m=!0)},o(o){ie(r.$$.fragment,o),m=!1},d(o){o&&c(e),ne(r)}}}function Re(i,e,s){let r,m;Z.subscribe(h=>{m=h});let o=null,t={},d=new FormData,n=!1,f=!1,l=!0,p=0,y=!0;const g=m.token,w=async(h,I)=>{o=h.detail.file,new FileReader().readAsDataURL(o),d.append("file",o),d.append("useDiffusion",!1),P()},P=async()=>{s(0,n=!0);const h=await fetch(`${pe().serviceUrl}/account/upload/`,{method:"POST",headers:{Accept:"application/json","Access-Control-Allow-Origin":"https://3ee.com",Authorization:"Token "+g},mode:"cors",body:d});if(h.status===401){Z.set({}),Z.deleteLocalStorage(),be("/account/login");return}const I=await h.json();let T=m;T.profile.image=I.image,T.profile.imageSmall=I.imageSmall,Z.set(T),s(0,n=!1),typeof umami!="undefined"&&umami.trackEvent("Upload Avatar",{success:!0})},E=async h=>{h.detail.id==="insight_subscription"?f=h.detail.checked:h.detail.id==="track_google_analytics"?y=h.detail.checked:h.detail.id==="show_website_animations"?l=h.detail.checked:h.detail.id==="theme-selector"&&(p=h.detail.value);const I={insight_subscription:f,track_google_analytics:y,show_website_animations:l,theme:p},T=await fetch(`${pe().serviceUrl}/account/settings/`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"https://3ee.com",Authorization:"Token "+g},mode:"cors",body:JSON.stringify(I)});if(T.status===401){Z.set({}),Z.deleteLocalStorage(),be("/account/login");return}const A=await T.json();let S=m;S.settings=A,Z.set(S)};return s(1,r=t),[n,r,w,E]}class it extends R{constructor(e){super(),x(this,e,Re,Ze,ee,{})}}export{it as default};
