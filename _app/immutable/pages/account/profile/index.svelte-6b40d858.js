import{S as R,i as x,s as ee,e as v,k as U,l as _e,c as b,a as y,d as c,m as N,b as f,g as F,E as G,t as D,h as L,X as he,F as J,G as a,N as M,H as Y,V as re,O as oe,j as Ee,f as ke,P as ce,a5 as we,a2 as Ie,a3 as ve,a4 as Ae,w as te,x as se,J as be,y as ae,q as ie,o as le,B as ne}from"../../../chunks/index-2a82a4a8.js";import{g as ye}from"../../../chunks/navigation-0e6511d1.js";import{g as pe}from"../../../chunks/config-abc8f7a4.js";import{a as Z}from"../../../chunks/accountStore-3492c591.js";import"../../../chunks/singletons-d1fb5791.js";import"../../../chunks/index-16dda89e.js";function Te(l){let e,s,n,g,r,t,d,o,u,i,_,p,m,T,P,E,h,A,I,w,S,O,z,V,j,H,$,W,B;return{c(){e=v("article"),s=v("h4"),n=D("Change Your Password"),g=U(),r=v("p"),t=D("Change your account's password."),d=U(),o=v("aside"),u=v("input"),_=U(),p=v("aside"),m=v("input"),P=U(),E=v("div"),h=v("button"),A=v("ion-icon"),I=U(),w=v("span"),S=D("Change"),O=U(),z=v("button"),V=v("ion-icon"),j=U(),H=v("span"),$=D("Cancel"),this.h()},l(k){e=b(k,"ARTICLE",{class:!0});var C=y(e);s=b(C,"H4",{class:!0});var X=y(s);n=L(X,"Change Your Password"),X.forEach(c),g=N(C),r=b(C,"P",{class:!0});var K=y(r);t=L(K,"Change your account's password."),K.forEach(c),C.forEach(c),d=N(k),o=b(k,"ASIDE",{class:!0});var Q=y(o);u=b(Q,"INPUT",{name:!0,id:!0,placeholder:!0,type:!0,class:!0}),Q.forEach(c),_=N(k),p=b(k,"ASIDE",{class:!0});var q=y(p);m=b(q,"INPUT",{name:!0,id:!0,placeholder:!0,type:!0,class:!0}),q.forEach(c),P=N(k),E=b(k,"DIV",{class:!0});var de=y(E);h=b(de,"BUTTON",{class:!0});var ue=y(h);A=b(ue,"ION-ICON",{class:!0,name:!0}),y(A).forEach(c),I=N(ue),w=b(ue,"SPAN",{});var me=y(w);S=L(me,"Change"),me.forEach(c),ue.forEach(c),O=N(de),z=b(de,"BUTTON",{class:!0});var fe=y(z);V=b(fe,"ION-ICON",{class:!0,name:!0}),y(V).forEach(c),j=N(fe),H=b(fe,"SPAN",{});var ge=y(H);$=L(ge,"Cancel"),ge.forEach(c),fe.forEach(c),de.forEach(c),this.h()},h(){f(s,"class","highlight large svelte-6xib3p"),f(r,"class","svelte-6xib3p"),f(e,"class","main"),f(u,"name","old_password"),f(u,"id","old_password"),f(u,"placeholder","enter your old password"),f(u,"type","password"),u.required="true",f(u,"class",i=he(l[3]?"validation-error":"")+" svelte-6xib3p"),f(o,"class","aside aside-1"),f(m,"name","old_password"),f(m,"id","old_password"),f(m,"placeholder","enter your new password"),f(m,"type","password"),m.required="true",f(m,"class",T=he(l[3]?"validation-error":"")+" svelte-6xib3p"),f(p,"class","aside aside-2"),J(A,"class","icon svelte-6xib3p"),J(A,"name",l[8]),h.disabled=l[6],f(h,"class","svelte-6xib3p"),J(V,"class","icon svelte-6xib3p"),J(V,"name","close-circle"),f(z,"class","alert svelte-6xib3p"),f(E,"class","action-buttons svelte-6xib3p")},m(k,C){F(k,e,C),a(e,s),a(s,n),a(e,g),a(e,r),a(r,t),F(k,d,C),F(k,o,C),a(o,u),M(u,l[1]),F(k,_,C),F(k,p,C),a(p,m),M(m,l[2]),F(k,P,C),F(k,E,C),a(E,h),a(h,A),a(h,I),a(h,w),a(w,S),a(E,O),a(E,z),a(z,V),a(z,j),a(z,H),a(H,$),W||(B=[Y(u,"input",l[12]),Y(m,"input",l[13]),Y(h,"click",re(l[9])),Y(z,"click",re(l[10]))],W=!0)},p(k,C){C&8&&i!==(i=he(k[3]?"validation-error":"")+" svelte-6xib3p")&&f(u,"class",i),C&2&&u.value!==k[1]&&M(u,k[1]),C&8&&T!==(T=he(k[3]?"validation-error":"")+" svelte-6xib3p")&&f(m,"class",T),C&4&&m.value!==k[2]&&M(m,k[2]),C&256&&J(A,"name",k[8]),C&64&&(h.disabled=k[6])},d(k){k&&c(e),k&&c(d),k&&c(o),k&&c(_),k&&c(p),k&&c(P),k&&c(E),W=!1,oe(B)}}}function Pe(l){let e,s,n,g,r,t,d,o,u,i,_,p,m,T,P;return{c(){e=v("article"),s=v("h4"),n=D("Change Password"),g=U(),r=v("p"),t=D("Update your password."),d=U(),o=v("aside"),u=v("button"),i=v("ion-icon"),_=U(),p=v("span"),m=D("Change"),this.h()},l(E){e=b(E,"ARTICLE",{class:!0});var h=y(e);s=b(h,"H4",{class:!0});var A=y(s);n=L(A,"Change Password"),A.forEach(c),g=N(h),r=b(h,"P",{class:!0});var I=y(r);t=L(I,"Update your password."),I.forEach(c),h.forEach(c),d=N(E),o=b(E,"ASIDE",{class:!0});var w=y(o);u=b(w,"BUTTON",{class:!0});var S=y(u);i=b(S,"ION-ICON",{class:!0,name:!0}),y(i).forEach(c),_=N(S),p=b(S,"SPAN",{});var O=y(p);m=L(O,"Change"),O.forEach(c),S.forEach(c),w.forEach(c),this.h()},h(){f(s,"class","highlight large svelte-6xib3p"),f(r,"class","svelte-6xib3p"),f(e,"class","main"),J(i,"class","icon svelte-6xib3p"),J(i,"name",l[8]),u.disabled=l[6],f(u,"class","svelte-6xib3p"),f(o,"class","aside aside-1")},m(E,h){F(E,e,h),a(e,s),a(s,n),a(e,g),a(e,r),a(r,t),F(E,d,h),F(E,o,h),a(o,u),a(u,i),a(u,_),a(u,p),a(p,m),T||(P=Y(u,"click",re(l[9])),T=!0)},p(E,h){h&256&&J(i,"name",E[8]),h&64&&(u.disabled=E[6])},d(E){E&&c(e),E&&c(d),E&&c(o),T=!1,P()}}}function Se(l){let e,s,n,g;return{c(){e=v("div"),s=v("p"),n=v("ion-icon"),g=D(`
			Your password was changed.`),this.h()},l(r){e=b(r,"DIV",{class:!0});var t=y(e);s=b(t,"P",{class:!0});var d=y(s);n=b(d,"ION-ICON",{class:!0,name:!0}),y(n).forEach(c),g=L(d,`
			Your password was changed.`),d.forEach(c),t.forEach(c),this.h()},h(){J(n,"class","icon svelte-6xib3p"),J(n,"name","checkmark-circle-sharp"),f(s,"class","success svelte-6xib3p"),f(e,"class","error-container")},m(r,t){F(r,e,t),a(e,s),a(s,n),a(s,g)},p:G,d(r){r&&c(e)}}}function Ce(l){let e,s,n,g,r;return{c(){e=v("div"),s=v("p"),n=v("ion-icon"),g=U(),r=D(l[4]),this.h()},l(t){e=b(t,"DIV",{class:!0});var d=y(e);s=b(d,"P",{class:!0});var o=y(s);n=b(o,"ION-ICON",{class:!0,name:!0}),y(n).forEach(c),g=N(o),r=L(o,l[4]),o.forEach(c),d.forEach(c),this.h()},h(){J(n,"class","icon svelte-6xib3p"),J(n,"name","close-circle-sharp"),f(s,"class","error svelte-6xib3p"),f(e,"class","error-container")},m(t,d){F(t,e,d),a(e,s),a(s,n),a(s,g),a(s,r)},p(t,d){d&16&&Ee(r,t[4])},d(t){t&&c(e)}}}function Ue(l){let e,s,n,g;function r(_,p){return _[0]?Te:Pe}let t=r(l),d=t(l);function o(_,p){if(_[3]&&!_[5])return Ce;if(!_[3]&&_[5])return Se}let u=o(l),i=u&&u(l);return{c(){e=v("div"),d.c(),n=U(),i&&i.c(),g=_e(),this.h()},l(_){e=b(_,"DIV",{class:!0});var p=y(e);d.l(p),p.forEach(c),n=N(_),i&&i.l(_),g=_e(),this.h()},h(){f(e,"class",s="option-container "+l[7]+" svelte-6xib3p")},m(_,p){F(_,e,p),d.m(e,null),F(_,n,p),i&&i.m(_,p),F(_,g,p)},p(_,[p]){t===(t=r(_))&&d?d.p(_,p):(d.d(1),d=t(_),d&&(d.c(),d.m(e,null))),p&128&&s!==(s="option-container "+_[7]+" svelte-6xib3p")&&f(e,"class",s),u===(u=o(_))&&i?i.p(_,p):(i&&i.d(1),i=u&&u(_),i&&(i.c(),i.m(g.parentNode,g)))},i:G,o:G,d(_){_&&c(e),d.d(),_&&c(n),i&&i.d(_),_&&c(g)}}}function Ne(l,e,s){let n,g,r,t=!1,d="",o="",u=!1,i="",_=!1,{token:p=""}=e;const m=async h=>{if(s(5,_=!1),s(3,u=!1),t&&d.length>0&&o.length>0){const A=await fetch(`${pe().serviceUrl}/account/change-password/`,{method:"PATCH",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"https://3ee.com",Authorization:"Token "+p},body:JSON.stringify({old_password:d,new_password:o})});A.status===200?(s(1,d=""),s(2,o=""),s(3,u=!1),s(5,_=!0),typeof umami!="undefined"&&umami.trackEvent("Change Password",{success:!0})):(s(3,u=!0),s(4,i=await A.json()),typeof(i==null?void 0:i.old_password)!="undefined"&&(s(4,i=i.old_password[0]),typeof umami!="undefined"&&umami.trackEvent("Change Password",{success:!1})))}u||s(0,t=!t)};function T(){s(0,t=!1)}function P(){d=this.value,s(1,d)}function E(){o=this.value,s(2,o)}return l.$$set=h=>{"token"in h&&s(11,p=h.token)},l.$$.update=()=>{l.$$.dirty&1&&s(8,n=t?"lock-open-sharp":"lock-closed-sharp"),l.$$.dirty&1&&s(7,g=t?"active":""),l.$$.dirty&7&&s(6,r=t&&d.length===0&&o.length===0||t&&d.length>0&&o.length===0||t&&d.length===0&&o.length>0?"disabled":"")},[t,d,o,u,i,_,r,g,n,m,T,p,P,E]}class Oe extends R{constructor(e){super(),x(this,e,Ne,Ue,ee,{token:11})}}function De(l){let e,s,n,g,r,t,d,o,u,i,_,p,m,T,P,E,h,A;return{c(){e=v("div"),s=v("article"),n=v("h4"),g=D("Avatar"),r=U(),t=v("p"),d=D("Upload your avatar. Recommended size is 256x256 pixels."),o=U(),u=v("input"),i=U(),_=v("aside"),p=v("button"),m=v("ion-icon"),T=U(),P=v("span"),E=D("Upload"),this.h()},l(I){e=b(I,"DIV",{class:!0});var w=y(e);s=b(w,"ARTICLE",{class:!0});var S=y(s);n=b(S,"H4",{class:!0});var O=y(n);g=L(O,"Avatar"),O.forEach(c),r=N(S),t=b(S,"P",{class:!0});var z=y(t);d=L(z,"Upload your avatar. Recommended size is 256x256 pixels."),z.forEach(c),o=N(S),u=b(S,"INPUT",{style:!0,type:!0,accept:!0}),S.forEach(c),i=N(w),_=b(w,"ASIDE",{class:!0});var V=y(_);p=b(V,"BUTTON",{});var j=y(p);m=b(j,"ION-ICON",{class:!0,name:!0}),y(m).forEach(c),T=N(j),P=b(j,"SPAN",{});var H=y(P);E=L(H,"Upload"),H.forEach(c),j.forEach(c),V.forEach(c),w.forEach(c),this.h()},h(){f(n,"class","highlight large svelte-25kbvu"),f(t,"class","svelte-25kbvu"),ke(u,"display","none"),f(u,"type","file"),f(u,"accept",".jpg, .jpeg, .png, .webp, .gif"),f(s,"class","main svelte-25kbvu"),J(m,"class","icon svelte-25kbvu"),J(m,"name","camera"),p.disabled=l[0],f(_,"class","aside aside-3 svelte-25kbvu"),f(e,"class","option-container svelte-25kbvu")},m(I,w){F(I,e,w),a(e,s),a(s,n),a(n,g),a(s,r),a(s,t),a(t,d),a(s,o),a(s,u),l[5](u),a(e,i),a(e,_),a(_,p),a(p,m),a(p,T),a(p,P),a(P,E),h||(A=[Y(u,"change",l[4]),Y(p,"click",re(l[2]))],h=!0)},p(I,[w]){w&1&&(p.disabled=I[0])},i:G,o:G,d(I){I&&c(e),l[5](null),h=!1,oe(A)}}}function Le(l,e,s){let{isProfileImageLoading:n=!1}=e,g;const r=ce(),t=async i=>{g.click()},d=async i=>{r("onFileSelected",{file:i.target.files[0]})},o=i=>d(i);function u(i){we[i?"unshift":"push"](()=>{g=i,s(1,g)})}return l.$$set=i=>{"isProfileImageLoading"in i&&s(0,n=i.isProfileImageLoading)},[n,g,t,d,o,u]}class ze extends R{constructor(e){super(),x(this,e,Le,De,ee,{isProfileImageLoading:0})}}function Ve(l){let e,s,n,g,r,t,d,o,u,i,_,p,m,T,P;return{c(){e=v("div"),s=v("article"),n=v("h4"),g=D("Subscribe to Insight"),r=U(),t=v("p"),d=D("Exclusive monthly email about games."),o=U(),u=v("aside"),i=v("input"),_=U(),p=v("label"),m=D("subscribe to 3ee insight newsletter"),this.h()},l(E){e=b(E,"DIV",{class:!0});var h=y(e);s=b(h,"ARTICLE",{class:!0});var A=y(s);n=b(A,"H4",{class:!0});var I=y(n);g=L(I,"Subscribe to Insight"),I.forEach(c),r=N(A),t=b(A,"P",{class:!0});var w=y(t);d=L(w,"Exclusive monthly email about games."),w.forEach(c),A.forEach(c),o=N(h),u=b(h,"ASIDE",{class:!0});var S=y(u);i=b(S,"INPUT",{type:!0,id:!0,name:!0,class:!0}),_=N(S),p=b(S,"LABEL",{for:!0,class:!0});var O=y(p);m=L(O,"subscribe to 3ee insight newsletter"),O.forEach(c),S.forEach(c),h.forEach(c),this.h()},h(){f(n,"class","highlight large svelte-1tvmcym"),f(t,"class","svelte-1tvmcym"),f(s,"class","main svelte-1tvmcym"),f(i,"type","checkbox"),f(i,"id","insight_subscription"),f(i,"name","insight_subscription"),i.checked=l[1],f(i,"class","svelte-1tvmcym"),f(p,"for","insight_subscription"),f(p,"class","svelte-1tvmcym"),f(u,"class","aside aside-1 svelte-1tvmcym"),f(e,"class","option-container svelte-1tvmcym")},m(E,h){F(E,e,h),a(e,s),a(s,n),a(n,g),a(s,r),a(s,t),a(t,d),a(e,o),a(e,u),a(u,i),M(i,l[0]),a(u,_),a(u,p),a(p,m),T||(P=[Y(i,"change",l[3]),Y(i,"change",re(l[2]))],T=!0)},p(E,[h]){h&2&&(i.checked=E[1]),h&1&&M(i,E[0])},i:G,o:G,d(E){E&&c(e),T=!1,oe(P)}}}function je(l,e,s){const n=ce();let{subscribeInsight:g="checked"}=e,{isSubscribedToInsight:r=!0}=e;const t=async o=>{n("onUpdateSettings",{id:o.target.id,checked:o.target.checked})};function d(){r=this.value,s(0,r)}return l.$$set=o=>{"subscribeInsight"in o&&s(1,g=o.subscribeInsight),"isSubscribedToInsight"in o&&s(0,r=o.isSubscribedToInsight)},[r,g,t,d]}class Fe extends R{constructor(e){super(),x(this,e,je,Ve,ee,{subscribeInsight:1,isSubscribedToInsight:0})}}function He(l){let e,s,n,g,r,t,d,o,u,i,_,p,m,T,P,E,h,A;return{c(){e=v("div"),s=v("article"),n=v("h4"),g=D("Allow Analytics"),r=U(),t=v("p"),d=D("Allow analytics to run.   Read more: "),o=v("a"),u=D("privacy policy"),i=D("."),_=U(),p=v("aside"),m=v("input"),T=U(),P=v("label"),E=D("subscribe to 3ee insight newsletter"),this.h()},l(I){e=b(I,"DIV",{class:!0});var w=y(e);s=b(w,"ARTICLE",{class:!0});var S=y(s);n=b(S,"H4",{class:!0});var O=y(n);g=L(O,"Allow Analytics"),O.forEach(c),r=N(S),t=b(S,"P",{class:!0});var z=y(t);d=L(z,"Allow analytics to run.   Read more: "),o=b(z,"A",{href:!0});var V=y(o);u=L(V,"privacy policy"),V.forEach(c),i=L(z,"."),z.forEach(c),S.forEach(c),_=N(w),p=b(w,"ASIDE",{class:!0});var j=y(p);m=b(j,"INPUT",{type:!0,id:!0,name:!0,class:!0}),T=N(j),P=b(j,"LABEL",{for:!0,class:!0});var H=y(P);E=L(H,"subscribe to 3ee insight newsletter"),H.forEach(c),j.forEach(c),w.forEach(c),this.h()},h(){f(n,"class","highlight large svelte-1rp1z0z"),f(o,"href","/account/privacy/"),f(t,"class","svelte-1rp1z0z"),f(s,"class","main svelte-1rp1z0z"),f(m,"type","checkbox"),f(m,"id","track_google_analytics"),f(m,"name","track_google_analytics"),m.checked=l[1],f(m,"class","svelte-1rp1z0z"),f(P,"for","track_google_analytics"),f(P,"class","svelte-1rp1z0z"),f(p,"class","aside aside-1 svelte-1rp1z0z"),f(e,"class","option-container svelte-1rp1z0z")},m(I,w){F(I,e,w),a(e,s),a(s,n),a(n,g),a(s,r),a(s,t),a(t,d),a(t,o),a(o,u),a(t,i),a(e,_),a(e,p),a(p,m),M(m,l[0]),a(p,T),a(p,P),a(P,E),h||(A=[Y(m,"change",l[3]),Y(m,"change",re(l[2]))],h=!0)},p(I,[w]){w&2&&(m.checked=I[1]),w&1&&M(m,I[0])},i:G,o:G,d(I){I&&c(e),h=!1,oe(A)}}}function Be(l,e,s){const n=ce();let{analyticsTrack:g="checked"}=e,{isTracking:r=!0}=e;const t=async o=>{n("onUpdateSettings",{id:o.target.id,checked:o.target.checked})};function d(){r=this.value,s(0,r)}return l.$$set=o=>{"analyticsTrack"in o&&s(1,g=o.analyticsTrack),"isTracking"in o&&s(0,r=o.isTracking)},[r,g,t,d]}class qe extends R{constructor(e){super(),x(this,e,Be,He,ee,{analyticsTrack:1,isTracking:0})}}function $e(l){let e,s,n,g,r,t,d,o,u,i,_,p,m,T,P;return{c(){e=v("div"),s=v("article"),n=v("h4"),g=D("Play Website Animation"),r=U(),t=v("p"),d=D("Toggle animations on and off."),o=U(),u=v("aside"),i=v("input"),_=U(),p=v("label"),m=D("play website animations"),this.h()},l(E){e=b(E,"DIV",{class:!0});var h=y(e);s=b(h,"ARTICLE",{class:!0});var A=y(s);n=b(A,"H4",{class:!0});var I=y(n);g=L(I,"Play Website Animation"),I.forEach(c),r=N(A),t=b(A,"P",{class:!0});var w=y(t);d=L(w,"Toggle animations on and off."),w.forEach(c),A.forEach(c),o=N(h),u=b(h,"ASIDE",{class:!0});var S=y(u);i=b(S,"INPUT",{type:!0,id:!0,name:!0,class:!0}),_=N(S),p=b(S,"LABEL",{for:!0,class:!0});var O=y(p);m=L(O,"play website animations"),O.forEach(c),S.forEach(c),h.forEach(c),this.h()},h(){f(n,"class","highlight large svelte-mm5mlt"),f(t,"class","svelte-mm5mlt"),f(s,"class","main svelte-mm5mlt"),f(i,"type","checkbox"),f(i,"id","show_website_animations"),f(i,"name","show_website_animations"),i.checked=l[1],f(i,"class","svelte-mm5mlt"),f(p,"for","show_website_animations"),f(p,"class","svelte-mm5mlt"),f(u,"class","aside aside-1 svelte-mm5mlt"),f(e,"class","option-container svelte-mm5mlt")},m(E,h){F(E,e,h),a(e,s),a(s,n),a(n,g),a(s,r),a(s,t),a(t,d),a(e,o),a(e,u),a(u,i),M(i,l[0]),a(u,_),a(u,p),a(p,m),T||(P=[Y(i,"change",l[3]),Y(i,"change",re(l[2]))],T=!0)},p(E,[h]){h&2&&(i.checked=E[1]),h&1&&M(i,E[0])},i:G,o:G,d(E){E&&c(e),T=!1,oe(P)}}}function Ye(l,e,s){const n=ce();let{animations:g="checked"}=e,{isAnimationsToggled:r=!0}=e;const t=async o=>{n("onUpdateSettings",{id:o.target.id,checked:o.target.checked})};function d(){r=this.value,s(0,r)}return l.$$set=o=>{"animations"in o&&s(1,g=o.animations),"isAnimationsToggled"in o&&s(0,r=o.isAnimationsToggled)},[r,g,t,d]}class Je extends R{constructor(e){super(),x(this,e,Ye,$e,ee,{animations:1,isAnimationsToggled:0})}}function Ge(l){let e,s,n,g,r,t,d,o,u,i,_,p,m,T,P,E,h,A;return{c(){e=v("div"),s=v("article"),n=v("h4"),g=D("Select a theme"),r=U(),t=v("p"),d=D("Choose a theme for your experience."),o=U(),u=v("aside"),i=v("select"),_=v("option"),p=D("Default"),m=v("option"),T=D("Spacelab"),P=v("option"),E=D("Balace"),this.h()},l(I){e=b(I,"DIV",{class:!0});var w=y(e);s=b(w,"ARTICLE",{class:!0});var S=y(s);n=b(S,"H4",{class:!0});var O=y(n);g=L(O,"Select a theme"),O.forEach(c),r=N(S),t=b(S,"P",{class:!0});var z=y(t);d=L(z,"Choose a theme for your experience."),z.forEach(c),S.forEach(c),o=N(w),u=b(w,"ASIDE",{class:!0});var V=y(u);i=b(V,"SELECT",{id:!0,class:!0});var j=y(i);_=b(j,"OPTION",{});var H=y(_);p=L(H,"Default"),H.forEach(c),m=b(j,"OPTION",{});var $=y(m);T=L($,"Spacelab"),$.forEach(c),P=b(j,"OPTION",{});var W=y(P);E=L(W,"Balace"),W.forEach(c),j.forEach(c),V.forEach(c),w.forEach(c),this.h()},h(){f(n,"class","highlight large svelte-1yszf66"),f(t,"class","svelte-1yszf66"),f(s,"class","main svelte-1yszf66"),_.__value="0",_.value=_.__value,m.__value="1",m.value=m.__value,P.__value="2",P.value=P.__value,f(i,"id","theme-selector"),f(i,"class","svelte-1yszf66"),l[0]===void 0&&Ie(()=>l[3].call(i)),f(u,"class","aside aside-1 svelte-1yszf66"),f(e,"class","option-container svelte-1yszf66")},m(I,w){F(I,e,w),a(e,s),a(s,n),a(n,g),a(s,r),a(s,t),a(t,d),a(e,o),a(e,u),a(u,i),a(i,_),a(_,p),a(i,m),a(m,T),a(i,P),a(P,E),ve(i,l[0]),h||(A=[Y(i,"change",l[3]),Y(i,"change",l[1])],h=!0)},p(I,[w]){w&1&&ve(i,I[0])},i:G,o:G,d(I){I&&c(e),h=!1,oe(A)}}}function We(l,e,s){let n;const g=ce();let{theme:r=0}=e;const t=async o=>{g("onUpdateSettings",{id:o.target.id,value:parseInt(o.target.value)})};function d(){n=Ae(this),s(0,n),s(2,r)}return l.$$set=o=>{"theme"in o&&s(2,r=o.theme)},l.$$.update=()=>{l.$$.dirty&4&&s(0,n=r.toString())},[n,t,r,d]}class Me extends R{constructor(e){super(),x(this,e,We,Ge,ee,{theme:2})}}function Xe(l){var W,B;let e,s,n,g,r,t,d,o,u,i,_,p,m,T,P,E,h,A,I,w,S,O,z,V,j,H,$;return T=new ze({props:{isProfileImageLoading:l[0]}}),T.$on("onFileSelected",l[11]),T.$on("onUpdate",l[11]),T.$on("onViewAvatar",l[13]),E=new Oe({props:{token:l[3]}}),A=new Me({props:{theme:(B=(W=l[1])==null?void 0:W.settings)==null?void 0:B.theme}}),A.$on("onUpdateSettings",l[12]),w=new Fe({props:{subscribeInsight:l[8],isSubscribedToInsight:l[5]}}),w.$on("onUpdateSettings",l[12]),O=new qe({props:{analyticsTrack:l[9],isTracking:l[6]}}),O.$on("onUpdateSettings",l[12]),V=new Je({props:{animations:l[10],isAnimationsToggled:l[7]}}),V.$on("onUpdateSettings",l[12]),{c(){e=v("div"),s=v("h1"),n=D("Your Profile"),g=U(),r=v("div"),t=v("img"),u=U(),i=v("h2"),_=D(l[4]),p=U(),m=v("form"),te(T.$$.fragment),P=U(),te(E.$$.fragment),h=U(),te(A.$$.fragment),I=U(),te(w.$$.fragment),S=U(),te(O.$$.fragment),z=U(),te(V.$$.fragment),j=U(),H=v("hr"),this.h()},l(k){e=b(k,"DIV",{class:!0});var C=y(e);s=b(C,"H1",{});var X=y(s);n=L(X,"Your Profile"),X.forEach(c),g=N(C),r=b(C,"DIV",{class:!0});var K=y(r);t=b(K,"IMG",{class:!0,src:!0,alt:!0}),K.forEach(c),u=N(C),i=b(C,"H2",{});var Q=y(i);_=L(Q,l[4]),Q.forEach(c),p=N(C),m=b(C,"FORM",{class:!0});var q=y(m);se(T.$$.fragment,q),P=N(q),se(E.$$.fragment,q),h=N(q),se(A.$$.fragment,q),I=N(q),se(w.$$.fragment,q),S=N(q),se(O.$$.fragment,q),z=N(q),se(V.$$.fragment,q),q.forEach(c),C.forEach(c),j=N(k),H=b(k,"HR",{}),this.h()},h(){f(t,"class","profile-image svelte-4qvar1"),be(t.src,d=l[2])||f(t,"src",d),f(t,"alt",o=l[1].username+" profile avatar"),f(r,"class","mask-border svelte-4qvar1"),f(m,"class","settings-form svelte-4qvar1"),f(e,"class","profile-container svelte-4qvar1")},m(k,C){F(k,e,C),a(e,s),a(s,n),a(e,g),a(e,r),a(r,t),a(e,u),a(e,i),a(i,_),a(e,p),a(e,m),ae(T,m,null),a(m,P),ae(E,m,null),a(m,h),ae(A,m,null),a(m,I),ae(w,m,null),a(m,S),ae(O,m,null),a(m,z),ae(V,m,null),F(k,j,C),F(k,H,C),$=!0},p(k,[C]){var Q,q;(!$||C&4&&!be(t.src,d=k[2]))&&f(t,"src",d),(!$||C&2&&o!==(o=k[1].username+" profile avatar"))&&f(t,"alt",o);const X={};C&1&&(X.isProfileImageLoading=k[0]),T.$set(X);const K={};C&2&&(K.theme=(q=(Q=k[1])==null?void 0:Q.settings)==null?void 0:q.theme),A.$set(K)},i(k){$||(ie(T.$$.fragment,k),ie(E.$$.fragment,k),ie(A.$$.fragment,k),ie(w.$$.fragment,k),ie(O.$$.fragment,k),ie(V.$$.fragment,k),$=!0)},o(k){le(T.$$.fragment,k),le(E.$$.fragment,k),le(A.$$.fragment,k),le(w.$$.fragment,k),le(O.$$.fragment,k),le(V.$$.fragment,k),$=!1},d(k){k&&c(e),ne(T),ne(E),ne(A),ne(w),ne(O),ne(V),k&&c(j),k&&c(H)}}}function Ke(l,e,s){var A,I,w,S,O,z,V,j,H,$,W;let n;const g=ce();let{isProfileImageLoading:r=!1}=e,t;Z.subscribe(B=>{s(1,t=B)});const d=t.token,o=t.username;let u=!!(typeof((A=t==null?void 0:t.settings)==null?void 0:A.insight_subscription)!="undefined"&&((I=t==null?void 0:t.settings)==null?void 0:I.insight_subscription)),i=!!(typeof((w=t==null?void 0:t.settings)==null?void 0:w.track_google_analytics)!="undefined"&&((S=t==null?void 0:t.settings)==null?void 0:S.track_google_analytics)),_=!!(typeof((O=t==null?void 0:t.settings)==null?void 0:O.show_website_animations)!="undefined"&&((z=t==null?void 0:t.settings)==null?void 0:z.show_website_animations));typeof((V=t==null?void 0:t.settings)==null?void 0:V.theme)!="undefined"&&((j=t==null?void 0:t.settings)==null?void 0:j.theme)||(H=t==null?void 0:t.settings)==null||H.the;let p=u?"checked":"",m=i?"checked":"",T=_?"checked":"";typeof(($=t==null?void 0:t.profile)==null?void 0:$.useDiffusion)!="undefined"&&((W=t==null?void 0:t.profile)==null||W.useDiffusion);const P=async(B,k)=>{g("onFileSelected",B.detail,k)},E=async B=>{g("onUpdateSettings",B.detail)},h=async B=>{g("onViewAvatar",B.detail)};return l.$$set=B=>{"isProfileImageLoading"in B&&s(0,r=B.isProfileImageLoading)},l.$$.update=()=>{var B;l.$$.dirty&2&&s(2,n=typeof((B=t==null?void 0:t.profile)==null?void 0:B.image)!="undefined"?t.profile.image:"")},[r,t,n,d,o,u,i,_,p,m,T,P,E,h]}class Qe extends R{constructor(e){super(),x(this,e,Ke,Xe,ee,{isProfileImageLoading:0})}}function Ze(l){let e,s,n,g;return n=new Qe({props:{prompt:l[1],isProfileImageLoading:l[0]}}),n.$on("onUpdateSettings",l[3]),n.$on("onFileSelected",l[2]),{c(){e=v("section"),s=v("article"),te(n.$$.fragment),this.h()},l(r){e=b(r,"SECTION",{class:!0});var t=y(e);s=b(t,"ARTICLE",{class:!0});var d=y(s);se(n.$$.fragment,d),d.forEach(c),t.forEach(c),this.h()},h(){f(s,"class","content"),f(e,"class","background")},m(r,t){F(r,e,t),a(e,s),ae(n,s,null),g=!0},p(r,[t]){const d={};t&2&&(d.prompt=r[1]),t&1&&(d.isProfileImageLoading=r[0]),n.$set(d)},i(r){g||(ie(n.$$.fragment,r),g=!0)},o(r){le(n.$$.fragment,r),g=!1},d(r){r&&c(e),ne(n)}}}function Re(l,e,s){let n,g;Z.subscribe(h=>{g=h});let r=null,t={},d=new FormData,o=!1,u=!1,i=!0,_=0,p=!0;const m=g.token,T=async(h,A)=>{r=h.detail.file,new FileReader().readAsDataURL(r),d.append("file",r),d.append("useDiffusion",!1),P()},P=async()=>{s(0,o=!0);const h=await fetch(`${pe().serviceUrl}/account/upload/`,{method:"POST",headers:{Accept:"application/json","Access-Control-Allow-Origin":"https://3ee.com",Authorization:"Token "+m},mode:"cors",body:d});if(h.status===401){Z.set({}),Z.deleteLocalStorage(),ye("/account/login");return}const A=await h.json();let I=g;I.profile.image=A.image,I.profile.imageSmall=A.imageSmall,Z.set(I),s(0,o=!1),typeof umami!="undefined"&&umami.trackEvent("Upload Avatar",{success:!0})},E=async h=>{h.detail.id==="insight_subscription"?u=h.detail.checked:h.detail.id==="track_google_analytics"?p=h.detail.checked:h.detail.id==="show_website_animations"?i=h.detail.checked:h.detail.id==="theme-selector"&&(_=h.detail.value);const A={insight_subscription:u,track_google_analytics:p,show_website_animations:i,theme:_},I=await fetch(`${pe().serviceUrl}/account/settings/`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"https://3ee.com",Authorization:"Token "+m},mode:"cors",body:JSON.stringify(A)});if(I.status===401){Z.set({}),Z.deleteLocalStorage(),ye("/account/login");return}const w=await I.json();let S=g;S.settings=w,Z.set(S)};return s(1,n=t),[o,n,T,E]}class lt extends R{constructor(e){super(),x(this,e,Re,Ze,ee,{})}}export{lt as default};
