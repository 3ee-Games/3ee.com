import{S as M,i as K,s as Q,e as g,k as D,l as oe,c as _,a as y,d,m as O,b as h,g as V,E as B,t as z,h as H,O as ie,H as F,I as i,$ as W,J as Y,L as se,a0 as ae,j as ue,f as de,_ as ne,a1 as he,w as X,x as Z,R as ce,y as $,q as x,o as ee,B as te}from"../../../chunks/index-ed4e8f84.js";import{a as le}from"../../../chunks/accountStore-f295046e.js";import"../../../chunks/index-7c4279d2.js";function fe(u){let e,t,c,o,n,a,f,r,l,s,k,v,p,A,S,m,b,P,C,E,U,N,L;return{c(){e=g("article"),t=g("h4"),c=z("Change Your Password"),o=D(),n=g("p"),a=z("Change your account's password."),f=D(),r=g("aside"),l=g("input"),k=D(),v=g("aside"),p=g("input"),S=D(),m=g("aside"),b=g("button"),P=g("ion-icon"),C=D(),E=g("span"),U=z("Change"),this.h()},l(w){e=_(w,"ARTICLE",{class:!0});var T=y(e);t=_(T,"H4",{class:!0});var I=y(t);c=H(I,"Change Your Password"),I.forEach(d),o=O(T),n=_(T,"P",{class:!0});var j=y(n);a=H(j,"Change your account's password."),j.forEach(d),T.forEach(d),f=O(w),r=_(w,"ASIDE",{class:!0});var G=y(r);l=_(G,"INPUT",{name:!0,id:!0,placeholder:!0,type:!0,class:!0}),G.forEach(d),k=O(w),v=_(w,"ASIDE",{class:!0});var R=y(v);p=_(R,"INPUT",{name:!0,id:!0,placeholder:!0,type:!0,class:!0}),R.forEach(d),S=O(w),m=_(w,"ASIDE",{class:!0});var J=y(m);b=_(J,"BUTTON",{});var q=y(b);P=_(q,"ION-ICON",{class:!0,name:!0}),y(P).forEach(d),C=O(q),E=_(q,"SPAN",{});var re=y(E);U=H(re,"Change"),re.forEach(d),q.forEach(d),J.forEach(d),this.h()},h(){h(t,"class","highlight large svelte-10rnc7y"),h(n,"class","svelte-10rnc7y"),h(e,"class","main"),h(l,"name","old_password"),h(l,"id","old_password"),h(l,"placeholder","enter your old password"),h(l,"type","password"),l.required="true",h(l,"class",s=ie(u[3]?"validation-error":"")+" svelte-10rnc7y"),h(r,"class","aside aside-1"),h(p,"name","old_password"),h(p,"id","old_password"),h(p,"placeholder","enter your old password"),h(p,"type","password"),p.required="true",h(p,"class",A=ie(u[3]?"validation-error":"")+" svelte-10rnc7y"),h(v,"class","aside aside-2"),F(P,"class","icon svelte-10rnc7y"),F(P,"name",u[7]),b.disabled=u[6],h(m,"class","aside aside-3")},m(w,T){V(w,e,T),i(e,t),i(t,c),i(e,o),i(e,n),i(n,a),V(w,f,T),V(w,r,T),i(r,l),W(l,u[1]),V(w,k,T),V(w,v,T),i(v,p),W(p,u[2]),V(w,S,T),V(w,m,T),i(m,b),i(b,P),i(b,C),i(b,E),i(E,U),N||(L=[Y(l,"input",u[10]),Y(p,"input",u[11]),Y(b,"click",se(u[8]))],N=!0)},p(w,T){T&8&&s!==(s=ie(w[3]?"validation-error":"")+" svelte-10rnc7y")&&h(l,"class",s),T&2&&l.value!==w[1]&&W(l,w[1]),T&8&&A!==(A=ie(w[3]?"validation-error":"")+" svelte-10rnc7y")&&h(p,"class",A),T&4&&p.value!==w[2]&&W(p,w[2]),T&128&&F(P,"name",w[7]),T&64&&(b.disabled=w[6])},d(w){w&&d(e),w&&d(f),w&&d(r),w&&d(k),w&&d(v),w&&d(S),w&&d(m),N=!1,ae(L)}}}function pe(u){let e,t,c,o,n,a,f,r,l,s,k,v,p,A,S;return{c(){e=g("article"),t=g("h4"),c=z("Change Your Password"),o=D(),n=g("p"),a=z("Change your account's password."),f=D(),r=g("aside"),l=g("button"),s=g("ion-icon"),k=D(),v=g("span"),p=z("Change"),this.h()},l(m){e=_(m,"ARTICLE",{class:!0});var b=y(e);t=_(b,"H4",{class:!0});var P=y(t);c=H(P,"Change Your Password"),P.forEach(d),o=O(b),n=_(b,"P",{class:!0});var C=y(n);a=H(C,"Change your account's password."),C.forEach(d),b.forEach(d),f=O(m),r=_(m,"ASIDE",{class:!0});var E=y(r);l=_(E,"BUTTON",{});var U=y(l);s=_(U,"ION-ICON",{class:!0,name:!0}),y(s).forEach(d),k=O(U),v=_(U,"SPAN",{});var N=y(v);p=H(N,"Change"),N.forEach(d),U.forEach(d),E.forEach(d),this.h()},h(){h(t,"class","highlight large svelte-10rnc7y"),h(n,"class","svelte-10rnc7y"),h(e,"class","main"),F(s,"class","icon svelte-10rnc7y"),F(s,"name",u[7]),l.disabled=u[6],h(r,"class","aside aside-1")},m(m,b){V(m,e,b),i(e,t),i(t,c),i(e,o),i(e,n),i(n,a),V(m,f,b),V(m,r,b),i(r,l),i(l,s),i(l,k),i(l,v),i(v,p),A||(S=Y(l,"click",se(u[8])),A=!0)},p(m,b){b&128&&F(s,"name",m[7]),b&64&&(l.disabled=m[6])},d(m){m&&d(e),m&&d(f),m&&d(r),A=!1,S()}}}function ge(u){let e,t,c,o;return{c(){e=g("div"),t=g("p"),c=g("ion-icon"),o=z(`
			Your password was changed.`),this.h()},l(n){e=_(n,"DIV",{class:!0});var a=y(e);t=_(a,"P",{class:!0});var f=y(t);c=_(f,"ION-ICON",{class:!0,name:!0}),y(c).forEach(d),o=H(f,`
			Your password was changed.`),f.forEach(d),a.forEach(d),this.h()},h(){F(c,"class","icon svelte-10rnc7y"),F(c,"name","checkmark-circle-sharp"),h(t,"class","success svelte-10rnc7y"),h(e,"class","error-container")},m(n,a){V(n,e,a),i(e,t),i(t,c),i(t,o)},p:B,d(n){n&&d(e)}}}function _e(u){let e,t,c,o,n;return{c(){e=g("div"),t=g("p"),c=g("ion-icon"),o=D(),n=z(u[4]),this.h()},l(a){e=_(a,"DIV",{class:!0});var f=y(e);t=_(f,"P",{class:!0});var r=y(t);c=_(r,"ION-ICON",{class:!0,name:!0}),y(c).forEach(d),o=O(r),n=H(r,u[4]),r.forEach(d),f.forEach(d),this.h()},h(){F(c,"class","icon svelte-10rnc7y"),F(c,"name","close-circle-sharp"),h(t,"class","error svelte-10rnc7y"),h(e,"class","error-container")},m(a,f){V(a,e,f),i(e,t),i(t,c),i(t,o),i(t,n)},p(a,f){f&16&&ue(n,a[4])},d(a){a&&d(e)}}}function me(u){let e,t,c;function o(s,k){return s[0]?fe:pe}let n=o(u),a=n(u);function f(s,k){if(s[3]&&!s[5])return _e;if(!s[3]&&s[5])return ge}let r=f(u),l=r&&r(u);return{c(){e=g("div"),a.c(),t=D(),l&&l.c(),c=oe(),this.h()},l(s){e=_(s,"DIV",{class:!0});var k=y(e);a.l(k),k.forEach(d),t=O(s),l&&l.l(s),c=oe(),this.h()},h(){h(e,"class","option-container")},m(s,k){V(s,e,k),a.m(e,null),V(s,t,k),l&&l.m(s,k),V(s,c,k)},p(s,[k]){n===(n=o(s))&&a?a.p(s,k):(a.d(1),a=n(s),a&&(a.c(),a.m(e,null))),r===(r=f(s))&&l?l.p(s,k):(l&&l.d(1),l=r&&r(s),l&&(l.c(),l.m(c.parentNode,c)))},i:B,o:B,d(s){s&&d(e),a.d(),s&&d(t),l&&l.d(s),s&&d(c)}}}function ve(u,e,t){let c,o,n=!1,a="",f="",r=!1,l="",s=!1,{token:k=""}=e;const v=async S=>{if(t(5,s=!1),t(3,r=!1),n&&a.length>0&&f.length>0){const m=await fetch("https://3ee.dev/account/change-password/",{method:"PATCH",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"https://3ee.com",Authorization:"Token "+k},body:JSON.stringify({old_password:a,new_password:f})});m.status===200?(t(1,a=""),t(2,f=""),t(3,r=!1),t(5,s=!0),typeof umami!="undefined"&&umami.trackEvent("Change Password",{success:!0})):(t(3,r=!0),t(4,l=await m.json()),typeof(l==null?void 0:l.old_password)!="undefined"&&(t(4,l=l.old_password[0]),typeof umami!="undefined"&&umami.trackEvent("Change Password",{success:!1})))}r||t(0,n=!n)};function p(){a=this.value,t(1,a)}function A(){f=this.value,t(2,f)}return u.$$set=S=>{"token"in S&&t(9,k=S.token)},u.$$.update=()=>{u.$$.dirty&1&&t(7,c=n?"lock-open-sharp":"lock-closed-sharp"),u.$$.dirty&7&&t(6,o=n&&a.length===0&&f.length===0||n&&a.length>0&&f.length===0||n&&a.length===0&&f.length>0?"disabled":"")},[n,a,f,r,l,s,o,c,v,k,p,A]}class be extends M{constructor(e){super(),K(this,e,ve,me,Q,{token:9})}}function ye(u){let e,t,c,o,n,a,f,r,l,s,k,v,p,A,S,m,b,P;return{c(){e=g("div"),t=g("article"),c=g("h4"),o=z("Avatar"),n=D(),a=g("p"),f=z("Upload your avatar. Recommended size is 256x256 pixels."),r=D(),l=g("aside"),s=g("input"),k=D(),v=g("button"),p=g("ion-icon"),A=D(),S=g("span"),m=z("Upload"),this.h()},l(C){e=_(C,"DIV",{class:!0});var E=y(e);t=_(E,"ARTICLE",{class:!0});var U=y(t);c=_(U,"H4",{class:!0});var N=y(c);o=H(N,"Avatar"),N.forEach(d),n=O(U),a=_(U,"P",{class:!0});var L=y(a);f=H(L,"Upload your avatar. Recommended size is 256x256 pixels."),L.forEach(d),U.forEach(d),r=O(E),l=_(E,"ASIDE",{class:!0});var w=y(l);s=_(w,"INPUT",{style:!0,type:!0,accept:!0}),k=O(w),v=_(w,"BUTTON",{});var T=y(v);p=_(T,"ION-ICON",{class:!0,name:!0}),y(p).forEach(d),A=O(T),S=_(T,"SPAN",{});var I=y(S);m=H(I,"Upload"),I.forEach(d),T.forEach(d),w.forEach(d),E.forEach(d),this.h()},h(){h(c,"class","highlight large svelte-rrjxdk"),h(a,"class","svelte-rrjxdk"),h(t,"class","main"),de(s,"display","none"),h(s,"type","file"),h(s,"accept",".jpg, .jpeg, .png, .webp, .gif"),F(p,"class","icon svelte-rrjxdk"),F(p,"name","camera"),v.disabled=u[0],h(l,"class","aside aside-1"),h(e,"class","option-container")},m(C,E){V(C,e,E),i(e,t),i(t,c),i(c,o),i(t,n),i(t,a),i(a,f),i(e,r),i(e,l),i(l,s),u[5](s),i(l,k),i(l,v),i(v,p),i(v,A),i(v,S),i(S,m),b||(P=[Y(s,"change",u[4]),Y(v,"click",se(u[2]))],b=!0)},p(C,[E]){E&1&&(v.disabled=C[0])},i:B,o:B,d(C){C&&d(e),u[5](null),b=!1,ae(P)}}}function we(u,e,t){let c,{isProfileImageLoading:o=!1}=e;const n=ne(),a=async s=>{c.click()},f=async s=>{n("onFileSelected",{file:s.target.files[0]})},r=s=>f(s);function l(s){he[s?"unshift":"push"](()=>{c=s,t(1,c)})}return u.$$set=s=>{"isProfileImageLoading"in s&&t(0,o=s.isProfileImageLoading)},[o,c,a,f,r,l]}class ke extends M{constructor(e){super(),K(this,e,we,ye,Q,{isProfileImageLoading:0})}}function Ee(u){let e,t,c,o,n,a,f,r,l,s,k,v,p,A,S;return{c(){e=g("div"),t=g("article"),c=g("h4"),o=z("Subscribe to Insight"),n=D(),a=g("p"),f=z("Receive an exclusive monthly email about games, community events, and future plans."),r=D(),l=g("aside"),s=g("input"),k=D(),v=g("label"),p=z("subscribe to 3ee insight newsletter"),this.h()},l(m){e=_(m,"DIV",{class:!0});var b=y(e);t=_(b,"ARTICLE",{class:!0});var P=y(t);c=_(P,"H4",{class:!0});var C=y(c);o=H(C,"Subscribe to Insight"),C.forEach(d),n=O(P),a=_(P,"P",{class:!0});var E=y(a);f=H(E,"Receive an exclusive monthly email about games, community events, and future plans."),E.forEach(d),P.forEach(d),r=O(b),l=_(b,"ASIDE",{class:!0});var U=y(l);s=_(U,"INPUT",{type:!0,id:!0,name:!0,class:!0}),k=O(U),v=_(U,"LABEL",{for:!0,class:!0});var N=y(v);p=H(N,"subscribe to 3ee insight newsletter"),N.forEach(d),U.forEach(d),b.forEach(d),this.h()},h(){h(c,"class","highlight large svelte-whypk"),h(a,"class","svelte-whypk"),h(t,"class","main"),h(s,"type","checkbox"),h(s,"id","insight_subscription"),h(s,"name","insight_subscription"),s.checked=u[1],h(s,"class","svelte-whypk"),h(v,"for","insight_subscription"),h(v,"class","svelte-whypk"),h(l,"class","aside aside-1"),h(e,"class","option-container")},m(m,b){V(m,e,b),i(e,t),i(t,c),i(c,o),i(t,n),i(t,a),i(a,f),i(e,r),i(e,l),i(l,s),W(s,u[0]),i(l,k),i(l,v),i(v,p),A||(S=[Y(s,"change",u[3]),Y(s,"change",se(u[2]))],A=!0)},p(m,[b]){b&2&&(s.checked=m[1]),b&1&&W(s,m[0])},i:B,o:B,d(m){m&&d(e),A=!1,ae(S)}}}function Ie(u,e,t){const c=ne();let{subscribeInsight:o="checked"}=e,{isSubscribedToInsight:n=!0}=e;const a=async r=>{c("onUpdateSettings",{id:r.target.id,checked:r.target.checked})};function f(){n=this.value,t(0,n)}return u.$$set=r=>{"subscribeInsight"in r&&t(1,o=r.subscribeInsight),"isSubscribedToInsight"in r&&t(0,n=r.isSubscribedToInsight)},[n,o,a,f]}class Ae extends M{constructor(e){super(),K(this,e,Ie,Ee,Q,{subscribeInsight:1,isSubscribedToInsight:0})}}function Te(u){let e,t,c,o,n,a,f,r,l,s,k,v,p,A,S,m,b,P;return{c(){e=g("div"),t=g("article"),c=g("h4"),o=z("Allow Analytics"),n=D(),a=g("p"),f=z(`This setting allows analytics to run. 3ee Games uses their own software to gather information
			about this website. Read more about our `),r=g("a"),l=z("privacy policy"),s=z("."),k=D(),v=g("aside"),p=g("input"),A=D(),S=g("label"),m=z("subscribe to 3ee insight newsletter"),this.h()},l(C){e=_(C,"DIV",{class:!0});var E=y(e);t=_(E,"ARTICLE",{class:!0});var U=y(t);c=_(U,"H4",{class:!0});var N=y(c);o=H(N,"Allow Analytics"),N.forEach(d),n=O(U),a=_(U,"P",{class:!0});var L=y(a);f=H(L,`This setting allows analytics to run. 3ee Games uses their own software to gather information
			about this website. Read more about our `),r=_(L,"A",{href:!0});var w=y(r);l=H(w,"privacy policy"),w.forEach(d),s=H(L,"."),L.forEach(d),U.forEach(d),k=O(E),v=_(E,"ASIDE",{class:!0});var T=y(v);p=_(T,"INPUT",{type:!0,id:!0,name:!0,class:!0}),A=O(T),S=_(T,"LABEL",{for:!0,class:!0});var I=y(S);m=H(I,"subscribe to 3ee insight newsletter"),I.forEach(d),T.forEach(d),E.forEach(d),this.h()},h(){h(c,"class","highlight large svelte-gevm75"),h(r,"href","/account/privacy/"),h(a,"class","svelte-gevm75"),h(t,"class","main"),h(p,"type","checkbox"),h(p,"id","track_google_analytics"),h(p,"name","track_google_analytics"),p.checked=u[1],h(p,"class","svelte-gevm75"),h(S,"for","track_google_analytics"),h(S,"class","svelte-gevm75"),h(v,"class","aside aside-1"),h(e,"class","option-container")},m(C,E){V(C,e,E),i(e,t),i(t,c),i(c,o),i(t,n),i(t,a),i(a,f),i(a,r),i(r,l),i(a,s),i(e,k),i(e,v),i(v,p),W(p,u[0]),i(v,A),i(v,S),i(S,m),b||(P=[Y(p,"change",u[3]),Y(p,"change",se(u[2]))],b=!0)},p(C,[E]){E&2&&(p.checked=C[1]),E&1&&W(p,C[0])},i:B,o:B,d(C){C&&d(e),b=!1,ae(P)}}}function Pe(u,e,t){const c=ne();let{analyticsTrack:o="checked"}=e,{isTracking:n=!0}=e;const a=async r=>{c("onUpdateSettings",{id:r.target.id,checked:r.target.checked})};function f(){n=this.value,t(0,n)}return u.$$set=r=>{"analyticsTrack"in r&&t(1,o=r.analyticsTrack),"isTracking"in r&&t(0,n=r.isTracking)},[n,o,a,f]}class Se extends M{constructor(e){super(),K(this,e,Pe,Te,Q,{analyticsTrack:1,isTracking:0})}}function Ce(u){let e,t,c,o,n,a,f,r,l,s,k,v,p,A,S;return{c(){e=g("div"),t=g("article"),c=g("h4"),o=z("Play Website Animation"),n=D(),a=g("p"),f=z("This setting toggles animation within this website on and off."),r=D(),l=g("aside"),s=g("input"),k=D(),v=g("label"),p=z("play website animations"),this.h()},l(m){e=_(m,"DIV",{class:!0});var b=y(e);t=_(b,"ARTICLE",{class:!0});var P=y(t);c=_(P,"H4",{class:!0});var C=y(c);o=H(C,"Play Website Animation"),C.forEach(d),n=O(P),a=_(P,"P",{class:!0});var E=y(a);f=H(E,"This setting toggles animation within this website on and off."),E.forEach(d),P.forEach(d),r=O(b),l=_(b,"ASIDE",{class:!0});var U=y(l);s=_(U,"INPUT",{type:!0,id:!0,name:!0,class:!0}),k=O(U),v=_(U,"LABEL",{for:!0,class:!0});var N=y(v);p=H(N,"play website animations"),N.forEach(d),U.forEach(d),b.forEach(d),this.h()},h(){h(c,"class","highlight large svelte-z6849z"),h(a,"class","svelte-z6849z"),h(t,"class","main"),h(s,"type","checkbox"),h(s,"id","show_website_animations"),h(s,"name","show_website_animations"),s.checked=u[1],h(s,"class","svelte-z6849z"),h(v,"for","show_website_animations"),h(v,"class","svelte-z6849z"),h(l,"class","aside aside-1"),h(e,"class","option-container")},m(m,b){V(m,e,b),i(e,t),i(t,c),i(c,o),i(t,n),i(t,a),i(a,f),i(e,r),i(e,l),i(l,s),W(s,u[0]),i(l,k),i(l,v),i(v,p),A||(S=[Y(s,"change",u[3]),Y(s,"change",se(u[2]))],A=!0)},p(m,[b]){b&2&&(s.checked=m[1]),b&1&&W(s,m[0])},i:B,o:B,d(m){m&&d(e),A=!1,ae(S)}}}function Ue(u,e,t){const c=ne();let{animations:o="checked"}=e,{isAnimationsToggled:n=!0}=e;const a=async r=>{c("onUpdateSettings",{id:r.target.id,checked:r.target.checked})};function f(){n=this.value,t(0,n)}return u.$$set=r=>{"animations"in r&&t(1,o=r.animations),"isAnimationsToggled"in r&&t(0,n=r.isAnimationsToggled)},[n,o,a,f]}class Ne extends M{constructor(e){super(),K(this,e,Ue,Ce,Q,{animations:1,isAnimationsToggled:0})}}function De(u){let e,t,c,o,n,a,f,r,l,s,k,v,p,A,S,m,b,P,C,E,U,N,L,w,T;return A=new ke({props:{isProfileImageLoading:u[4]}}),A.$on("onFileSelected",u[11]),m=new be({props:{token:u[6]}}),P=new Ae({props:{subscribeInsight:u[8],isSubscribedToInsight:u[1]}}),P.$on("onUpdateSettings",u[12]),E=new Se({props:{analyticsTrack:u[9],isTracking:u[2]}}),E.$on("onUpdateSettings",u[12]),N=new Ne({props:{animations:u[10],isAnimationsToggled:u[3]}}),N.$on("onUpdateSettings",u[12]),{c(){e=g("div"),t=g("h1"),c=z("Your Profile"),o=D(),n=g("div"),a=g("img"),l=D(),s=g("h2"),k=z(u[7]),v=D(),p=g("form"),X(A.$$.fragment),S=D(),X(m.$$.fragment),b=D(),X(P.$$.fragment),C=D(),X(E.$$.fragment),U=D(),X(N.$$.fragment),L=D(),w=g("hr"),this.h()},l(I){e=_(I,"DIV",{class:!0});var j=y(e);t=_(j,"H1",{});var G=y(t);c=H(G,"Your Profile"),G.forEach(d),o=O(j),n=_(j,"DIV",{class:!0});var R=y(n);a=_(R,"IMG",{class:!0,src:!0,alt:!0}),R.forEach(d),l=O(j),s=_(j,"H2",{});var J=y(s);k=H(J,u[7]),J.forEach(d),v=O(j),p=_(j,"FORM",{class:!0});var q=y(p);Z(A.$$.fragment,q),S=O(q),Z(m.$$.fragment,q),b=O(q),Z(P.$$.fragment,q),C=O(q),Z(E.$$.fragment,q),U=O(q),Z(N.$$.fragment,q),q.forEach(d),j.forEach(d),L=O(I),w=_(I,"HR",{}),this.h()},h(){h(a,"class","profile-image svelte-4qvar1"),ce(a.src,f=u[5])||h(a,"src",f),h(a,"alt",r=u[0].username+" profile avatar"),h(n,"class","mask-border svelte-4qvar1"),h(p,"class","settings-form svelte-4qvar1"),h(e,"class","profile-container svelte-4qvar1")},m(I,j){V(I,e,j),i(e,t),i(t,c),i(e,o),i(e,n),i(n,a),i(e,l),i(e,s),i(s,k),i(e,v),i(e,p),$(A,p,null),i(p,S),$(m,p,null),i(p,b),$(P,p,null),i(p,C),$(E,p,null),i(p,U),$(N,p,null),V(I,L,j),V(I,w,j),T=!0},p(I,[j]){(!T||j&32&&!ce(a.src,f=I[5]))&&h(a,"src",f),(!T||j&1&&r!==(r=I[0].username+" profile avatar"))&&h(a,"alt",r);const G={};j&16&&(G.isProfileImageLoading=I[4]),A.$set(G);const R={};j&2&&(R.isSubscribedToInsight=I[1]),P.$set(R);const J={};j&4&&(J.isTracking=I[2]),E.$set(J);const q={};j&8&&(q.isAnimationsToggled=I[3]),N.$set(q)},i(I){T||(x(A.$$.fragment,I),x(m.$$.fragment,I),x(P.$$.fragment,I),x(E.$$.fragment,I),x(N.$$.fragment,I),T=!0)},o(I){ee(A.$$.fragment,I),ee(m.$$.fragment,I),ee(P.$$.fragment,I),ee(E.$$.fragment,I),ee(N.$$.fragment,I),T=!1},d(I){I&&d(e),te(A),te(m),te(P),te(E),te(N),I&&d(L),I&&d(w)}}}function Oe(u,e,t){var b,P,C,E,U,N;let c,o;le.subscribe(L=>{t(0,o=L)});const n=o.token,a=o.username;let f=!!(typeof((b=o==null?void 0:o.settings)==null?void 0:b.insight_subscription)!="undefined"&&((P=o==null?void 0:o.settings)==null?void 0:P.insight_subscription)),r=!!(typeof((C=o==null?void 0:o.settings)==null?void 0:C.track_google_analytics)!="undefined"&&((E=o==null?void 0:o.settings)==null?void 0:E.track_google_analytics)),l=!!(typeof((U=o==null?void 0:o.settings)==null?void 0:U.show_website_animations)!="undefined"&&((N=o==null?void 0:o.settings)==null?void 0:N.show_website_animations)),s=f?"checked":"",k=r?"checked":"",v=l?"checked":"",p=!1,A=null;const S=async(L,w)=>{A=L.detail.file;let T=new FileReader;T.readAsDataURL(A),T.onload=J=>{J.target.result},t(4,p=!0);let I=new FormData;I.append("file",A),I.append("name","jim");const G=await(await fetch("https://3ee.dev/account/upload/",{method:"POST",headers:{Accept:"application/json","Access-Control-Allow-Origin":"https://3ee.com",Authorization:"Token "+n},mode:"cors",body:I})).json();let R=o;R.profile.image=G.image,le.set(R),t(4,p=!1),typeof umami!="undefined"&&umami.trackEvent("Upload Avatar",{success:!0})},m=async L=>{L.detail.id==="insight_subscription"?t(1,f=L.detail.checked):L.detail.id==="track_google_analytics"?t(2,r=L.detail.checked):L.detail.id==="show_website_animations"&&t(3,l=L.detail.checked);const w={insight_subscription:f,track_google_analytics:r,show_website_animations:l},I=await(await fetch("https://3ee.dev/account/settings/",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"https://3ee.com",Authorization:"Token "+n},mode:"cors",body:JSON.stringify(w)})).json();let j=o;j.settings=I,le.set(j)};return u.$$.update=()=>{var L;u.$$.dirty&1&&t(5,c=typeof((L=o==null?void 0:o.profile)==null?void 0:L.image)!="undefined"?o.profile.image:"")},[o,f,r,l,p,c,n,a,s,k,v,S,m]}class Le extends M{constructor(e){super(),K(this,e,Oe,De,Q,{})}}function je(u){let e,t,c,o;return c=new Le({}),{c(){e=g("section"),t=g("article"),X(c.$$.fragment),this.h()},l(n){e=_(n,"SECTION",{class:!0});var a=y(e);t=_(a,"ARTICLE",{class:!0});var f=y(t);Z(c.$$.fragment,f),f.forEach(d),a.forEach(d),this.h()},h(){h(t,"class","content"),h(e,"class","background")},m(n,a){V(n,e,a),i(e,t),$(c,t,null),o=!0},p:B,i(n){o||(x(c.$$.fragment,n),o=!0)},o(n){ee(c.$$.fragment,n),o=!1},d(n){n&&d(e),te(c)}}}class qe extends M{constructor(e){super(),K(this,e,null,je,Q,{})}}export{qe as default};
