import{S as J,i as R,s as W,e as m,k as L,l as oe,c as _,a as y,d,m as D,b as u,g as z,E as B,t as O,h as j,O as ne,H as q,I as n,$,J as Y,L as ee,a0 as ae,j as de,f as ue,_ as ie,a1 as fe,w as M,x as K,R as ce,y as Q,q as X,o as Z,B as x}from"../../../chunks/index-8ca01e64.js";import{a as le}from"../../../chunks/accountStore-c3ff6133.js";import"../../../chunks/index-12b3acf3.js";function he(r){let e,s,o,p,i,t,f,c,l,a,w,b,g,T,P,h,v,A,C,E,U,N,F;return{c(){e=m("article"),s=m("h4"),o=O("Change Your Password"),p=L(),i=m("p"),t=O("Change your account's password."),f=L(),c=m("aside"),l=m("input"),w=L(),b=m("aside"),g=m("input"),P=L(),h=m("aside"),v=m("button"),A=m("ion-icon"),C=L(),E=m("span"),U=O("Change"),this.h()},l(I){e=_(I,"ARTICLE",{class:!0});var S=y(e);s=_(S,"H4",{class:!0});var k=y(s);o=j(k,"Change Your Password"),k.forEach(d),p=D(S),i=_(S,"P",{class:!0});var V=y(i);t=j(V,"Change your account's password."),V.forEach(d),S.forEach(d),f=D(I),c=_(I,"ASIDE",{class:!0});var G=y(c);l=_(G,"INPUT",{name:!0,id:!0,placeholder:!0,type:!0,class:!0}),G.forEach(d),w=D(I),b=_(I,"ASIDE",{class:!0});var te=y(b);g=_(te,"INPUT",{name:!0,id:!0,placeholder:!0,type:!0,class:!0}),te.forEach(d),P=D(I),h=_(I,"ASIDE",{class:!0});var se=y(h);v=_(se,"BUTTON",{});var H=y(v);A=_(H,"ION-ICON",{class:!0,name:!0}),y(A).forEach(d),C=D(H),E=_(H,"SPAN",{});var re=y(E);U=j(re,"Change"),re.forEach(d),H.forEach(d),se.forEach(d),this.h()},h(){u(s,"class","highlight large svelte-10rnc7y"),u(i,"class","svelte-10rnc7y"),u(e,"class","main"),u(l,"name","old_password"),u(l,"id","old_password"),u(l,"placeholder","enter your old password"),u(l,"type","password"),l.required="true",u(l,"class",a=ne(r[3]?"validation-error":"")+" svelte-10rnc7y"),u(c,"class","aside aside-1"),u(g,"name","old_password"),u(g,"id","old_password"),u(g,"placeholder","enter your old password"),u(g,"type","password"),g.required="true",u(g,"class",T=ne(r[3]?"validation-error":"")+" svelte-10rnc7y"),u(b,"class","aside aside-2"),q(A,"class","icon svelte-10rnc7y"),q(A,"name",r[7]),v.disabled=r[6],u(h,"class","aside aside-3")},m(I,S){z(I,e,S),n(e,s),n(s,o),n(e,p),n(e,i),n(i,t),z(I,f,S),z(I,c,S),n(c,l),$(l,r[1]),z(I,w,S),z(I,b,S),n(b,g),$(g,r[2]),z(I,P,S),z(I,h,S),n(h,v),n(v,A),n(v,C),n(v,E),n(E,U),N||(F=[Y(l,"input",r[10]),Y(g,"input",r[11]),Y(v,"click",ee(r[8]))],N=!0)},p(I,S){S&8&&a!==(a=ne(I[3]?"validation-error":"")+" svelte-10rnc7y")&&u(l,"class",a),S&2&&l.value!==I[1]&&$(l,I[1]),S&8&&T!==(T=ne(I[3]?"validation-error":"")+" svelte-10rnc7y")&&u(g,"class",T),S&4&&g.value!==I[2]&&$(g,I[2]),S&128&&q(A,"name",I[7]),S&64&&(v.disabled=I[6])},d(I){I&&d(e),I&&d(f),I&&d(c),I&&d(w),I&&d(b),I&&d(P),I&&d(h),N=!1,ae(F)}}}function pe(r){let e,s,o,p,i,t,f,c,l,a,w,b,g,T,P;return{c(){e=m("article"),s=m("h4"),o=O("Change Your Password"),p=L(),i=m("p"),t=O("Change your account's password."),f=L(),c=m("aside"),l=m("button"),a=m("ion-icon"),w=L(),b=m("span"),g=O("Change"),this.h()},l(h){e=_(h,"ARTICLE",{class:!0});var v=y(e);s=_(v,"H4",{class:!0});var A=y(s);o=j(A,"Change Your Password"),A.forEach(d),p=D(v),i=_(v,"P",{class:!0});var C=y(i);t=j(C,"Change your account's password."),C.forEach(d),v.forEach(d),f=D(h),c=_(h,"ASIDE",{class:!0});var E=y(c);l=_(E,"BUTTON",{});var U=y(l);a=_(U,"ION-ICON",{class:!0,name:!0}),y(a).forEach(d),w=D(U),b=_(U,"SPAN",{});var N=y(b);g=j(N,"Change"),N.forEach(d),U.forEach(d),E.forEach(d),this.h()},h(){u(s,"class","highlight large svelte-10rnc7y"),u(i,"class","svelte-10rnc7y"),u(e,"class","main"),q(a,"class","icon svelte-10rnc7y"),q(a,"name",r[7]),l.disabled=r[6],u(c,"class","aside aside-1")},m(h,v){z(h,e,v),n(e,s),n(s,o),n(e,p),n(e,i),n(i,t),z(h,f,v),z(h,c,v),n(c,l),n(l,a),n(l,w),n(l,b),n(b,g),T||(P=Y(l,"click",ee(r[8])),T=!0)},p(h,v){v&128&&q(a,"name",h[7]),v&64&&(l.disabled=h[6])},d(h){h&&d(e),h&&d(f),h&&d(c),T=!1,P()}}}function ge(r){let e,s,o,p;return{c(){e=m("div"),s=m("p"),o=m("ion-icon"),p=O(`
			Your password was changed.`),this.h()},l(i){e=_(i,"DIV",{class:!0});var t=y(e);s=_(t,"P",{class:!0});var f=y(s);o=_(f,"ION-ICON",{class:!0,name:!0}),y(o).forEach(d),p=j(f,`
			Your password was changed.`),f.forEach(d),t.forEach(d),this.h()},h(){q(o,"class","icon svelte-10rnc7y"),q(o,"name","checkmark-circle-sharp"),u(s,"class","success svelte-10rnc7y"),u(e,"class","error-container")},m(i,t){z(i,e,t),n(e,s),n(s,o),n(s,p)},p:B,d(i){i&&d(e)}}}function me(r){let e,s,o,p,i;return{c(){e=m("div"),s=m("p"),o=m("ion-icon"),p=L(),i=O(r[4]),this.h()},l(t){e=_(t,"DIV",{class:!0});var f=y(e);s=_(f,"P",{class:!0});var c=y(s);o=_(c,"ION-ICON",{class:!0,name:!0}),y(o).forEach(d),p=D(c),i=j(c,r[4]),c.forEach(d),f.forEach(d),this.h()},h(){q(o,"class","icon svelte-10rnc7y"),q(o,"name","close-circle-sharp"),u(s,"class","error svelte-10rnc7y"),u(e,"class","error-container")},m(t,f){z(t,e,f),n(e,s),n(s,o),n(s,p),n(s,i)},p(t,f){f&16&&de(i,t[4])},d(t){t&&d(e)}}}function _e(r){let e,s,o;function p(a,w){return a[0]?he:pe}let i=p(r),t=i(r);function f(a,w){if(a[3]&&!a[5])return me;if(!a[3]&&a[5])return ge}let c=f(r),l=c&&c(r);return{c(){e=m("div"),t.c(),s=L(),l&&l.c(),o=oe(),this.h()},l(a){e=_(a,"DIV",{class:!0});var w=y(e);t.l(w),w.forEach(d),s=D(a),l&&l.l(a),o=oe(),this.h()},h(){u(e,"class","option-container")},m(a,w){z(a,e,w),t.m(e,null),z(a,s,w),l&&l.m(a,w),z(a,o,w)},p(a,[w]){i===(i=p(a))&&t?t.p(a,w):(t.d(1),t=i(a),t&&(t.c(),t.m(e,null))),c===(c=f(a))&&l?l.p(a,w):(l&&l.d(1),l=c&&c(a),l&&(l.c(),l.m(o.parentNode,o)))},i:B,o:B,d(a){a&&d(e),t.d(),a&&d(s),l&&l.d(a),a&&d(o)}}}function ve(r,e,s){let o,p,i=!1,t="",f="",c=!1,l="",a=!1,{token:w=""}=e;const b=async P=>{if(s(5,a=!1),s(3,c=!1),i&&t.length>0&&f.length>0){const h=await fetch("https://3ee.dev/account/change-password/",{method:"PATCH",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"https://3ee.com",Authorization:"Token "+w},body:JSON.stringify({old_password:t,new_password:f})});h.status===200?(s(1,t=""),s(2,f=""),s(3,c=!1),s(5,a=!0),typeof umami!="undefined"&&umami.trackEvent("Change Password",{success:!0})):(s(3,c=!0),s(4,l=await h.json()),typeof(l==null?void 0:l.old_password)!="undefined"&&(s(4,l=l.old_password[0]),typeof umami!="undefined"&&umami.trackEvent("Change Password",{success:!1})))}c||s(0,i=!i)};function g(){t=this.value,s(1,t)}function T(){f=this.value,s(2,f)}return r.$$set=P=>{"token"in P&&s(9,w=P.token)},r.$$.update=()=>{r.$$.dirty&1&&s(7,o=i?"lock-open-sharp":"lock-closed-sharp"),r.$$.dirty&7&&s(6,p=i&&t.length===0&&f.length===0||i&&t.length>0&&f.length===0||i&&t.length===0&&f.length>0?"disabled":"")},[i,t,f,c,l,a,p,o,b,w,g,T]}class be extends J{constructor(e){super(),R(this,e,ve,_e,W,{token:9})}}function ye(r){let e,s,o,p,i,t,f,c,l,a,w,b,g,T,P,h,v,A;return{c(){e=m("div"),s=m("article"),o=m("h4"),p=O("Avatar"),i=L(),t=m("p"),f=O("Upload your avatar. Recommended size is 256x256 pixels."),c=L(),l=m("input"),a=L(),w=m("aside"),b=m("button"),g=m("ion-icon"),T=L(),P=m("span"),h=O("Upload"),this.h()},l(C){e=_(C,"DIV",{class:!0});var E=y(e);s=_(E,"ARTICLE",{class:!0});var U=y(s);o=_(U,"H4",{class:!0});var N=y(o);p=j(N,"Avatar"),N.forEach(d),i=D(U),t=_(U,"P",{class:!0});var F=y(t);f=j(F,"Upload your avatar. Recommended size is 256x256 pixels."),F.forEach(d),c=D(U),l=_(U,"INPUT",{style:!0,type:!0,accept:!0}),U.forEach(d),a=D(E),w=_(E,"ASIDE",{class:!0});var I=y(w);b=_(I,"BUTTON",{});var S=y(b);g=_(S,"ION-ICON",{class:!0,name:!0}),y(g).forEach(d),T=D(S),P=_(S,"SPAN",{});var k=y(P);h=j(k,"Upload"),k.forEach(d),S.forEach(d),I.forEach(d),E.forEach(d),this.h()},h(){u(o,"class","highlight large svelte-rrjxdk"),u(t,"class","svelte-rrjxdk"),ue(l,"display","none"),u(l,"type","file"),u(l,"accept",".jpg, .jpeg, .png, .webp, .gif"),u(s,"class","main"),q(g,"class","icon svelte-rrjxdk"),q(g,"name","camera"),b.disabled=r[0],u(w,"class","aside aside-3"),u(e,"class","option-container")},m(C,E){z(C,e,E),n(e,s),n(s,o),n(o,p),n(s,i),n(s,t),n(t,f),n(s,c),n(s,l),r[5](l),n(e,a),n(e,w),n(w,b),n(b,g),n(b,T),n(b,P),n(P,h),v||(A=[Y(l,"change",r[4]),Y(b,"click",ee(r[2]))],v=!0)},p(C,[E]){E&1&&(b.disabled=C[0])},i:B,o:B,d(C){C&&d(e),r[5](null),v=!1,ae(A)}}}function we(r,e,s){let{isProfileImageLoading:o=!1}=e,p;const i=ie(),t=async a=>{p.click()},f=async a=>{i("onFileSelected",{file:a.target.files[0]})},c=a=>f(a);function l(a){fe[a?"unshift":"push"](()=>{p=a,s(1,p)})}return r.$$set=a=>{"isProfileImageLoading"in a&&s(0,o=a.isProfileImageLoading)},[o,p,t,f,c,l]}class ke extends J{constructor(e){super(),R(this,e,we,ye,W,{isProfileImageLoading:0})}}function Ee(r){let e,s,o,p,i,t,f,c,l,a,w,b,g,T,P;return{c(){e=m("div"),s=m("article"),o=m("h4"),p=O("Subscribe to Insight"),i=L(),t=m("p"),f=O("Receive an exclusive monthly email about games, community events, and future plans."),c=L(),l=m("aside"),a=m("input"),w=L(),b=m("label"),g=O("subscribe to 3ee insight newsletter"),this.h()},l(h){e=_(h,"DIV",{class:!0});var v=y(e);s=_(v,"ARTICLE",{class:!0});var A=y(s);o=_(A,"H4",{class:!0});var C=y(o);p=j(C,"Subscribe to Insight"),C.forEach(d),i=D(A),t=_(A,"P",{class:!0});var E=y(t);f=j(E,"Receive an exclusive monthly email about games, community events, and future plans."),E.forEach(d),A.forEach(d),c=D(v),l=_(v,"ASIDE",{class:!0});var U=y(l);a=_(U,"INPUT",{type:!0,id:!0,name:!0,class:!0}),w=D(U),b=_(U,"LABEL",{for:!0,class:!0});var N=y(b);g=j(N,"subscribe to 3ee insight newsletter"),N.forEach(d),U.forEach(d),v.forEach(d),this.h()},h(){u(o,"class","highlight large svelte-whypk"),u(t,"class","svelte-whypk"),u(s,"class","main"),u(a,"type","checkbox"),u(a,"id","insight_subscription"),u(a,"name","insight_subscription"),a.checked=r[1],u(a,"class","svelte-whypk"),u(b,"for","insight_subscription"),u(b,"class","svelte-whypk"),u(l,"class","aside aside-1"),u(e,"class","option-container")},m(h,v){z(h,e,v),n(e,s),n(s,o),n(o,p),n(s,i),n(s,t),n(t,f),n(e,c),n(e,l),n(l,a),$(a,r[0]),n(l,w),n(l,b),n(b,g),T||(P=[Y(a,"change",r[3]),Y(a,"change",ee(r[2]))],T=!0)},p(h,[v]){v&2&&(a.checked=h[1]),v&1&&$(a,h[0])},i:B,o:B,d(h){h&&d(e),T=!1,ae(P)}}}function Ie(r,e,s){const o=ie();let{subscribeInsight:p="checked"}=e,{isSubscribedToInsight:i=!0}=e;const t=async c=>{o("onUpdateSettings",{id:c.target.id,checked:c.target.checked})};function f(){i=this.value,s(0,i)}return r.$$set=c=>{"subscribeInsight"in c&&s(1,p=c.subscribeInsight),"isSubscribedToInsight"in c&&s(0,i=c.isSubscribedToInsight)},[i,p,t,f]}class Ae extends J{constructor(e){super(),R(this,e,Ie,Ee,W,{subscribeInsight:1,isSubscribedToInsight:0})}}function Te(r){let e,s,o,p,i,t,f,c,l,a,w,b,g,T,P,h,v,A;return{c(){e=m("div"),s=m("article"),o=m("h4"),p=O("Allow Analytics"),i=L(),t=m("p"),f=O(`This setting allows analytics to run. 3ee Games uses their own software to gather information
			about this website. Read more about our `),c=m("a"),l=O("privacy policy"),a=O("."),w=L(),b=m("aside"),g=m("input"),T=L(),P=m("label"),h=O("subscribe to 3ee insight newsletter"),this.h()},l(C){e=_(C,"DIV",{class:!0});var E=y(e);s=_(E,"ARTICLE",{class:!0});var U=y(s);o=_(U,"H4",{class:!0});var N=y(o);p=j(N,"Allow Analytics"),N.forEach(d),i=D(U),t=_(U,"P",{class:!0});var F=y(t);f=j(F,`This setting allows analytics to run. 3ee Games uses their own software to gather information
			about this website. Read more about our `),c=_(F,"A",{href:!0});var I=y(c);l=j(I,"privacy policy"),I.forEach(d),a=j(F,"."),F.forEach(d),U.forEach(d),w=D(E),b=_(E,"ASIDE",{class:!0});var S=y(b);g=_(S,"INPUT",{type:!0,id:!0,name:!0,class:!0}),T=D(S),P=_(S,"LABEL",{for:!0,class:!0});var k=y(P);h=j(k,"subscribe to 3ee insight newsletter"),k.forEach(d),S.forEach(d),E.forEach(d),this.h()},h(){u(o,"class","highlight large svelte-gevm75"),u(c,"href","/account/privacy/"),u(t,"class","svelte-gevm75"),u(s,"class","main"),u(g,"type","checkbox"),u(g,"id","track_google_analytics"),u(g,"name","track_google_analytics"),g.checked=r[1],u(g,"class","svelte-gevm75"),u(P,"for","track_google_analytics"),u(P,"class","svelte-gevm75"),u(b,"class","aside aside-1"),u(e,"class","option-container")},m(C,E){z(C,e,E),n(e,s),n(s,o),n(o,p),n(s,i),n(s,t),n(t,f),n(t,c),n(c,l),n(t,a),n(e,w),n(e,b),n(b,g),$(g,r[0]),n(b,T),n(b,P),n(P,h),v||(A=[Y(g,"change",r[3]),Y(g,"change",ee(r[2]))],v=!0)},p(C,[E]){E&2&&(g.checked=C[1]),E&1&&$(g,C[0])},i:B,o:B,d(C){C&&d(e),v=!1,ae(A)}}}function Pe(r,e,s){const o=ie();let{analyticsTrack:p="checked"}=e,{isTracking:i=!0}=e;const t=async c=>{o("onUpdateSettings",{id:c.target.id,checked:c.target.checked})};function f(){i=this.value,s(0,i)}return r.$$set=c=>{"analyticsTrack"in c&&s(1,p=c.analyticsTrack),"isTracking"in c&&s(0,i=c.isTracking)},[i,p,t,f]}class Se extends J{constructor(e){super(),R(this,e,Pe,Te,W,{analyticsTrack:1,isTracking:0})}}function Ce(r){let e,s,o,p,i,t,f,c,l,a,w,b,g,T,P;return{c(){e=m("div"),s=m("article"),o=m("h4"),p=O("Play Website Animation"),i=L(),t=m("p"),f=O("This setting toggles animation within this website on and off."),c=L(),l=m("aside"),a=m("input"),w=L(),b=m("label"),g=O("play website animations"),this.h()},l(h){e=_(h,"DIV",{class:!0});var v=y(e);s=_(v,"ARTICLE",{class:!0});var A=y(s);o=_(A,"H4",{class:!0});var C=y(o);p=j(C,"Play Website Animation"),C.forEach(d),i=D(A),t=_(A,"P",{class:!0});var E=y(t);f=j(E,"This setting toggles animation within this website on and off."),E.forEach(d),A.forEach(d),c=D(v),l=_(v,"ASIDE",{class:!0});var U=y(l);a=_(U,"INPUT",{type:!0,id:!0,name:!0,class:!0}),w=D(U),b=_(U,"LABEL",{for:!0,class:!0});var N=y(b);g=j(N,"play website animations"),N.forEach(d),U.forEach(d),v.forEach(d),this.h()},h(){u(o,"class","highlight large svelte-z6849z"),u(t,"class","svelte-z6849z"),u(s,"class","main"),u(a,"type","checkbox"),u(a,"id","show_website_animations"),u(a,"name","show_website_animations"),a.checked=r[1],u(a,"class","svelte-z6849z"),u(b,"for","show_website_animations"),u(b,"class","svelte-z6849z"),u(l,"class","aside aside-1"),u(e,"class","option-container")},m(h,v){z(h,e,v),n(e,s),n(s,o),n(o,p),n(s,i),n(s,t),n(t,f),n(e,c),n(e,l),n(l,a),$(a,r[0]),n(l,w),n(l,b),n(b,g),T||(P=[Y(a,"change",r[3]),Y(a,"change",ee(r[2]))],T=!0)},p(h,[v]){v&2&&(a.checked=h[1]),v&1&&$(a,h[0])},i:B,o:B,d(h){h&&d(e),T=!1,ae(P)}}}function Ue(r,e,s){const o=ie();let{animations:p="checked"}=e,{isAnimationsToggled:i=!0}=e;const t=async c=>{o("onUpdateSettings",{id:c.target.id,checked:c.target.checked})};function f(){i=this.value,s(0,i)}return r.$$set=c=>{"animations"in c&&s(1,p=c.animations),"isAnimationsToggled"in c&&s(0,i=c.isAnimationsToggled)},[i,p,t,f]}class Le extends J{constructor(e){super(),R(this,e,Ue,Ce,W,{animations:1,isAnimationsToggled:0})}}function De(r){let e,s,o,p,i,t,f,c,l,a,w,b,g,T,P,h,v,A,C,E,U,N,F,I,S;return T=new ke({props:{isProfileImageLoading:r[0]}}),T.$on("onFileSelected",r[11]),T.$on("onUpdate",r[11]),T.$on("onViewAvatar",r[13]),h=new be({props:{token:r[3]}}),A=new Ae({props:{subscribeInsight:r[8],isSubscribedToInsight:r[5]}}),A.$on("onUpdateSettings",r[12]),E=new Se({props:{analyticsTrack:r[9],isTracking:r[6]}}),E.$on("onUpdateSettings",r[12]),N=new Le({props:{animations:r[10],isAnimationsToggled:r[7]}}),N.$on("onUpdateSettings",r[12]),{c(){e=m("div"),s=m("h1"),o=O("Your Profile"),p=L(),i=m("div"),t=m("img"),l=L(),a=m("h2"),w=O(r[4]),b=L(),g=m("form"),M(T.$$.fragment),P=L(),M(h.$$.fragment),v=L(),M(A.$$.fragment),C=L(),M(E.$$.fragment),U=L(),M(N.$$.fragment),F=L(),I=m("hr"),this.h()},l(k){e=_(k,"DIV",{class:!0});var V=y(e);s=_(V,"H1",{});var G=y(s);o=j(G,"Your Profile"),G.forEach(d),p=D(V),i=_(V,"DIV",{class:!0});var te=y(i);t=_(te,"IMG",{class:!0,src:!0,alt:!0}),te.forEach(d),l=D(V),a=_(V,"H2",{});var se=y(a);w=j(se,r[4]),se.forEach(d),b=D(V),g=_(V,"FORM",{class:!0});var H=y(g);K(T.$$.fragment,H),P=D(H),K(h.$$.fragment,H),v=D(H),K(A.$$.fragment,H),C=D(H),K(E.$$.fragment,H),U=D(H),K(N.$$.fragment,H),H.forEach(d),V.forEach(d),F=D(k),I=_(k,"HR",{}),this.h()},h(){u(t,"class","profile-image svelte-4qvar1"),ce(t.src,f=r[2])||u(t,"src",f),u(t,"alt",c=r[1].username+" profile avatar"),u(i,"class","mask-border svelte-4qvar1"),u(g,"class","settings-form svelte-4qvar1"),u(e,"class","profile-container svelte-4qvar1")},m(k,V){z(k,e,V),n(e,s),n(s,o),n(e,p),n(e,i),n(i,t),n(e,l),n(e,a),n(a,w),n(e,b),n(e,g),Q(T,g,null),n(g,P),Q(h,g,null),n(g,v),Q(A,g,null),n(g,C),Q(E,g,null),n(g,U),Q(N,g,null),z(k,F,V),z(k,I,V),S=!0},p(k,[V]){(!S||V&4&&!ce(t.src,f=k[2]))&&u(t,"src",f),(!S||V&2&&c!==(c=k[1].username+" profile avatar"))&&u(t,"alt",c);const G={};V&1&&(G.isProfileImageLoading=k[0]),T.$set(G)},i(k){S||(X(T.$$.fragment,k),X(h.$$.fragment,k),X(A.$$.fragment,k),X(E.$$.fragment,k),X(N.$$.fragment,k),S=!0)},o(k){Z(T.$$.fragment,k),Z(h.$$.fragment,k),Z(A.$$.fragment,k),Z(E.$$.fragment,k),Z(N.$$.fragment,k),S=!1},d(k){k&&d(e),x(T),x(h),x(A),x(E),x(N),k&&d(F),k&&d(I)}}}function Ne(r,e,s){var A,C,E,U,N,F,I,S;let o;const p=ie();let{isProfileImageLoading:i=!1}=e,t;le.subscribe(k=>{s(1,t=k)});const f=t.token,c=t.username;let l=!!(typeof((A=t==null?void 0:t.settings)==null?void 0:A.insight_subscription)!="undefined"&&((C=t==null?void 0:t.settings)==null?void 0:C.insight_subscription)),a=!!(typeof((E=t==null?void 0:t.settings)==null?void 0:E.track_google_analytics)!="undefined"&&((U=t==null?void 0:t.settings)==null?void 0:U.track_google_analytics)),w=!!(typeof((N=t==null?void 0:t.settings)==null?void 0:N.show_website_animations)!="undefined"&&((F=t==null?void 0:t.settings)==null?void 0:F.show_website_animations)),b=l?"checked":"",g=a?"checked":"",T=w?"checked":"";typeof((I=t==null?void 0:t.profile)==null?void 0:I.useDiffusion)!="undefined"&&((S=t==null?void 0:t.profile)==null||S.useDiffusion);const P=async(k,V)=>{p("onFileSelected",k.detail,V)},h=async k=>{p("onUpdateSettings",k.detail)},v=async k=>{p("onViewAvatar",k.detail)};return r.$$set=k=>{"isProfileImageLoading"in k&&s(0,i=k.isProfileImageLoading)},r.$$.update=()=>{var k;r.$$.dirty&2&&s(2,o=typeof((k=t==null?void 0:t.profile)==null?void 0:k.image)!="undefined"?t.profile.image:"")},[i,t,o,f,c,l,a,w,b,g,T,P,h,v]}class Oe extends J{constructor(e){super(),R(this,e,Ne,De,W,{isProfileImageLoading:0})}}function je(r){let e,s,o,p;return o=new Oe({props:{prompt:r[1],isProfileImageLoading:r[0]}}),o.$on("onUpdateSettings",r[3]),o.$on("onFileSelected",r[2]),{c(){e=m("section"),s=m("article"),M(o.$$.fragment),this.h()},l(i){e=_(i,"SECTION",{class:!0});var t=y(e);s=_(t,"ARTICLE",{class:!0});var f=y(s);K(o.$$.fragment,f),f.forEach(d),t.forEach(d),this.h()},h(){u(s,"class","content"),u(e,"class","background")},m(i,t){z(i,e,t),n(e,s),Q(o,s,null),p=!0},p(i,[t]){const f={};t&2&&(f.prompt=i[1]),t&1&&(f.isProfileImageLoading=i[0]),o.$set(f)},i(i){p||(X(o.$$.fragment,i),p=!0)},o(i){Z(o.$$.fragment,i),p=!1},d(i){i&&d(e),x(o)}}}function ze(r,e,s){let o,p;le.subscribe(h=>{p=h});let i=null,t={},f=new FormData,c=!1,l=!1,a=!0,w=!0;const b=p.token,g=async(h,v)=>{i=h.detail.file,new FileReader().readAsDataURL(i),f.append("file",i),f.append("useDiffusion",!1),T()},T=async()=>{s(0,c=!0);const v=await(await fetch("https://3ee.dev/account/upload/",{method:"POST",headers:{Accept:"application/json","Access-Control-Allow-Origin":"https://3ee.com",Authorization:"Token "+b},mode:"cors",body:f})).json();let A=p;A.profile.image=v.image,le.set(A),s(0,c=!1),typeof umami!="undefined"&&umami.trackEvent("Upload Avatar",{success:!0})},P=async h=>{h.detail.id==="insight_subscription"?l=h.detail.checked:h.detail.id==="track_google_analytics"?w=h.detail.checked:h.detail.id==="show_website_animations"&&(a=h.detail.checked);const v={insight_subscription:l,track_google_analytics:w,show_website_animations:a},C=await(await fetch("https://3ee.dev/account/settings/",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"https://3ee.com",Authorization:"Token "+b},mode:"cors",body:JSON.stringify(v)})).json();let E=p;E.settings=C,le.set(E)};return s(1,o=t),[c,o,g,P]}class qe extends J{constructor(e){super(),R(this,e,ze,je,W,{})}}export{qe as default};
