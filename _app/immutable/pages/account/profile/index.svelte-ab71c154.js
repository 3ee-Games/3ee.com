import{S as W,i as G,s as M,e as g,k as j,l as oe,c as _,a as k,d as u,m as L,b as d,g as z,E as Y,t as N,h as O,O as le,H as q,I as l,a0 as $,J as B,L as ee,a1 as ae,j as ue,f as de,$ as ie,a2 as fe,w as K,x as Q,R as ce,y as R,q as X,o as Z,B as x}from"../../../chunks/index-6547a409.js";import{a as ne}from"../../../chunks/accountStore-1dd3d591.js";import"../../../chunks/index-3162ae0e.js";function he(r){let e,s,o,p,i,t,f,c,n,a,y,b,m,T,P,h,v,A,U,E,C,D,F;return{c(){e=g("article"),s=g("h4"),o=N("Change Your Password"),p=j(),i=g("p"),t=N("Change your account's password."),f=j(),c=g("aside"),n=g("input"),y=j(),b=g("aside"),m=g("input"),P=j(),h=g("aside"),v=g("button"),A=g("ion-icon"),U=j(),E=g("span"),C=N("Change"),this.h()},l(I){e=_(I,"ARTICLE",{class:!0});var S=k(e);s=_(S,"H4",{class:!0});var w=k(s);o=O(w,"Change Your Password"),w.forEach(u),p=L(S),i=_(S,"P",{class:!0});var V=k(i);t=O(V,"Change your account's password."),V.forEach(u),S.forEach(u),f=L(I),c=_(I,"ASIDE",{class:!0});var J=k(c);n=_(J,"INPUT",{name:!0,id:!0,placeholder:!0,type:!0,class:!0}),J.forEach(u),y=L(I),b=_(I,"ASIDE",{class:!0});var te=k(b);m=_(te,"INPUT",{name:!0,id:!0,placeholder:!0,type:!0,class:!0}),te.forEach(u),P=L(I),h=_(I,"ASIDE",{class:!0});var se=k(h);v=_(se,"BUTTON",{});var H=k(v);A=_(H,"ION-ICON",{class:!0,name:!0}),k(A).forEach(u),U=L(H),E=_(H,"SPAN",{});var re=k(E);C=O(re,"Change"),re.forEach(u),H.forEach(u),se.forEach(u),this.h()},h(){d(s,"class","highlight large svelte-ik6ju4"),d(i,"class","svelte-ik6ju4"),d(e,"class","main svelte-ik6ju4"),d(n,"name","old_password"),d(n,"id","old_password"),d(n,"placeholder","enter your old password"),d(n,"type","password"),n.required="true",d(n,"class",a=le(r[3]?"validation-error":"")+" svelte-ik6ju4"),d(c,"class","aside aside-1 svelte-ik6ju4"),d(m,"name","old_password"),d(m,"id","old_password"),d(m,"placeholder","enter your old password"),d(m,"type","password"),m.required="true",d(m,"class",T=le(r[3]?"validation-error":"")+" svelte-ik6ju4"),d(b,"class","aside aside-2 svelte-ik6ju4"),q(A,"class","icon svelte-ik6ju4"),q(A,"name",r[7]),v.disabled=r[6],d(h,"class","aside aside-3 svelte-ik6ju4")},m(I,S){z(I,e,S),l(e,s),l(s,o),l(e,p),l(e,i),l(i,t),z(I,f,S),z(I,c,S),l(c,n),$(n,r[1]),z(I,y,S),z(I,b,S),l(b,m),$(m,r[2]),z(I,P,S),z(I,h,S),l(h,v),l(v,A),l(v,U),l(v,E),l(E,C),D||(F=[B(n,"input",r[10]),B(m,"input",r[11]),B(v,"click",ee(r[8]))],D=!0)},p(I,S){S&8&&a!==(a=le(I[3]?"validation-error":"")+" svelte-ik6ju4")&&d(n,"class",a),S&2&&n.value!==I[1]&&$(n,I[1]),S&8&&T!==(T=le(I[3]?"validation-error":"")+" svelte-ik6ju4")&&d(m,"class",T),S&4&&m.value!==I[2]&&$(m,I[2]),S&128&&q(A,"name",I[7]),S&64&&(v.disabled=I[6])},d(I){I&&u(e),I&&u(f),I&&u(c),I&&u(y),I&&u(b),I&&u(P),I&&u(h),D=!1,ae(F)}}}function pe(r){let e,s,o,p,i,t,f,c,n,a,y,b,m,T,P;return{c(){e=g("article"),s=g("h4"),o=N("Change Password"),p=j(),i=g("p"),t=N("Update your password."),f=j(),c=g("aside"),n=g("button"),a=g("ion-icon"),y=j(),b=g("span"),m=N("Change"),this.h()},l(h){e=_(h,"ARTICLE",{class:!0});var v=k(e);s=_(v,"H4",{class:!0});var A=k(s);o=O(A,"Change Password"),A.forEach(u),p=L(v),i=_(v,"P",{class:!0});var U=k(i);t=O(U,"Update your password."),U.forEach(u),v.forEach(u),f=L(h),c=_(h,"ASIDE",{class:!0});var E=k(c);n=_(E,"BUTTON",{});var C=k(n);a=_(C,"ION-ICON",{class:!0,name:!0}),k(a).forEach(u),y=L(C),b=_(C,"SPAN",{});var D=k(b);m=O(D,"Change"),D.forEach(u),C.forEach(u),E.forEach(u),this.h()},h(){d(s,"class","highlight large svelte-ik6ju4"),d(i,"class","svelte-ik6ju4"),d(e,"class","main svelte-ik6ju4"),q(a,"class","icon svelte-ik6ju4"),q(a,"name",r[7]),n.disabled=r[6],d(c,"class","aside aside-1 svelte-ik6ju4")},m(h,v){z(h,e,v),l(e,s),l(s,o),l(e,p),l(e,i),l(i,t),z(h,f,v),z(h,c,v),l(c,n),l(n,a),l(n,y),l(n,b),l(b,m),T||(P=B(n,"click",ee(r[8])),T=!0)},p(h,v){v&128&&q(a,"name",h[7]),v&64&&(n.disabled=h[6])},d(h){h&&u(e),h&&u(f),h&&u(c),T=!1,P()}}}function me(r){let e,s,o,p;return{c(){e=g("div"),s=g("p"),o=g("ion-icon"),p=N(`
			Your password was changed.`),this.h()},l(i){e=_(i,"DIV",{class:!0});var t=k(e);s=_(t,"P",{class:!0});var f=k(s);o=_(f,"ION-ICON",{class:!0,name:!0}),k(o).forEach(u),p=O(f,`
			Your password was changed.`),f.forEach(u),t.forEach(u),this.h()},h(){q(o,"class","icon svelte-ik6ju4"),q(o,"name","checkmark-circle-sharp"),d(s,"class","success svelte-ik6ju4"),d(e,"class","error-container")},m(i,t){z(i,e,t),l(e,s),l(s,o),l(s,p)},p:Y,d(i){i&&u(e)}}}function ge(r){let e,s,o,p,i;return{c(){e=g("div"),s=g("p"),o=g("ion-icon"),p=j(),i=N(r[4]),this.h()},l(t){e=_(t,"DIV",{class:!0});var f=k(e);s=_(f,"P",{class:!0});var c=k(s);o=_(c,"ION-ICON",{class:!0,name:!0}),k(o).forEach(u),p=L(c),i=O(c,r[4]),c.forEach(u),f.forEach(u),this.h()},h(){q(o,"class","icon svelte-ik6ju4"),q(o,"name","close-circle-sharp"),d(s,"class","error svelte-ik6ju4"),d(e,"class","error-container")},m(t,f){z(t,e,f),l(e,s),l(s,o),l(s,p),l(s,i)},p(t,f){f&16&&ue(i,t[4])},d(t){t&&u(e)}}}function _e(r){let e,s,o;function p(a,y){return a[0]?he:pe}let i=p(r),t=i(r);function f(a,y){if(a[3]&&!a[5])return ge;if(!a[3]&&a[5])return me}let c=f(r),n=c&&c(r);return{c(){e=g("div"),t.c(),s=j(),n&&n.c(),o=oe(),this.h()},l(a){e=_(a,"DIV",{class:!0});var y=k(e);t.l(y),y.forEach(u),s=L(a),n&&n.l(a),o=oe(),this.h()},h(){d(e,"class","option-container svelte-ik6ju4")},m(a,y){z(a,e,y),t.m(e,null),z(a,s,y),n&&n.m(a,y),z(a,o,y)},p(a,[y]){i===(i=p(a))&&t?t.p(a,y):(t.d(1),t=i(a),t&&(t.c(),t.m(e,null))),c===(c=f(a))&&n?n.p(a,y):(n&&n.d(1),n=c&&c(a),n&&(n.c(),n.m(o.parentNode,o)))},i:Y,o:Y,d(a){a&&u(e),t.d(),a&&u(s),n&&n.d(a),a&&u(o)}}}function ve(r,e,s){let o,p,i=!1,t="",f="",c=!1,n="",a=!1,{token:y=""}=e;const b=async P=>{if(s(5,a=!1),s(3,c=!1),i&&t.length>0&&f.length>0){const h=await fetch("https://3ee.dev/account/change-password/",{method:"PATCH",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"https://3ee.com",Authorization:"Token "+y},body:JSON.stringify({old_password:t,new_password:f})});h.status===200?(s(1,t=""),s(2,f=""),s(3,c=!1),s(5,a=!0),typeof umami!="undefined"&&umami.trackEvent("Change Password",{success:!0})):(s(3,c=!0),s(4,n=await h.json()),typeof(n==null?void 0:n.old_password)!="undefined"&&(s(4,n=n.old_password[0]),typeof umami!="undefined"&&umami.trackEvent("Change Password",{success:!1})))}c||s(0,i=!i)};function m(){t=this.value,s(1,t)}function T(){f=this.value,s(2,f)}return r.$$set=P=>{"token"in P&&s(9,y=P.token)},r.$$.update=()=>{r.$$.dirty&1&&s(7,o=i?"lock-open-sharp":"lock-closed-sharp"),r.$$.dirty&7&&s(6,p=i&&t.length===0&&f.length===0||i&&t.length>0&&f.length===0||i&&t.length===0&&f.length>0?"disabled":"")},[i,t,f,c,n,a,p,o,b,y,m,T]}class be extends W{constructor(e){super(),G(this,e,ve,_e,M,{token:9})}}function ke(r){let e,s,o,p,i,t,f,c,n,a,y,b,m,T,P,h,v,A;return{c(){e=g("div"),s=g("article"),o=g("h4"),p=N("Avatar"),i=j(),t=g("p"),f=N("Upload your avatar. Recommended size is 256x256 pixels."),c=j(),n=g("input"),a=j(),y=g("aside"),b=g("button"),m=g("ion-icon"),T=j(),P=g("span"),h=N("Upload"),this.h()},l(U){e=_(U,"DIV",{class:!0});var E=k(e);s=_(E,"ARTICLE",{class:!0});var C=k(s);o=_(C,"H4",{class:!0});var D=k(o);p=O(D,"Avatar"),D.forEach(u),i=L(C),t=_(C,"P",{class:!0});var F=k(t);f=O(F,"Upload your avatar. Recommended size is 256x256 pixels."),F.forEach(u),c=L(C),n=_(C,"INPUT",{style:!0,type:!0,accept:!0}),C.forEach(u),a=L(E),y=_(E,"ASIDE",{class:!0});var I=k(y);b=_(I,"BUTTON",{});var S=k(b);m=_(S,"ION-ICON",{class:!0,name:!0}),k(m).forEach(u),T=L(S),P=_(S,"SPAN",{});var w=k(P);h=O(w,"Upload"),w.forEach(u),S.forEach(u),I.forEach(u),E.forEach(u),this.h()},h(){d(o,"class","highlight large svelte-25kbvu"),d(t,"class","svelte-25kbvu"),de(n,"display","none"),d(n,"type","file"),d(n,"accept",".jpg, .jpeg, .png, .webp, .gif"),d(s,"class","main svelte-25kbvu"),q(m,"class","icon svelte-25kbvu"),q(m,"name","camera"),b.disabled=r[0],d(y,"class","aside aside-3 svelte-25kbvu"),d(e,"class","option-container svelte-25kbvu")},m(U,E){z(U,e,E),l(e,s),l(s,o),l(o,p),l(s,i),l(s,t),l(t,f),l(s,c),l(s,n),r[5](n),l(e,a),l(e,y),l(y,b),l(b,m),l(b,T),l(b,P),l(P,h),v||(A=[B(n,"change",r[4]),B(b,"click",ee(r[2]))],v=!0)},p(U,[E]){E&1&&(b.disabled=U[0])},i:Y,o:Y,d(U){U&&u(e),r[5](null),v=!1,ae(A)}}}function ye(r,e,s){let{isProfileImageLoading:o=!1}=e,p;const i=ie(),t=async a=>{p.click()},f=async a=>{i("onFileSelected",{file:a.target.files[0]})},c=a=>f(a);function n(a){fe[a?"unshift":"push"](()=>{p=a,s(1,p)})}return r.$$set=a=>{"isProfileImageLoading"in a&&s(0,o=a.isProfileImageLoading)},[o,p,t,f,c,n]}class we extends W{constructor(e){super(),G(this,e,ye,ke,M,{isProfileImageLoading:0})}}function Ee(r){let e,s,o,p,i,t,f,c,n,a,y,b,m,T,P;return{c(){e=g("div"),s=g("article"),o=g("h4"),p=N("Subscribe to Insight"),i=j(),t=g("p"),f=N("Exclusive monthly email about games."),c=j(),n=g("aside"),a=g("input"),y=j(),b=g("label"),m=N("subscribe to 3ee insight newsletter"),this.h()},l(h){e=_(h,"DIV",{class:!0});var v=k(e);s=_(v,"ARTICLE",{class:!0});var A=k(s);o=_(A,"H4",{class:!0});var U=k(o);p=O(U,"Subscribe to Insight"),U.forEach(u),i=L(A),t=_(A,"P",{class:!0});var E=k(t);f=O(E,"Exclusive monthly email about games."),E.forEach(u),A.forEach(u),c=L(v),n=_(v,"ASIDE",{class:!0});var C=k(n);a=_(C,"INPUT",{type:!0,id:!0,name:!0,class:!0}),y=L(C),b=_(C,"LABEL",{for:!0,class:!0});var D=k(b);m=O(D,"subscribe to 3ee insight newsletter"),D.forEach(u),C.forEach(u),v.forEach(u),this.h()},h(){d(o,"class","highlight large svelte-1tvmcym"),d(t,"class","svelte-1tvmcym"),d(s,"class","main svelte-1tvmcym"),d(a,"type","checkbox"),d(a,"id","insight_subscription"),d(a,"name","insight_subscription"),a.checked=r[1],d(a,"class","svelte-1tvmcym"),d(b,"for","insight_subscription"),d(b,"class","svelte-1tvmcym"),d(n,"class","aside aside-1 svelte-1tvmcym"),d(e,"class","option-container svelte-1tvmcym")},m(h,v){z(h,e,v),l(e,s),l(s,o),l(o,p),l(s,i),l(s,t),l(t,f),l(e,c),l(e,n),l(n,a),$(a,r[0]),l(n,y),l(n,b),l(b,m),T||(P=[B(a,"change",r[3]),B(a,"change",ee(r[2]))],T=!0)},p(h,[v]){v&2&&(a.checked=h[1]),v&1&&$(a,h[0])},i:Y,o:Y,d(h){h&&u(e),T=!1,ae(P)}}}function Ie(r,e,s){const o=ie();let{subscribeInsight:p="checked"}=e,{isSubscribedToInsight:i=!0}=e;const t=async c=>{o("onUpdateSettings",{id:c.target.id,checked:c.target.checked})};function f(){i=this.value,s(0,i)}return r.$$set=c=>{"subscribeInsight"in c&&s(1,p=c.subscribeInsight),"isSubscribedToInsight"in c&&s(0,i=c.isSubscribedToInsight)},[i,p,t,f]}class Ae extends W{constructor(e){super(),G(this,e,Ie,Ee,M,{subscribeInsight:1,isSubscribedToInsight:0})}}function Te(r){let e,s,o,p,i,t,f,c,n,a,y,b,m,T,P,h,v,A;return{c(){e=g("div"),s=g("article"),o=g("h4"),p=N("Allow Analytics"),i=j(),t=g("p"),f=N("Allow analytics to run.   Read more: "),c=g("a"),n=N("privacy policy"),a=N("."),y=j(),b=g("aside"),m=g("input"),T=j(),P=g("label"),h=N("subscribe to 3ee insight newsletter"),this.h()},l(U){e=_(U,"DIV",{class:!0});var E=k(e);s=_(E,"ARTICLE",{class:!0});var C=k(s);o=_(C,"H4",{class:!0});var D=k(o);p=O(D,"Allow Analytics"),D.forEach(u),i=L(C),t=_(C,"P",{class:!0});var F=k(t);f=O(F,"Allow analytics to run.   Read more: "),c=_(F,"A",{href:!0});var I=k(c);n=O(I,"privacy policy"),I.forEach(u),a=O(F,"."),F.forEach(u),C.forEach(u),y=L(E),b=_(E,"ASIDE",{class:!0});var S=k(b);m=_(S,"INPUT",{type:!0,id:!0,name:!0,class:!0}),T=L(S),P=_(S,"LABEL",{for:!0,class:!0});var w=k(P);h=O(w,"subscribe to 3ee insight newsletter"),w.forEach(u),S.forEach(u),E.forEach(u),this.h()},h(){d(o,"class","highlight large svelte-1rp1z0z"),d(c,"href","/account/privacy/"),d(t,"class","svelte-1rp1z0z"),d(s,"class","main svelte-1rp1z0z"),d(m,"type","checkbox"),d(m,"id","track_google_analytics"),d(m,"name","track_google_analytics"),m.checked=r[1],d(m,"class","svelte-1rp1z0z"),d(P,"for","track_google_analytics"),d(P,"class","svelte-1rp1z0z"),d(b,"class","aside aside-1 svelte-1rp1z0z"),d(e,"class","option-container svelte-1rp1z0z")},m(U,E){z(U,e,E),l(e,s),l(s,o),l(o,p),l(s,i),l(s,t),l(t,f),l(t,c),l(c,n),l(t,a),l(e,y),l(e,b),l(b,m),$(m,r[0]),l(b,T),l(b,P),l(P,h),v||(A=[B(m,"change",r[3]),B(m,"change",ee(r[2]))],v=!0)},p(U,[E]){E&2&&(m.checked=U[1]),E&1&&$(m,U[0])},i:Y,o:Y,d(U){U&&u(e),v=!1,ae(A)}}}function Pe(r,e,s){const o=ie();let{analyticsTrack:p="checked"}=e,{isTracking:i=!0}=e;const t=async c=>{o("onUpdateSettings",{id:c.target.id,checked:c.target.checked})};function f(){i=this.value,s(0,i)}return r.$$set=c=>{"analyticsTrack"in c&&s(1,p=c.analyticsTrack),"isTracking"in c&&s(0,i=c.isTracking)},[i,p,t,f]}class Se extends W{constructor(e){super(),G(this,e,Pe,Te,M,{analyticsTrack:1,isTracking:0})}}function Ue(r){let e,s,o,p,i,t,f,c,n,a,y,b,m,T,P;return{c(){e=g("div"),s=g("article"),o=g("h4"),p=N("Play Website Animation"),i=j(),t=g("p"),f=N("Toggle animations on and off."),c=j(),n=g("aside"),a=g("input"),y=j(),b=g("label"),m=N("play website animations"),this.h()},l(h){e=_(h,"DIV",{class:!0});var v=k(e);s=_(v,"ARTICLE",{class:!0});var A=k(s);o=_(A,"H4",{class:!0});var U=k(o);p=O(U,"Play Website Animation"),U.forEach(u),i=L(A),t=_(A,"P",{class:!0});var E=k(t);f=O(E,"Toggle animations on and off."),E.forEach(u),A.forEach(u),c=L(v),n=_(v,"ASIDE",{class:!0});var C=k(n);a=_(C,"INPUT",{type:!0,id:!0,name:!0,class:!0}),y=L(C),b=_(C,"LABEL",{for:!0,class:!0});var D=k(b);m=O(D,"play website animations"),D.forEach(u),C.forEach(u),v.forEach(u),this.h()},h(){d(o,"class","highlight large svelte-mm5mlt"),d(t,"class","svelte-mm5mlt"),d(s,"class","main svelte-mm5mlt"),d(a,"type","checkbox"),d(a,"id","show_website_animations"),d(a,"name","show_website_animations"),a.checked=r[1],d(a,"class","svelte-mm5mlt"),d(b,"for","show_website_animations"),d(b,"class","svelte-mm5mlt"),d(n,"class","aside aside-1 svelte-mm5mlt"),d(e,"class","option-container svelte-mm5mlt")},m(h,v){z(h,e,v),l(e,s),l(s,o),l(o,p),l(s,i),l(s,t),l(t,f),l(e,c),l(e,n),l(n,a),$(a,r[0]),l(n,y),l(n,b),l(b,m),T||(P=[B(a,"change",r[3]),B(a,"change",ee(r[2]))],T=!0)},p(h,[v]){v&2&&(a.checked=h[1]),v&1&&$(a,h[0])},i:Y,o:Y,d(h){h&&u(e),T=!1,ae(P)}}}function Ce(r,e,s){const o=ie();let{animations:p="checked"}=e,{isAnimationsToggled:i=!0}=e;const t=async c=>{o("onUpdateSettings",{id:c.target.id,checked:c.target.checked})};function f(){i=this.value,s(0,i)}return r.$$set=c=>{"animations"in c&&s(1,p=c.animations),"isAnimationsToggled"in c&&s(0,i=c.isAnimationsToggled)},[i,p,t,f]}class je extends W{constructor(e){super(),G(this,e,Ce,Ue,M,{animations:1,isAnimationsToggled:0})}}function Le(r){let e,s,o,p,i,t,f,c,n,a,y,b,m,T,P,h,v,A,U,E,C,D,F,I,S;return T=new we({props:{isProfileImageLoading:r[0]}}),T.$on("onFileSelected",r[11]),T.$on("onUpdate",r[11]),T.$on("onViewAvatar",r[13]),h=new be({props:{token:r[3]}}),A=new Ae({props:{subscribeInsight:r[8],isSubscribedToInsight:r[5]}}),A.$on("onUpdateSettings",r[12]),E=new Se({props:{analyticsTrack:r[9],isTracking:r[6]}}),E.$on("onUpdateSettings",r[12]),D=new je({props:{animations:r[10],isAnimationsToggled:r[7]}}),D.$on("onUpdateSettings",r[12]),{c(){e=g("div"),s=g("h1"),o=N("Your Profile"),p=j(),i=g("div"),t=g("img"),n=j(),a=g("h2"),y=N(r[4]),b=j(),m=g("form"),K(T.$$.fragment),P=j(),K(h.$$.fragment),v=j(),K(A.$$.fragment),U=j(),K(E.$$.fragment),C=j(),K(D.$$.fragment),F=j(),I=g("hr"),this.h()},l(w){e=_(w,"DIV",{class:!0});var V=k(e);s=_(V,"H1",{});var J=k(s);o=O(J,"Your Profile"),J.forEach(u),p=L(V),i=_(V,"DIV",{class:!0});var te=k(i);t=_(te,"IMG",{class:!0,src:!0,alt:!0}),te.forEach(u),n=L(V),a=_(V,"H2",{});var se=k(a);y=O(se,r[4]),se.forEach(u),b=L(V),m=_(V,"FORM",{class:!0});var H=k(m);Q(T.$$.fragment,H),P=L(H),Q(h.$$.fragment,H),v=L(H),Q(A.$$.fragment,H),U=L(H),Q(E.$$.fragment,H),C=L(H),Q(D.$$.fragment,H),H.forEach(u),V.forEach(u),F=L(w),I=_(w,"HR",{}),this.h()},h(){d(t,"class","profile-image svelte-4qvar1"),ce(t.src,f=r[2])||d(t,"src",f),d(t,"alt",c=r[1].username+" profile avatar"),d(i,"class","mask-border svelte-4qvar1"),d(m,"class","settings-form svelte-4qvar1"),d(e,"class","profile-container svelte-4qvar1")},m(w,V){z(w,e,V),l(e,s),l(s,o),l(e,p),l(e,i),l(i,t),l(e,n),l(e,a),l(a,y),l(e,b),l(e,m),R(T,m,null),l(m,P),R(h,m,null),l(m,v),R(A,m,null),l(m,U),R(E,m,null),l(m,C),R(D,m,null),z(w,F,V),z(w,I,V),S=!0},p(w,[V]){(!S||V&4&&!ce(t.src,f=w[2]))&&d(t,"src",f),(!S||V&2&&c!==(c=w[1].username+" profile avatar"))&&d(t,"alt",c);const J={};V&1&&(J.isProfileImageLoading=w[0]),T.$set(J)},i(w){S||(X(T.$$.fragment,w),X(h.$$.fragment,w),X(A.$$.fragment,w),X(E.$$.fragment,w),X(D.$$.fragment,w),S=!0)},o(w){Z(T.$$.fragment,w),Z(h.$$.fragment,w),Z(A.$$.fragment,w),Z(E.$$.fragment,w),Z(D.$$.fragment,w),S=!1},d(w){w&&u(e),x(T),x(h),x(A),x(E),x(D),w&&u(F),w&&u(I)}}}function De(r,e,s){var A,U,E,C,D,F,I,S;let o;const p=ie();let{isProfileImageLoading:i=!1}=e,t;ne.subscribe(w=>{s(1,t=w)});const f=t.token,c=t.username;let n=!!(typeof((A=t==null?void 0:t.settings)==null?void 0:A.insight_subscription)!="undefined"&&((U=t==null?void 0:t.settings)==null?void 0:U.insight_subscription)),a=!!(typeof((E=t==null?void 0:t.settings)==null?void 0:E.track_google_analytics)!="undefined"&&((C=t==null?void 0:t.settings)==null?void 0:C.track_google_analytics)),y=!!(typeof((D=t==null?void 0:t.settings)==null?void 0:D.show_website_animations)!="undefined"&&((F=t==null?void 0:t.settings)==null?void 0:F.show_website_animations)),b=n?"checked":"",m=a?"checked":"",T=y?"checked":"";typeof((I=t==null?void 0:t.profile)==null?void 0:I.useDiffusion)!="undefined"&&((S=t==null?void 0:t.profile)==null||S.useDiffusion);const P=async(w,V)=>{p("onFileSelected",w.detail,V)},h=async w=>{p("onUpdateSettings",w.detail)},v=async w=>{p("onViewAvatar",w.detail)};return r.$$set=w=>{"isProfileImageLoading"in w&&s(0,i=w.isProfileImageLoading)},r.$$.update=()=>{var w;r.$$.dirty&2&&s(2,o=typeof((w=t==null?void 0:t.profile)==null?void 0:w.image)!="undefined"?t.profile.image:"")},[i,t,o,f,c,n,a,y,b,m,T,P,h,v]}class Ne extends W{constructor(e){super(),G(this,e,De,Le,M,{isProfileImageLoading:0})}}function Oe(r){let e,s,o,p;return o=new Ne({props:{prompt:r[1],isProfileImageLoading:r[0]}}),o.$on("onUpdateSettings",r[3]),o.$on("onFileSelected",r[2]),{c(){e=g("section"),s=g("article"),K(o.$$.fragment),this.h()},l(i){e=_(i,"SECTION",{class:!0});var t=k(e);s=_(t,"ARTICLE",{class:!0});var f=k(s);Q(o.$$.fragment,f),f.forEach(u),t.forEach(u),this.h()},h(){d(s,"class","content"),d(e,"class","background")},m(i,t){z(i,e,t),l(e,s),R(o,s,null),p=!0},p(i,[t]){const f={};t&2&&(f.prompt=i[1]),t&1&&(f.isProfileImageLoading=i[0]),o.$set(f)},i(i){p||(X(o.$$.fragment,i),p=!0)},o(i){Z(o.$$.fragment,i),p=!1},d(i){i&&u(e),x(o)}}}function ze(r,e,s){let o,p;ne.subscribe(h=>{p=h});let i=null,t={},f=new FormData,c=!1,n=!1,a=!0,y=!0;const b=p.token,m=async(h,v)=>{i=h.detail.file,new FileReader().readAsDataURL(i),f.append("file",i),f.append("useDiffusion",!1),T()},T=async()=>{s(0,c=!0);const v=await(await fetch("https://3ee.dev/account/upload/",{method:"POST",headers:{Accept:"application/json","Access-Control-Allow-Origin":"https://3ee.com",Authorization:"Token "+b},mode:"cors",body:f})).json();let A=p;A.profile.image=v.image,ne.set(A),s(0,c=!1),typeof umami!="undefined"&&umami.trackEvent("Upload Avatar",{success:!0})},P=async h=>{h.detail.id==="insight_subscription"?n=h.detail.checked:h.detail.id==="track_google_analytics"?y=h.detail.checked:h.detail.id==="show_website_animations"&&(a=h.detail.checked);const v={insight_subscription:n,track_google_analytics:y,show_website_animations:a},U=await(await fetch("https://3ee.dev/account/settings/",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"https://3ee.com",Authorization:"Token "+b},mode:"cors",body:JSON.stringify(v)})).json();let E=p;E.settings=U,ne.set(E)};return s(1,o=t),[c,o,m,P]}class qe extends W{constructor(e){super(),G(this,e,ze,Oe,M,{})}}export{qe as default};
