import{S as R,i as x,s as ee,e as v,k as U,l as _e,c as b,a as y,d as c,m as N,b as f,g as F,E as G,t as D,h as L,X as he,F as J,G as a,N as M,H as Y,V as re,O as oe,j as Ee,f as ke,P as ce,a5 as we,a2 as Ie,a3 as ve,a4 as Ae,w as te,x as se,J as be,y as ae,q as le,o as ie,B as ne}from"../../../chunks/index-2a82a4a8.js";import{g as ye}from"../../../chunks/navigation-0e6511d1.js";import{g as me}from"../../../chunks/config-4ae62436.js";import{a as Z}from"../../../chunks/accountStore-3492c591.js";import"../../../chunks/singletons-d1fb5791.js";import"../../../chunks/index-16dda89e.js";function Te(i){let e,s,n,g,r,t,u,o,d,l,_,m,p,T,P,E,h,A,I,w,S,O,z,V,j,H,$,W,B;return{c(){e=v("article"),s=v("h4"),n=D("Change Your Password"),g=U(),r=v("p"),t=D("Change your account's password."),u=U(),o=v("aside"),d=v("input"),_=U(),m=v("aside"),p=v("input"),P=U(),E=v("div"),h=v("button"),A=v("ion-icon"),I=U(),w=v("span"),S=D("Change"),O=U(),z=v("button"),V=v("ion-icon"),j=U(),H=v("span"),$=D("Cancel"),this.h()},l(k){e=b(k,"ARTICLE",{class:!0});var C=y(e);s=b(C,"H4",{class:!0});var X=y(s);n=L(X,"Change Your Password"),X.forEach(c),g=N(C),r=b(C,"P",{class:!0});var K=y(r);t=L(K,"Change your account's password."),K.forEach(c),C.forEach(c),u=N(k),o=b(k,"ASIDE",{class:!0});var Q=y(o);d=b(Q,"INPUT",{name:!0,id:!0,placeholder:!0,type:!0,class:!0}),Q.forEach(c),_=N(k),m=b(k,"ASIDE",{class:!0});var q=y(m);p=b(q,"INPUT",{name:!0,id:!0,placeholder:!0,type:!0,class:!0}),q.forEach(c),P=N(k),E=b(k,"DIV",{class:!0});var ue=y(E);h=b(ue,"BUTTON",{class:!0});var de=y(h);A=b(de,"ION-ICON",{class:!0,name:!0}),y(A).forEach(c),I=N(de),w=b(de,"SPAN",{});var pe=y(w);S=L(pe,"Change"),pe.forEach(c),de.forEach(c),O=N(ue),z=b(ue,"BUTTON",{class:!0});var fe=y(z);V=b(fe,"ION-ICON",{class:!0,name:!0}),y(V).forEach(c),j=N(fe),H=b(fe,"SPAN",{});var ge=y(H);$=L(ge,"Cancel"),ge.forEach(c),fe.forEach(c),ue.forEach(c),this.h()},h(){f(s,"class","highlight large svelte-eexuud"),f(r,"class","svelte-eexuud"),f(e,"class","main"),f(d,"name","old_password"),f(d,"id","old_password"),f(d,"placeholder","enter your old password"),f(d,"type","password"),d.required="true",f(d,"class",l=he(i[3]?"validation-error":"")+" svelte-eexuud"),f(o,"class","aside aside-1"),f(p,"name","old_password"),f(p,"id","old_password"),f(p,"placeholder","enter your new password"),f(p,"type","password"),p.required="true",f(p,"class",T=he(i[3]?"validation-error":"")+" svelte-eexuud"),f(m,"class","aside aside-2"),J(A,"class","icon svelte-eexuud"),J(A,"name",i[8]),h.disabled=i[6],f(h,"class","svelte-eexuud"),J(V,"class","icon svelte-eexuud"),J(V,"name","close-circle"),f(z,"class","alert svelte-eexuud"),f(E,"class","action-buttons svelte-eexuud")},m(k,C){F(k,e,C),a(e,s),a(s,n),a(e,g),a(e,r),a(r,t),F(k,u,C),F(k,o,C),a(o,d),M(d,i[1]),F(k,_,C),F(k,m,C),a(m,p),M(p,i[2]),F(k,P,C),F(k,E,C),a(E,h),a(h,A),a(h,I),a(h,w),a(w,S),a(E,O),a(E,z),a(z,V),a(z,j),a(z,H),a(H,$),W||(B=[Y(d,"input",i[12]),Y(p,"input",i[13]),Y(h,"click",re(i[9])),Y(z,"click",re(i[10]))],W=!0)},p(k,C){C&8&&l!==(l=he(k[3]?"validation-error":"")+" svelte-eexuud")&&f(d,"class",l),C&2&&d.value!==k[1]&&M(d,k[1]),C&8&&T!==(T=he(k[3]?"validation-error":"")+" svelte-eexuud")&&f(p,"class",T),C&4&&p.value!==k[2]&&M(p,k[2]),C&256&&J(A,"name",k[8]),C&64&&(h.disabled=k[6])},d(k){k&&c(e),k&&c(u),k&&c(o),k&&c(_),k&&c(m),k&&c(P),k&&c(E),W=!1,oe(B)}}}function Pe(i){let e,s,n,g,r,t,u,o,d,l,_,m,p,T,P;return{c(){e=v("article"),s=v("h4"),n=D("Change Password"),g=U(),r=v("p"),t=D("Update your password."),u=U(),o=v("aside"),d=v("button"),l=v("ion-icon"),_=U(),m=v("span"),p=D("Change"),this.h()},l(E){e=b(E,"ARTICLE",{class:!0});var h=y(e);s=b(h,"H4",{class:!0});var A=y(s);n=L(A,"Change Password"),A.forEach(c),g=N(h),r=b(h,"P",{class:!0});var I=y(r);t=L(I,"Update your password."),I.forEach(c),h.forEach(c),u=N(E),o=b(E,"ASIDE",{class:!0});var w=y(o);d=b(w,"BUTTON",{class:!0});var S=y(d);l=b(S,"ION-ICON",{class:!0,name:!0}),y(l).forEach(c),_=N(S),m=b(S,"SPAN",{});var O=y(m);p=L(O,"Change"),O.forEach(c),S.forEach(c),w.forEach(c),this.h()},h(){f(s,"class","highlight large svelte-eexuud"),f(r,"class","svelte-eexuud"),f(e,"class","main"),J(l,"class","icon svelte-eexuud"),J(l,"name",i[8]),d.disabled=i[6],f(d,"class","svelte-eexuud"),f(o,"class","aside aside-1")},m(E,h){F(E,e,h),a(e,s),a(s,n),a(e,g),a(e,r),a(r,t),F(E,u,h),F(E,o,h),a(o,d),a(d,l),a(d,_),a(d,m),a(m,p),T||(P=Y(d,"click",re(i[9])),T=!0)},p(E,h){h&256&&J(l,"name",E[8]),h&64&&(d.disabled=E[6])},d(E){E&&c(e),E&&c(u),E&&c(o),T=!1,P()}}}function Se(i){let e,s,n,g;return{c(){e=v("div"),s=v("p"),n=v("ion-icon"),g=D(`
			Your password was changed.`),this.h()},l(r){e=b(r,"DIV",{class:!0});var t=y(e);s=b(t,"P",{class:!0});var u=y(s);n=b(u,"ION-ICON",{class:!0,name:!0}),y(n).forEach(c),g=L(u,`
			Your password was changed.`),u.forEach(c),t.forEach(c),this.h()},h(){J(n,"class","icon svelte-eexuud"),J(n,"name","checkmark-circle-sharp"),f(s,"class","success svelte-eexuud"),f(e,"class","error-container")},m(r,t){F(r,e,t),a(e,s),a(s,n),a(s,g)},p:G,d(r){r&&c(e)}}}function Ce(i){let e,s,n,g,r;return{c(){e=v("div"),s=v("p"),n=v("ion-icon"),g=U(),r=D(i[4]),this.h()},l(t){e=b(t,"DIV",{class:!0});var u=y(e);s=b(u,"P",{class:!0});var o=y(s);n=b(o,"ION-ICON",{class:!0,name:!0}),y(n).forEach(c),g=N(o),r=L(o,i[4]),o.forEach(c),u.forEach(c),this.h()},h(){J(n,"class","icon svelte-eexuud"),J(n,"name","close-circle-sharp"),f(s,"class","error svelte-eexuud"),f(e,"class","error-container")},m(t,u){F(t,e,u),a(e,s),a(s,n),a(s,g),a(s,r)},p(t,u){u&16&&Ee(r,t[4])},d(t){t&&c(e)}}}function Ue(i){let e,s,n,g;function r(_,m){return _[0]?Te:Pe}let t=r(i),u=t(i);function o(_,m){if(_[3]&&!_[5])return Ce;if(!_[3]&&_[5])return Se}let d=o(i),l=d&&d(i);return{c(){e=v("div"),u.c(),n=U(),l&&l.c(),g=_e(),this.h()},l(_){e=b(_,"DIV",{class:!0});var m=y(e);u.l(m),m.forEach(c),n=N(_),l&&l.l(_),g=_e(),this.h()},h(){f(e,"class",s="option-container "+i[7]+" svelte-eexuud")},m(_,m){F(_,e,m),u.m(e,null),F(_,n,m),l&&l.m(_,m),F(_,g,m)},p(_,[m]){t===(t=r(_))&&u?u.p(_,m):(u.d(1),u=t(_),u&&(u.c(),u.m(e,null))),m&128&&s!==(s="option-container "+_[7]+" svelte-eexuud")&&f(e,"class",s),d===(d=o(_))&&l?l.p(_,m):(l&&l.d(1),l=d&&d(_),l&&(l.c(),l.m(g.parentNode,g)))},i:G,o:G,d(_){_&&c(e),u.d(),_&&c(n),l&&l.d(_),_&&c(g)}}}function Ne(i,e,s){let n,g,r,t=!1,u="",o="",d=!1,l="",_=!1,{token:m=""}=e;const p=async h=>{if(s(5,_=!1),s(3,d=!1),t&&u.length>0&&o.length>0){const A=await fetch(`${me().serviceUrl}/account/change-password/`,{method:"PATCH",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"https://3ee.com",Authorization:"Token "+m},body:JSON.stringify({old_password:u,new_password:o})});A.status===200?(s(1,u=""),s(2,o=""),s(3,d=!1),s(5,_=!0),typeof umami!="undefined"&&umami.trackEvent("Change Password",{success:!0})):(s(3,d=!0),s(4,l=await A.json()),typeof(l==null?void 0:l.old_password)!="undefined"&&(s(4,l=l.old_password[0]),typeof umami!="undefined"&&umami.trackEvent("Change Password",{success:!1})))}d||s(0,t=!t)};function T(){s(0,t=!1)}function P(){u=this.value,s(1,u)}function E(){o=this.value,s(2,o)}return i.$$set=h=>{"token"in h&&s(11,m=h.token)},i.$$.update=()=>{i.$$.dirty&1&&s(8,n=t?"lock-open-sharp":"lock-closed-sharp"),i.$$.dirty&1&&s(7,g=t?"active":""),i.$$.dirty&7&&s(6,r=t&&u.length===0&&o.length===0||t&&u.length>0&&o.length===0||t&&u.length===0&&o.length>0?"disabled":"")},[t,u,o,d,l,_,r,g,n,p,T,m,P,E]}class Oe extends R{constructor(e){super(),x(this,e,Ne,Ue,ee,{token:11})}}function De(i){let e,s,n,g,r,t,u,o,d,l,_,m,p,T,P,E,h,A;return{c(){e=v("div"),s=v("article"),n=v("h4"),g=D("Avatar"),r=U(),t=v("p"),u=D("Upload your avatar. Recommended size is 256x256 pixels."),o=U(),d=v("input"),l=U(),_=v("aside"),m=v("button"),p=v("ion-icon"),T=U(),P=v("span"),E=D("Upload"),this.h()},l(I){e=b(I,"DIV",{class:!0});var w=y(e);s=b(w,"ARTICLE",{class:!0});var S=y(s);n=b(S,"H4",{class:!0});var O=y(n);g=L(O,"Avatar"),O.forEach(c),r=N(S),t=b(S,"P",{class:!0});var z=y(t);u=L(z,"Upload your avatar. Recommended size is 256x256 pixels."),z.forEach(c),o=N(S),d=b(S,"INPUT",{style:!0,type:!0,accept:!0}),S.forEach(c),l=N(w),_=b(w,"ASIDE",{class:!0});var V=y(_);m=b(V,"BUTTON",{});var j=y(m);p=b(j,"ION-ICON",{class:!0,name:!0}),y(p).forEach(c),T=N(j),P=b(j,"SPAN",{});var H=y(P);E=L(H,"Upload"),H.forEach(c),j.forEach(c),V.forEach(c),w.forEach(c),this.h()},h(){f(n,"class","highlight large svelte-25kbvu"),f(t,"class","svelte-25kbvu"),ke(d,"display","none"),f(d,"type","file"),f(d,"accept",".jpg, .jpeg, .png, .webp, .gif"),f(s,"class","main svelte-25kbvu"),J(p,"class","icon svelte-25kbvu"),J(p,"name","camera"),m.disabled=i[0],f(_,"class","aside aside-3 svelte-25kbvu"),f(e,"class","option-container svelte-25kbvu")},m(I,w){F(I,e,w),a(e,s),a(s,n),a(n,g),a(s,r),a(s,t),a(t,u),a(s,o),a(s,d),i[5](d),a(e,l),a(e,_),a(_,m),a(m,p),a(m,T),a(m,P),a(P,E),h||(A=[Y(d,"change",i[4]),Y(m,"click",re(i[2]))],h=!0)},p(I,[w]){w&1&&(m.disabled=I[0])},i:G,o:G,d(I){I&&c(e),i[5](null),h=!1,oe(A)}}}function Le(i,e,s){let{isProfileImageLoading:n=!1}=e,g;const r=ce(),t=async l=>{g.click()},u=async l=>{r("onFileSelected",{file:l.target.files[0]})},o=l=>u(l);function d(l){we[l?"unshift":"push"](()=>{g=l,s(1,g)})}return i.$$set=l=>{"isProfileImageLoading"in l&&s(0,n=l.isProfileImageLoading)},[n,g,t,u,o,d]}class ze extends R{constructor(e){super(),x(this,e,Le,De,ee,{isProfileImageLoading:0})}}function Ve(i){let e,s,n,g,r,t,u,o,d,l,_,m,p,T,P;return{c(){e=v("div"),s=v("article"),n=v("h4"),g=D("Subscribe to Insight"),r=U(),t=v("p"),u=D("Exclusive monthly email about games."),o=U(),d=v("aside"),l=v("input"),_=U(),m=v("label"),p=D("subscribe to 3ee insight newsletter"),this.h()},l(E){e=b(E,"DIV",{class:!0});var h=y(e);s=b(h,"ARTICLE",{class:!0});var A=y(s);n=b(A,"H4",{class:!0});var I=y(n);g=L(I,"Subscribe to Insight"),I.forEach(c),r=N(A),t=b(A,"P",{class:!0});var w=y(t);u=L(w,"Exclusive monthly email about games."),w.forEach(c),A.forEach(c),o=N(h),d=b(h,"ASIDE",{class:!0});var S=y(d);l=b(S,"INPUT",{type:!0,id:!0,name:!0,class:!0}),_=N(S),m=b(S,"LABEL",{for:!0,class:!0});var O=y(m);p=L(O,"subscribe to 3ee insight newsletter"),O.forEach(c),S.forEach(c),h.forEach(c),this.h()},h(){f(n,"class","highlight large svelte-1tvmcym"),f(t,"class","svelte-1tvmcym"),f(s,"class","main svelte-1tvmcym"),f(l,"type","checkbox"),f(l,"id","insight_subscription"),f(l,"name","insight_subscription"),l.checked=i[1],f(l,"class","svelte-1tvmcym"),f(m,"for","insight_subscription"),f(m,"class","svelte-1tvmcym"),f(d,"class","aside aside-1 svelte-1tvmcym"),f(e,"class","option-container svelte-1tvmcym")},m(E,h){F(E,e,h),a(e,s),a(s,n),a(n,g),a(s,r),a(s,t),a(t,u),a(e,o),a(e,d),a(d,l),M(l,i[0]),a(d,_),a(d,m),a(m,p),T||(P=[Y(l,"change",i[3]),Y(l,"change",re(i[2]))],T=!0)},p(E,[h]){h&2&&(l.checked=E[1]),h&1&&M(l,E[0])},i:G,o:G,d(E){E&&c(e),T=!1,oe(P)}}}function je(i,e,s){const n=ce();let{subscribeInsight:g="checked"}=e,{isSubscribedToInsight:r=!0}=e;const t=async o=>{n("onUpdateSettings",{id:o.target.id,checked:o.target.checked})};function u(){r=this.value,s(0,r)}return i.$$set=o=>{"subscribeInsight"in o&&s(1,g=o.subscribeInsight),"isSubscribedToInsight"in o&&s(0,r=o.isSubscribedToInsight)},[r,g,t,u]}class Fe extends R{constructor(e){super(),x(this,e,je,Ve,ee,{subscribeInsight:1,isSubscribedToInsight:0})}}function He(i){let e,s,n,g,r,t,u,o,d,l,_,m,p,T,P,E,h,A;return{c(){e=v("div"),s=v("article"),n=v("h4"),g=D("Allow Analytics"),r=U(),t=v("p"),u=D("Allow analytics to run.   Read more: "),o=v("a"),d=D("privacy policy"),l=D("."),_=U(),m=v("aside"),p=v("input"),T=U(),P=v("label"),E=D("subscribe to 3ee insight newsletter"),this.h()},l(I){e=b(I,"DIV",{class:!0});var w=y(e);s=b(w,"ARTICLE",{class:!0});var S=y(s);n=b(S,"H4",{class:!0});var O=y(n);g=L(O,"Allow Analytics"),O.forEach(c),r=N(S),t=b(S,"P",{class:!0});var z=y(t);u=L(z,"Allow analytics to run.   Read more: "),o=b(z,"A",{href:!0});var V=y(o);d=L(V,"privacy policy"),V.forEach(c),l=L(z,"."),z.forEach(c),S.forEach(c),_=N(w),m=b(w,"ASIDE",{class:!0});var j=y(m);p=b(j,"INPUT",{type:!0,id:!0,name:!0,class:!0}),T=N(j),P=b(j,"LABEL",{for:!0,class:!0});var H=y(P);E=L(H,"subscribe to 3ee insight newsletter"),H.forEach(c),j.forEach(c),w.forEach(c),this.h()},h(){f(n,"class","highlight large svelte-1rp1z0z"),f(o,"href","/account/privacy/"),f(t,"class","svelte-1rp1z0z"),f(s,"class","main svelte-1rp1z0z"),f(p,"type","checkbox"),f(p,"id","track_google_analytics"),f(p,"name","track_google_analytics"),p.checked=i[1],f(p,"class","svelte-1rp1z0z"),f(P,"for","track_google_analytics"),f(P,"class","svelte-1rp1z0z"),f(m,"class","aside aside-1 svelte-1rp1z0z"),f(e,"class","option-container svelte-1rp1z0z")},m(I,w){F(I,e,w),a(e,s),a(s,n),a(n,g),a(s,r),a(s,t),a(t,u),a(t,o),a(o,d),a(t,l),a(e,_),a(e,m),a(m,p),M(p,i[0]),a(m,T),a(m,P),a(P,E),h||(A=[Y(p,"change",i[3]),Y(p,"change",re(i[2]))],h=!0)},p(I,[w]){w&2&&(p.checked=I[1]),w&1&&M(p,I[0])},i:G,o:G,d(I){I&&c(e),h=!1,oe(A)}}}function Be(i,e,s){const n=ce();let{analyticsTrack:g="checked"}=e,{isTracking:r=!0}=e;const t=async o=>{n("onUpdateSettings",{id:o.target.id,checked:o.target.checked})};function u(){r=this.value,s(0,r)}return i.$$set=o=>{"analyticsTrack"in o&&s(1,g=o.analyticsTrack),"isTracking"in o&&s(0,r=o.isTracking)},[r,g,t,u]}class qe extends R{constructor(e){super(),x(this,e,Be,He,ee,{analyticsTrack:1,isTracking:0})}}function $e(i){let e,s,n,g,r,t,u,o,d,l,_,m,p,T,P;return{c(){e=v("div"),s=v("article"),n=v("h4"),g=D("Play Website Animation"),r=U(),t=v("p"),u=D("Toggle animations on and off."),o=U(),d=v("aside"),l=v("input"),_=U(),m=v("label"),p=D("play website animations"),this.h()},l(E){e=b(E,"DIV",{class:!0});var h=y(e);s=b(h,"ARTICLE",{class:!0});var A=y(s);n=b(A,"H4",{class:!0});var I=y(n);g=L(I,"Play Website Animation"),I.forEach(c),r=N(A),t=b(A,"P",{class:!0});var w=y(t);u=L(w,"Toggle animations on and off."),w.forEach(c),A.forEach(c),o=N(h),d=b(h,"ASIDE",{class:!0});var S=y(d);l=b(S,"INPUT",{type:!0,id:!0,name:!0,class:!0}),_=N(S),m=b(S,"LABEL",{for:!0,class:!0});var O=y(m);p=L(O,"play website animations"),O.forEach(c),S.forEach(c),h.forEach(c),this.h()},h(){f(n,"class","highlight large svelte-mm5mlt"),f(t,"class","svelte-mm5mlt"),f(s,"class","main svelte-mm5mlt"),f(l,"type","checkbox"),f(l,"id","show_website_animations"),f(l,"name","show_website_animations"),l.checked=i[1],f(l,"class","svelte-mm5mlt"),f(m,"for","show_website_animations"),f(m,"class","svelte-mm5mlt"),f(d,"class","aside aside-1 svelte-mm5mlt"),f(e,"class","option-container svelte-mm5mlt")},m(E,h){F(E,e,h),a(e,s),a(s,n),a(n,g),a(s,r),a(s,t),a(t,u),a(e,o),a(e,d),a(d,l),M(l,i[0]),a(d,_),a(d,m),a(m,p),T||(P=[Y(l,"change",i[3]),Y(l,"change",re(i[2]))],T=!0)},p(E,[h]){h&2&&(l.checked=E[1]),h&1&&M(l,E[0])},i:G,o:G,d(E){E&&c(e),T=!1,oe(P)}}}function Ye(i,e,s){const n=ce();let{animations:g="checked"}=e,{isAnimationsToggled:r=!0}=e;const t=async o=>{n("onUpdateSettings",{id:o.target.id,checked:o.target.checked})};function u(){r=this.value,s(0,r)}return i.$$set=o=>{"animations"in o&&s(1,g=o.animations),"isAnimationsToggled"in o&&s(0,r=o.isAnimationsToggled)},[r,g,t,u]}class Je extends R{constructor(e){super(),x(this,e,Ye,$e,ee,{animations:1,isAnimationsToggled:0})}}function Ge(i){let e,s,n,g,r,t,u,o,d,l,_,m,p,T,P,E,h,A;return{c(){e=v("div"),s=v("article"),n=v("h4"),g=D("Select a theme"),r=U(),t=v("p"),u=D("Choose a theme for your experience."),o=U(),d=v("aside"),l=v("select"),_=v("option"),m=D("Default"),p=v("option"),T=D("Spacelab"),P=v("option"),E=D("Balace"),this.h()},l(I){e=b(I,"DIV",{class:!0});var w=y(e);s=b(w,"ARTICLE",{class:!0});var S=y(s);n=b(S,"H4",{class:!0});var O=y(n);g=L(O,"Select a theme"),O.forEach(c),r=N(S),t=b(S,"P",{class:!0});var z=y(t);u=L(z,"Choose a theme for your experience."),z.forEach(c),S.forEach(c),o=N(w),d=b(w,"ASIDE",{class:!0});var V=y(d);l=b(V,"SELECT",{id:!0,class:!0});var j=y(l);_=b(j,"OPTION",{});var H=y(_);m=L(H,"Default"),H.forEach(c),p=b(j,"OPTION",{});var $=y(p);T=L($,"Spacelab"),$.forEach(c),P=b(j,"OPTION",{});var W=y(P);E=L(W,"Balace"),W.forEach(c),j.forEach(c),V.forEach(c),w.forEach(c),this.h()},h(){f(n,"class","highlight large svelte-1yszf66"),f(t,"class","svelte-1yszf66"),f(s,"class","main svelte-1yszf66"),_.__value="0",_.value=_.__value,p.__value="1",p.value=p.__value,P.__value="2",P.value=P.__value,f(l,"id","theme-selector"),f(l,"class","svelte-1yszf66"),i[0]===void 0&&Ie(()=>i[3].call(l)),f(d,"class","aside aside-1 svelte-1yszf66"),f(e,"class","option-container svelte-1yszf66")},m(I,w){F(I,e,w),a(e,s),a(s,n),a(n,g),a(s,r),a(s,t),a(t,u),a(e,o),a(e,d),a(d,l),a(l,_),a(_,m),a(l,p),a(p,T),a(l,P),a(P,E),ve(l,i[0]),h||(A=[Y(l,"change",i[3]),Y(l,"change",i[1])],h=!0)},p(I,[w]){w&1&&ve(l,I[0])},i:G,o:G,d(I){I&&c(e),h=!1,oe(A)}}}function We(i,e,s){let n;const g=ce();let{theme:r=0}=e;const t=async o=>{g("onUpdateSettings",{id:o.target.id,value:parseInt(o.target.value)})};function u(){n=Ae(this),s(0,n),s(2,r)}return i.$$set=o=>{"theme"in o&&s(2,r=o.theme)},i.$$.update=()=>{i.$$.dirty&4&&s(0,n=r.toString())},[n,t,r,u]}class Me extends R{constructor(e){super(),x(this,e,We,Ge,ee,{theme:2})}}function Xe(i){var W,B;let e,s,n,g,r,t,u,o,d,l,_,m,p,T,P,E,h,A,I,w,S,O,z,V,j,H,$;return T=new ze({props:{isProfileImageLoading:i[0]}}),T.$on("onFileSelected",i[11]),T.$on("onUpdate",i[11]),T.$on("onViewAvatar",i[13]),E=new Oe({props:{token:i[3]}}),A=new Me({props:{theme:(B=(W=i[1])==null?void 0:W.settings)==null?void 0:B.theme}}),A.$on("onUpdateSettings",i[12]),w=new Fe({props:{subscribeInsight:i[8],isSubscribedToInsight:i[5]}}),w.$on("onUpdateSettings",i[12]),O=new qe({props:{analyticsTrack:i[9],isTracking:i[6]}}),O.$on("onUpdateSettings",i[12]),V=new Je({props:{animations:i[10],isAnimationsToggled:i[7]}}),V.$on("onUpdateSettings",i[12]),{c(){e=v("div"),s=v("h1"),n=D("Your Profile"),g=U(),r=v("div"),t=v("img"),d=U(),l=v("h2"),_=D(i[4]),m=U(),p=v("form"),te(T.$$.fragment),P=U(),te(E.$$.fragment),h=U(),te(A.$$.fragment),I=U(),te(w.$$.fragment),S=U(),te(O.$$.fragment),z=U(),te(V.$$.fragment),j=U(),H=v("hr"),this.h()},l(k){e=b(k,"DIV",{class:!0});var C=y(e);s=b(C,"H1",{});var X=y(s);n=L(X,"Your Profile"),X.forEach(c),g=N(C),r=b(C,"DIV",{class:!0});var K=y(r);t=b(K,"IMG",{class:!0,src:!0,alt:!0}),K.forEach(c),d=N(C),l=b(C,"H2",{});var Q=y(l);_=L(Q,i[4]),Q.forEach(c),m=N(C),p=b(C,"FORM",{class:!0});var q=y(p);se(T.$$.fragment,q),P=N(q),se(E.$$.fragment,q),h=N(q),se(A.$$.fragment,q),I=N(q),se(w.$$.fragment,q),S=N(q),se(O.$$.fragment,q),z=N(q),se(V.$$.fragment,q),q.forEach(c),C.forEach(c),j=N(k),H=b(k,"HR",{}),this.h()},h(){f(t,"class","profile-image svelte-4qvar1"),be(t.src,u=i[2])||f(t,"src",u),f(t,"alt",o=i[1].username+" profile avatar"),f(r,"class","mask-border svelte-4qvar1"),f(p,"class","settings-form svelte-4qvar1"),f(e,"class","profile-container svelte-4qvar1")},m(k,C){F(k,e,C),a(e,s),a(s,n),a(e,g),a(e,r),a(r,t),a(e,d),a(e,l),a(l,_),a(e,m),a(e,p),ae(T,p,null),a(p,P),ae(E,p,null),a(p,h),ae(A,p,null),a(p,I),ae(w,p,null),a(p,S),ae(O,p,null),a(p,z),ae(V,p,null),F(k,j,C),F(k,H,C),$=!0},p(k,[C]){var Q,q;(!$||C&4&&!be(t.src,u=k[2]))&&f(t,"src",u),(!$||C&2&&o!==(o=k[1].username+" profile avatar"))&&f(t,"alt",o);const X={};C&1&&(X.isProfileImageLoading=k[0]),T.$set(X);const K={};C&2&&(K.theme=(q=(Q=k[1])==null?void 0:Q.settings)==null?void 0:q.theme),A.$set(K)},i(k){$||(le(T.$$.fragment,k),le(E.$$.fragment,k),le(A.$$.fragment,k),le(w.$$.fragment,k),le(O.$$.fragment,k),le(V.$$.fragment,k),$=!0)},o(k){ie(T.$$.fragment,k),ie(E.$$.fragment,k),ie(A.$$.fragment,k),ie(w.$$.fragment,k),ie(O.$$.fragment,k),ie(V.$$.fragment,k),$=!1},d(k){k&&c(e),ne(T),ne(E),ne(A),ne(w),ne(O),ne(V),k&&c(j),k&&c(H)}}}function Ke(i,e,s){var A,I,w,S,O,z,V,j,H,$,W;let n;const g=ce();let{isProfileImageLoading:r=!1}=e,t;Z.subscribe(B=>{s(1,t=B)});const u=t.token,o=t.username;let d=!!(typeof((A=t==null?void 0:t.settings)==null?void 0:A.insight_subscription)!="undefined"&&((I=t==null?void 0:t.settings)==null?void 0:I.insight_subscription)),l=!!(typeof((w=t==null?void 0:t.settings)==null?void 0:w.track_google_analytics)!="undefined"&&((S=t==null?void 0:t.settings)==null?void 0:S.track_google_analytics)),_=!!(typeof((O=t==null?void 0:t.settings)==null?void 0:O.show_website_animations)!="undefined"&&((z=t==null?void 0:t.settings)==null?void 0:z.show_website_animations));typeof((V=t==null?void 0:t.settings)==null?void 0:V.theme)!="undefined"&&((j=t==null?void 0:t.settings)==null?void 0:j.theme)||(H=t==null?void 0:t.settings)==null||H.the;let m=d?"checked":"",p=l?"checked":"",T=_?"checked":"";typeof(($=t==null?void 0:t.profile)==null?void 0:$.useDiffusion)!="undefined"&&((W=t==null?void 0:t.profile)==null||W.useDiffusion);const P=async(B,k)=>{g("onFileSelected",B.detail,k)},E=async B=>{g("onUpdateSettings",B.detail)},h=async B=>{g("onViewAvatar",B.detail)};return i.$$set=B=>{"isProfileImageLoading"in B&&s(0,r=B.isProfileImageLoading)},i.$$.update=()=>{var B;i.$$.dirty&2&&s(2,n=typeof((B=t==null?void 0:t.profile)==null?void 0:B.image)!="undefined"?t.profile.image:"")},[r,t,n,u,o,d,l,_,m,p,T,P,E,h]}class Qe extends R{constructor(e){super(),x(this,e,Ke,Xe,ee,{isProfileImageLoading:0})}}function Ze(i){let e,s,n,g;return n=new Qe({props:{prompt:i[1],isProfileImageLoading:i[0]}}),n.$on("onUpdateSettings",i[3]),n.$on("onFileSelected",i[2]),{c(){e=v("section"),s=v("article"),te(n.$$.fragment),this.h()},l(r){e=b(r,"SECTION",{class:!0});var t=y(e);s=b(t,"ARTICLE",{class:!0});var u=y(s);se(n.$$.fragment,u),u.forEach(c),t.forEach(c),this.h()},h(){f(s,"class","content"),f(e,"class","background")},m(r,t){F(r,e,t),a(e,s),ae(n,s,null),g=!0},p(r,[t]){const u={};t&2&&(u.prompt=r[1]),t&1&&(u.isProfileImageLoading=r[0]),n.$set(u)},i(r){g||(le(n.$$.fragment,r),g=!0)},o(r){ie(n.$$.fragment,r),g=!1},d(r){r&&c(e),ne(n)}}}function Re(i,e,s){let n,g;Z.subscribe(h=>{g=h});let r=null,t={},u=new FormData,o=!1,d=!1,l=!0,_=0,m=!0;const p=g.token,T=async(h,A)=>{r=h.detail.file,new FileReader().readAsDataURL(r),u.append("file",r),u.append("useDiffusion",!1),P()},P=async()=>{s(0,o=!0);const h=await fetch(`${me().serviceUrl}/account/upload/`,{method:"POST",headers:{Accept:"application/json","Access-Control-Allow-Origin":"https://3ee.com",Authorization:"Token "+p},mode:"cors",body:u});if(h.status===401){Z.set({}),Z.deleteLocalStorage(),ye("/account/login");return}const A=await h.json();let I=g;I.profile.image=A.image,I.profile.imageSmall=A.imageSmall,Z.set(I),s(0,o=!1),typeof umami!="undefined"&&umami.trackEvent("Upload Avatar",{success:!0})},E=async h=>{h.detail.id==="insight_subscription"?d=h.detail.checked:h.detail.id==="track_google_analytics"?m=h.detail.checked:h.detail.id==="show_website_animations"?l=h.detail.checked:h.detail.id==="theme-selector"&&(_=h.detail.value);const A={insight_subscription:d,track_google_analytics:m,show_website_animations:l,theme:_},I=await fetch(`${me().serviceUrl}/account/settings/`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"https://3ee.com",Authorization:"Token "+p},mode:"cors",body:JSON.stringify(A)});if(I.status===401){Z.set({}),Z.deleteLocalStorage(),ye("/account/login");return}const w=await I.json();let S=g;S.settings=w,Z.set(S)};return s(1,n=t),[o,n,T,E]}class it extends R{constructor(e){super(),x(this,e,Re,Ze,ee,{})}}export{it as default};
