import{S as X,i as Z,s as R,e as g,k as L,l as he,c as _,a as b,d as u,m as j,b as f,g as z,E as W,t as N,h as O,O as de,H as G,I as i,a0 as K,J,L as ne,a1 as re,j as _e,f as ve,$ as oe,a2 as be,a3 as ke,a4 as me,a5 as ye,w as x,x as ee,R as pe,y as te,q as se,o as ae,B as ie}from"../../../chunks/index-e1315fa8.js";import{g as ge}from"../../../chunks/navigation-0e6511d1.js";import{a as Q}from"../../../chunks/accountStore-0546593d.js";import"../../../chunks/singletons-d1fb5791.js";import"../../../chunks/index-1440c114.js";function Ee(l){let t,s,o,p,n,e,d,c,r,a,y,k,h,T,A,v,m,S,I,E,P,D,H;return{c(){t=g("article"),s=g("h4"),o=N("Change Your Password"),p=L(),n=g("p"),e=N("Change your account's password."),d=L(),c=g("aside"),r=g("input"),y=L(),k=g("aside"),h=g("input"),A=L(),v=g("aside"),m=g("button"),S=g("ion-icon"),I=L(),E=g("span"),P=N("Change"),this.h()},l(w){t=_(w,"ARTICLE",{class:!0});var C=b(t);s=_(C,"H4",{class:!0});var F=b(s);o=O(F,"Change Your Password"),F.forEach(u),p=j(C),n=_(C,"P",{class:!0});var B=b(n);e=O(B,"Change your account's password."),B.forEach(u),C.forEach(u),d=j(w),c=_(w,"ASIDE",{class:!0});var M=b(c);r=_(M,"INPUT",{name:!0,id:!0,placeholder:!0,type:!0,class:!0}),M.forEach(u),y=j(w),k=_(w,"ASIDE",{class:!0});var q=b(k);h=_(q,"INPUT",{name:!0,id:!0,placeholder:!0,type:!0,class:!0}),q.forEach(u),A=j(w),v=_(w,"ASIDE",{class:!0});var $=b(v);m=_($,"BUTTON",{});var U=b(m);S=_(U,"ION-ICON",{class:!0,name:!0}),b(S).forEach(u),I=j(U),E=_(U,"SPAN",{});var V=b(E);P=O(V,"Change"),V.forEach(u),U.forEach(u),$.forEach(u),this.h()},h(){f(s,"class","highlight large svelte-ik6ju4"),f(n,"class","svelte-ik6ju4"),f(t,"class","main svelte-ik6ju4"),f(r,"name","old_password"),f(r,"id","old_password"),f(r,"placeholder","enter your old password"),f(r,"type","password"),r.required="true",f(r,"class",a=de(l[3]?"validation-error":"")+" svelte-ik6ju4"),f(c,"class","aside aside-1 svelte-ik6ju4"),f(h,"name","old_password"),f(h,"id","old_password"),f(h,"placeholder","enter your old password"),f(h,"type","password"),h.required="true",f(h,"class",T=de(l[3]?"validation-error":"")+" svelte-ik6ju4"),f(k,"class","aside aside-2 svelte-ik6ju4"),G(S,"class","icon svelte-ik6ju4"),G(S,"name",l[7]),m.disabled=l[6],f(v,"class","aside aside-3 svelte-ik6ju4")},m(w,C){z(w,t,C),i(t,s),i(s,o),i(t,p),i(t,n),i(n,e),z(w,d,C),z(w,c,C),i(c,r),K(r,l[1]),z(w,y,C),z(w,k,C),i(k,h),K(h,l[2]),z(w,A,C),z(w,v,C),i(v,m),i(m,S),i(m,I),i(m,E),i(E,P),D||(H=[J(r,"input",l[10]),J(h,"input",l[11]),J(m,"click",ne(l[8]))],D=!0)},p(w,C){C&8&&a!==(a=de(w[3]?"validation-error":"")+" svelte-ik6ju4")&&f(r,"class",a),C&2&&r.value!==w[1]&&K(r,w[1]),C&8&&T!==(T=de(w[3]?"validation-error":"")+" svelte-ik6ju4")&&f(h,"class",T),C&4&&h.value!==w[2]&&K(h,w[2]),C&128&&G(S,"name",w[7]),C&64&&(m.disabled=w[6])},d(w){w&&u(t),w&&u(d),w&&u(c),w&&u(y),w&&u(k),w&&u(A),w&&u(v),D=!1,re(H)}}}function we(l){let t,s,o,p,n,e,d,c,r,a,y,k,h,T,A;return{c(){t=g("article"),s=g("h4"),o=N("Change Password"),p=L(),n=g("p"),e=N("Update your password."),d=L(),c=g("aside"),r=g("button"),a=g("ion-icon"),y=L(),k=g("span"),h=N("Change"),this.h()},l(v){t=_(v,"ARTICLE",{class:!0});var m=b(t);s=_(m,"H4",{class:!0});var S=b(s);o=O(S,"Change Password"),S.forEach(u),p=j(m),n=_(m,"P",{class:!0});var I=b(n);e=O(I,"Update your password."),I.forEach(u),m.forEach(u),d=j(v),c=_(v,"ASIDE",{class:!0});var E=b(c);r=_(E,"BUTTON",{});var P=b(r);a=_(P,"ION-ICON",{class:!0,name:!0}),b(a).forEach(u),y=j(P),k=_(P,"SPAN",{});var D=b(k);h=O(D,"Change"),D.forEach(u),P.forEach(u),E.forEach(u),this.h()},h(){f(s,"class","highlight large svelte-ik6ju4"),f(n,"class","svelte-ik6ju4"),f(t,"class","main svelte-ik6ju4"),G(a,"class","icon svelte-ik6ju4"),G(a,"name",l[7]),r.disabled=l[6],f(c,"class","aside aside-1 svelte-ik6ju4")},m(v,m){z(v,t,m),i(t,s),i(s,o),i(t,p),i(t,n),i(n,e),z(v,d,m),z(v,c,m),i(c,r),i(r,a),i(r,y),i(r,k),i(k,h),T||(A=J(r,"click",ne(l[8])),T=!0)},p(v,m){m&128&&G(a,"name",v[7]),m&64&&(r.disabled=v[6])},d(v){v&&u(t),v&&u(d),v&&u(c),T=!1,A()}}}function Ie(l){let t,s,o,p;return{c(){t=g("div"),s=g("p"),o=g("ion-icon"),p=N(`
			Your password was changed.`),this.h()},l(n){t=_(n,"DIV",{class:!0});var e=b(t);s=_(e,"P",{class:!0});var d=b(s);o=_(d,"ION-ICON",{class:!0,name:!0}),b(o).forEach(u),p=O(d,`
			Your password was changed.`),d.forEach(u),e.forEach(u),this.h()},h(){G(o,"class","icon svelte-ik6ju4"),G(o,"name","checkmark-circle-sharp"),f(s,"class","success svelte-ik6ju4"),f(t,"class","error-container")},m(n,e){z(n,t,e),i(t,s),i(s,o),i(s,p)},p:W,d(n){n&&u(t)}}}function Ae(l){let t,s,o,p,n;return{c(){t=g("div"),s=g("p"),o=g("ion-icon"),p=L(),n=N(l[4]),this.h()},l(e){t=_(e,"DIV",{class:!0});var d=b(t);s=_(d,"P",{class:!0});var c=b(s);o=_(c,"ION-ICON",{class:!0,name:!0}),b(o).forEach(u),p=j(c),n=O(c,l[4]),c.forEach(u),d.forEach(u),this.h()},h(){G(o,"class","icon svelte-ik6ju4"),G(o,"name","close-circle-sharp"),f(s,"class","error svelte-ik6ju4"),f(t,"class","error-container")},m(e,d){z(e,t,d),i(t,s),i(s,o),i(s,p),i(s,n)},p(e,d){d&16&&_e(n,e[4])},d(e){e&&u(t)}}}function Te(l){let t,s,o;function p(a,y){return a[0]?Ee:we}let n=p(l),e=n(l);function d(a,y){if(a[3]&&!a[5])return Ae;if(!a[3]&&a[5])return Ie}let c=d(l),r=c&&c(l);return{c(){t=g("div"),e.c(),s=L(),r&&r.c(),o=he(),this.h()},l(a){t=_(a,"DIV",{class:!0});var y=b(t);e.l(y),y.forEach(u),s=j(a),r&&r.l(a),o=he(),this.h()},h(){f(t,"class","option-container svelte-ik6ju4")},m(a,y){z(a,t,y),e.m(t,null),z(a,s,y),r&&r.m(a,y),z(a,o,y)},p(a,[y]){n===(n=p(a))&&e?e.p(a,y):(e.d(1),e=n(a),e&&(e.c(),e.m(t,null))),c===(c=d(a))&&r?r.p(a,y):(r&&r.d(1),r=c&&c(a),r&&(r.c(),r.m(o.parentNode,o)))},i:W,o:W,d(a){a&&u(t),e.d(),a&&u(s),r&&r.d(a),a&&u(o)}}}function Se(l,t,s){let o,p,n=!1,e="",d="",c=!1,r="",a=!1,{token:y=""}=t;const k=async A=>{if(s(5,a=!1),s(3,c=!1),n&&e.length>0&&d.length>0){const v=await fetch("https://3ee.dev/account/change-password/",{method:"PATCH",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"https://3ee.com",Authorization:"Token "+y},body:JSON.stringify({old_password:e,new_password:d})});v.status===200?(s(1,e=""),s(2,d=""),s(3,c=!1),s(5,a=!0),typeof umami!="undefined"&&umami.trackEvent("Change Password",{success:!0})):(s(3,c=!0),s(4,r=await v.json()),typeof(r==null?void 0:r.old_password)!="undefined"&&(s(4,r=r.old_password[0]),typeof umami!="undefined"&&umami.trackEvent("Change Password",{success:!1})))}c||s(0,n=!n)};function h(){e=this.value,s(1,e)}function T(){d=this.value,s(2,d)}return l.$$set=A=>{"token"in A&&s(9,y=A.token)},l.$$.update=()=>{l.$$.dirty&1&&s(7,o=n?"lock-open-sharp":"lock-closed-sharp"),l.$$.dirty&7&&s(6,p=n&&e.length===0&&d.length===0||n&&e.length>0&&d.length===0||n&&e.length===0&&d.length>0?"disabled":"")},[n,e,d,c,r,a,p,o,k,y,h,T]}class Pe extends X{constructor(t){super(),Z(this,t,Se,Te,R,{token:9})}}function Ce(l){let t,s,o,p,n,e,d,c,r,a,y,k,h,T,A,v,m,S;return{c(){t=g("div"),s=g("article"),o=g("h4"),p=N("Avatar"),n=L(),e=g("p"),d=N("Upload your avatar. Recommended size is 256x256 pixels."),c=L(),r=g("input"),a=L(),y=g("aside"),k=g("button"),h=g("ion-icon"),T=L(),A=g("span"),v=N("Upload"),this.h()},l(I){t=_(I,"DIV",{class:!0});var E=b(t);s=_(E,"ARTICLE",{class:!0});var P=b(s);o=_(P,"H4",{class:!0});var D=b(o);p=O(D,"Avatar"),D.forEach(u),n=j(P),e=_(P,"P",{class:!0});var H=b(e);d=O(H,"Upload your avatar. Recommended size is 256x256 pixels."),H.forEach(u),c=j(P),r=_(P,"INPUT",{style:!0,type:!0,accept:!0}),P.forEach(u),a=j(E),y=_(E,"ASIDE",{class:!0});var w=b(y);k=_(w,"BUTTON",{});var C=b(k);h=_(C,"ION-ICON",{class:!0,name:!0}),b(h).forEach(u),T=j(C),A=_(C,"SPAN",{});var F=b(A);v=O(F,"Upload"),F.forEach(u),C.forEach(u),w.forEach(u),E.forEach(u),this.h()},h(){f(o,"class","highlight large svelte-25kbvu"),f(e,"class","svelte-25kbvu"),ve(r,"display","none"),f(r,"type","file"),f(r,"accept",".jpg, .jpeg, .png, .webp, .gif"),f(s,"class","main svelte-25kbvu"),G(h,"class","icon svelte-25kbvu"),G(h,"name","camera"),k.disabled=l[0],f(y,"class","aside aside-3 svelte-25kbvu"),f(t,"class","option-container svelte-25kbvu")},m(I,E){z(I,t,E),i(t,s),i(s,o),i(o,p),i(s,n),i(s,e),i(e,d),i(s,c),i(s,r),l[5](r),i(t,a),i(t,y),i(y,k),i(k,h),i(k,T),i(k,A),i(A,v),m||(S=[J(r,"change",l[4]),J(k,"click",ne(l[2]))],m=!0)},p(I,[E]){E&1&&(k.disabled=I[0])},i:W,o:W,d(I){I&&u(t),l[5](null),m=!1,re(S)}}}function Ue(l,t,s){let{isProfileImageLoading:o=!1}=t,p;const n=oe(),e=async a=>{p.click()},d=async a=>{n("onFileSelected",{file:a.target.files[0]})},c=a=>d(a);function r(a){be[a?"unshift":"push"](()=>{p=a,s(1,p)})}return l.$$set=a=>{"isProfileImageLoading"in a&&s(0,o=a.isProfileImageLoading)},[o,p,e,d,c,r]}class Le extends X{constructor(t){super(),Z(this,t,Ue,Ce,R,{isProfileImageLoading:0})}}function je(l){let t,s,o,p,n,e,d,c,r,a,y,k,h,T,A;return{c(){t=g("div"),s=g("article"),o=g("h4"),p=N("Subscribe to Insight"),n=L(),e=g("p"),d=N("Exclusive monthly email about games."),c=L(),r=g("aside"),a=g("input"),y=L(),k=g("label"),h=N("subscribe to 3ee insight newsletter"),this.h()},l(v){t=_(v,"DIV",{class:!0});var m=b(t);s=_(m,"ARTICLE",{class:!0});var S=b(s);o=_(S,"H4",{class:!0});var I=b(o);p=O(I,"Subscribe to Insight"),I.forEach(u),n=j(S),e=_(S,"P",{class:!0});var E=b(e);d=O(E,"Exclusive monthly email about games."),E.forEach(u),S.forEach(u),c=j(m),r=_(m,"ASIDE",{class:!0});var P=b(r);a=_(P,"INPUT",{type:!0,id:!0,name:!0,class:!0}),y=j(P),k=_(P,"LABEL",{for:!0,class:!0});var D=b(k);h=O(D,"subscribe to 3ee insight newsletter"),D.forEach(u),P.forEach(u),m.forEach(u),this.h()},h(){f(o,"class","highlight large svelte-1tvmcym"),f(e,"class","svelte-1tvmcym"),f(s,"class","main svelte-1tvmcym"),f(a,"type","checkbox"),f(a,"id","insight_subscription"),f(a,"name","insight_subscription"),a.checked=l[1],f(a,"class","svelte-1tvmcym"),f(k,"for","insight_subscription"),f(k,"class","svelte-1tvmcym"),f(r,"class","aside aside-1 svelte-1tvmcym"),f(t,"class","option-container svelte-1tvmcym")},m(v,m){z(v,t,m),i(t,s),i(s,o),i(o,p),i(s,n),i(s,e),i(e,d),i(t,c),i(t,r),i(r,a),K(a,l[0]),i(r,y),i(r,k),i(k,h),T||(A=[J(a,"change",l[3]),J(a,"change",ne(l[2]))],T=!0)},p(v,[m]){m&2&&(a.checked=v[1]),m&1&&K(a,v[0])},i:W,o:W,d(v){v&&u(t),T=!1,re(A)}}}function De(l,t,s){const o=oe();let{subscribeInsight:p="checked"}=t,{isSubscribedToInsight:n=!0}=t;const e=async c=>{o("onUpdateSettings",{id:c.target.id,checked:c.target.checked})};function d(){n=this.value,s(0,n)}return l.$$set=c=>{"subscribeInsight"in c&&s(1,p=c.subscribeInsight),"isSubscribedToInsight"in c&&s(0,n=c.isSubscribedToInsight)},[n,p,e,d]}class Ne extends X{constructor(t){super(),Z(this,t,De,je,R,{subscribeInsight:1,isSubscribedToInsight:0})}}function Oe(l){let t,s,o,p,n,e,d,c,r,a,y,k,h,T,A,v,m,S;return{c(){t=g("div"),s=g("article"),o=g("h4"),p=N("Allow Analytics"),n=L(),e=g("p"),d=N("Allow analytics to run.   Read more: "),c=g("a"),r=N("privacy policy"),a=N("."),y=L(),k=g("aside"),h=g("input"),T=L(),A=g("label"),v=N("subscribe to 3ee insight newsletter"),this.h()},l(I){t=_(I,"DIV",{class:!0});var E=b(t);s=_(E,"ARTICLE",{class:!0});var P=b(s);o=_(P,"H4",{class:!0});var D=b(o);p=O(D,"Allow Analytics"),D.forEach(u),n=j(P),e=_(P,"P",{class:!0});var H=b(e);d=O(H,"Allow analytics to run.   Read more: "),c=_(H,"A",{href:!0});var w=b(c);r=O(w,"privacy policy"),w.forEach(u),a=O(H,"."),H.forEach(u),P.forEach(u),y=j(E),k=_(E,"ASIDE",{class:!0});var C=b(k);h=_(C,"INPUT",{type:!0,id:!0,name:!0,class:!0}),T=j(C),A=_(C,"LABEL",{for:!0,class:!0});var F=b(A);v=O(F,"subscribe to 3ee insight newsletter"),F.forEach(u),C.forEach(u),E.forEach(u),this.h()},h(){f(o,"class","highlight large svelte-1rp1z0z"),f(c,"href","/account/privacy/"),f(e,"class","svelte-1rp1z0z"),f(s,"class","main svelte-1rp1z0z"),f(h,"type","checkbox"),f(h,"id","track_google_analytics"),f(h,"name","track_google_analytics"),h.checked=l[1],f(h,"class","svelte-1rp1z0z"),f(A,"for","track_google_analytics"),f(A,"class","svelte-1rp1z0z"),f(k,"class","aside aside-1 svelte-1rp1z0z"),f(t,"class","option-container svelte-1rp1z0z")},m(I,E){z(I,t,E),i(t,s),i(s,o),i(o,p),i(s,n),i(s,e),i(e,d),i(e,c),i(c,r),i(e,a),i(t,y),i(t,k),i(k,h),K(h,l[0]),i(k,T),i(k,A),i(A,v),m||(S=[J(h,"change",l[3]),J(h,"change",ne(l[2]))],m=!0)},p(I,[E]){E&2&&(h.checked=I[1]),E&1&&K(h,I[0])},i:W,o:W,d(I){I&&u(t),m=!1,re(S)}}}function ze(l,t,s){const o=oe();let{analyticsTrack:p="checked"}=t,{isTracking:n=!0}=t;const e=async c=>{o("onUpdateSettings",{id:c.target.id,checked:c.target.checked})};function d(){n=this.value,s(0,n)}return l.$$set=c=>{"analyticsTrack"in c&&s(1,p=c.analyticsTrack),"isTracking"in c&&s(0,n=c.isTracking)},[n,p,e,d]}class Ve extends X{constructor(t){super(),Z(this,t,ze,Oe,R,{analyticsTrack:1,isTracking:0})}}function He(l){let t,s,o,p,n,e,d,c,r,a,y,k,h,T,A;return{c(){t=g("div"),s=g("article"),o=g("h4"),p=N("Play Website Animation"),n=L(),e=g("p"),d=N("Toggle animations on and off."),c=L(),r=g("aside"),a=g("input"),y=L(),k=g("label"),h=N("play website animations"),this.h()},l(v){t=_(v,"DIV",{class:!0});var m=b(t);s=_(m,"ARTICLE",{class:!0});var S=b(s);o=_(S,"H4",{class:!0});var I=b(o);p=O(I,"Play Website Animation"),I.forEach(u),n=j(S),e=_(S,"P",{class:!0});var E=b(e);d=O(E,"Toggle animations on and off."),E.forEach(u),S.forEach(u),c=j(m),r=_(m,"ASIDE",{class:!0});var P=b(r);a=_(P,"INPUT",{type:!0,id:!0,name:!0,class:!0}),y=j(P),k=_(P,"LABEL",{for:!0,class:!0});var D=b(k);h=O(D,"play website animations"),D.forEach(u),P.forEach(u),m.forEach(u),this.h()},h(){f(o,"class","highlight large svelte-mm5mlt"),f(e,"class","svelte-mm5mlt"),f(s,"class","main svelte-mm5mlt"),f(a,"type","checkbox"),f(a,"id","show_website_animations"),f(a,"name","show_website_animations"),a.checked=l[1],f(a,"class","svelte-mm5mlt"),f(k,"for","show_website_animations"),f(k,"class","svelte-mm5mlt"),f(r,"class","aside aside-1 svelte-mm5mlt"),f(t,"class","option-container svelte-mm5mlt")},m(v,m){z(v,t,m),i(t,s),i(s,o),i(o,p),i(s,n),i(s,e),i(e,d),i(t,c),i(t,r),i(r,a),K(a,l[0]),i(r,y),i(r,k),i(k,h),T||(A=[J(a,"change",l[3]),J(a,"change",ne(l[2]))],T=!0)},p(v,[m]){m&2&&(a.checked=v[1]),m&1&&K(a,v[0])},i:W,o:W,d(v){v&&u(t),T=!1,re(A)}}}function Fe(l,t,s){const o=oe();let{animations:p="checked"}=t,{isAnimationsToggled:n=!0}=t;const e=async c=>{o("onUpdateSettings",{id:c.target.id,checked:c.target.checked})};function d(){n=this.value,s(0,n)}return l.$$set=c=>{"animations"in c&&s(1,p=c.animations),"isAnimationsToggled"in c&&s(0,n=c.isAnimationsToggled)},[n,p,e,d]}class qe extends X{constructor(t){super(),Z(this,t,Fe,He,R,{animations:1,isAnimationsToggled:0})}}function Be(l){let t,s,o,p,n,e,d,c,r,a,y,k,h,T,A,v,m,S;return{c(){t=g("div"),s=g("article"),o=g("h4"),p=N("Select a theme"),n=L(),e=g("p"),d=N("Choose a theme for your experience."),c=L(),r=g("aside"),a=g("select"),y=g("option"),k=N("Default"),h=g("option"),T=N("Spacelab"),A=g("option"),v=N("Balace"),this.h()},l(I){t=_(I,"DIV",{class:!0});var E=b(t);s=_(E,"ARTICLE",{class:!0});var P=b(s);o=_(P,"H4",{class:!0});var D=b(o);p=O(D,"Select a theme"),D.forEach(u),n=j(P),e=_(P,"P",{class:!0});var H=b(e);d=O(H,"Choose a theme for your experience."),H.forEach(u),P.forEach(u),c=j(E),r=_(E,"ASIDE",{class:!0});var w=b(r);a=_(w,"SELECT",{id:!0,class:!0});var C=b(a);y=_(C,"OPTION",{});var F=b(y);k=O(F,"Default"),F.forEach(u),h=_(C,"OPTION",{});var B=b(h);T=O(B,"Spacelab"),B.forEach(u),A=_(C,"OPTION",{});var M=b(A);v=O(M,"Balace"),M.forEach(u),C.forEach(u),w.forEach(u),E.forEach(u),this.h()},h(){f(o,"class","highlight large svelte-zn0nvi"),f(e,"class","svelte-zn0nvi"),f(s,"class","main svelte-zn0nvi"),y.__value="0",y.value=y.__value,h.__value="1",h.value=h.__value,A.__value="2",A.value=A.__value,f(a,"id","theme-selector"),f(a,"class","svelte-zn0nvi"),l[0]===void 0&&ke(()=>l[5].call(a)),f(r,"class","aside aside-1 svelte-zn0nvi"),f(t,"class","option-container svelte-zn0nvi")},m(I,E){z(I,t,E),i(t,s),i(s,o),i(o,p),i(s,n),i(s,e),i(e,d),i(t,c),i(t,r),i(r,a),i(a,y),i(y,k),i(a,h),i(h,T),i(a,A),i(A,v),me(a,l[0]),m||(S=[J(a,"change",l[5]),J(a,"change",l[1])],m=!0)},p(I,[E]){E&1&&me(a,I[0])},i:W,o:W,d(I){I&&u(t),m=!1,re(S)}}}function Ye(l,t,s){let o;const p=oe();let{token:n=""}=t,{spaceLab:e=!1}=t,{theme:d=0}=t;const c=async a=>{p("onUpdateSettings",{id:a.target.id,value:parseInt(a.target.value)})};function r(){o=ye(this),s(0,o),s(4,d)}return l.$$set=a=>{"token"in a&&s(2,n=a.token),"spaceLab"in a&&s(3,e=a.spaceLab),"theme"in a&&s(4,d=a.theme)},l.$$.update=()=>{l.$$.dirty&16&&s(0,o=d.toString())},[o,c,n,e,d,r]}class Je extends X{constructor(t){super(),Z(this,t,Ye,Be,R,{token:2,spaceLab:3,theme:4})}}function We(l){var M,q,$;let t,s,o,p,n,e,d,c,r,a,y,k,h,T,A,v,m,S,I,E,P,D,H,w,C,F,B;return T=new Le({props:{isProfileImageLoading:l[0]}}),T.$on("onFileSelected",l[11]),T.$on("onUpdate",l[11]),T.$on("onViewAvatar",l[13]),v=new Pe({props:{token:l[3]}}),S=new Ne({props:{subscribeInsight:l[8],isSubscribedToInsight:l[5]}}),S.$on("onUpdateSettings",l[12]),E=new Ve({props:{analyticsTrack:l[9],isTracking:l[6]}}),E.$on("onUpdateSettings",l[12]),D=new qe({props:{animations:l[10],isAnimationsToggled:l[7]}}),D.$on("onUpdateSettings",l[12]),w=new Je({props:{token:l[3],spacelab:(M=l[1])==null?void 0:M.spaceLab,theme:($=(q=l[1])==null?void 0:q.settings)==null?void 0:$.theme}}),w.$on("onUpdateSettings",l[12]),{c(){t=g("div"),s=g("h1"),o=N("Your Profile"),p=L(),n=g("div"),e=g("img"),r=L(),a=g("h2"),y=N(l[4]),k=L(),h=g("form"),x(T.$$.fragment),A=L(),x(v.$$.fragment),m=L(),x(S.$$.fragment),I=L(),x(E.$$.fragment),P=L(),x(D.$$.fragment),H=L(),x(w.$$.fragment),C=L(),F=g("hr"),this.h()},l(U){t=_(U,"DIV",{class:!0});var V=b(t);s=_(V,"H1",{});var ce=b(s);o=O(ce,"Your Profile"),ce.forEach(u),p=j(V),n=_(V,"DIV",{class:!0});var le=b(n);e=_(le,"IMG",{class:!0,src:!0,alt:!0}),le.forEach(u),r=j(V),a=_(V,"H2",{});var ue=b(a);y=O(ue,l[4]),ue.forEach(u),k=j(V),h=_(V,"FORM",{class:!0});var Y=b(h);ee(T.$$.fragment,Y),A=j(Y),ee(v.$$.fragment,Y),m=j(Y),ee(S.$$.fragment,Y),I=j(Y),ee(E.$$.fragment,Y),P=j(Y),ee(D.$$.fragment,Y),H=j(Y),ee(w.$$.fragment,Y),Y.forEach(u),V.forEach(u),C=j(U),F=_(U,"HR",{}),this.h()},h(){f(e,"class","profile-image svelte-4qvar1"),pe(e.src,d=l[2])||f(e,"src",d),f(e,"alt",c=l[1].username+" profile avatar"),f(n,"class","mask-border svelte-4qvar1"),f(h,"class","settings-form svelte-4qvar1"),f(t,"class","profile-container svelte-4qvar1")},m(U,V){z(U,t,V),i(t,s),i(s,o),i(t,p),i(t,n),i(n,e),i(t,r),i(t,a),i(a,y),i(t,k),i(t,h),te(T,h,null),i(h,A),te(v,h,null),i(h,m),te(S,h,null),i(h,I),te(E,h,null),i(h,P),te(D,h,null),i(h,H),te(w,h,null),z(U,C,V),z(U,F,V),B=!0},p(U,[V]){var ue,Y,fe;(!B||V&4&&!pe(e.src,d=U[2]))&&f(e,"src",d),(!B||V&2&&c!==(c=U[1].username+" profile avatar"))&&f(e,"alt",c);const ce={};V&1&&(ce.isProfileImageLoading=U[0]),T.$set(ce);const le={};V&2&&(le.spacelab=(ue=U[1])==null?void 0:ue.spaceLab),V&2&&(le.theme=(fe=(Y=U[1])==null?void 0:Y.settings)==null?void 0:fe.theme),w.$set(le)},i(U){B||(se(T.$$.fragment,U),se(v.$$.fragment,U),se(S.$$.fragment,U),se(E.$$.fragment,U),se(D.$$.fragment,U),se(w.$$.fragment,U),B=!0)},o(U){ae(T.$$.fragment,U),ae(v.$$.fragment,U),ae(S.$$.fragment,U),ae(E.$$.fragment,U),ae(D.$$.fragment,U),ae(w.$$.fragment,U),B=!1},d(U){U&&u(t),ie(T),ie(v),ie(S),ie(E),ie(D),ie(w),U&&u(C),U&&u(F)}}}function Ge(l,t,s){var S,I,E,P,D,H,w,C,F,B,M;let o;const p=oe();let{isProfileImageLoading:n=!1}=t,e;Q.subscribe(q=>{s(1,e=q)});const d=e.token,c=e.username;let r=!!(typeof((S=e==null?void 0:e.settings)==null?void 0:S.insight_subscription)!="undefined"&&((I=e==null?void 0:e.settings)==null?void 0:I.insight_subscription)),a=!!(typeof((E=e==null?void 0:e.settings)==null?void 0:E.track_google_analytics)!="undefined"&&((P=e==null?void 0:e.settings)==null?void 0:P.track_google_analytics)),y=!!(typeof((D=e==null?void 0:e.settings)==null?void 0:D.show_website_animations)!="undefined"&&((H=e==null?void 0:e.settings)==null?void 0:H.show_website_animations));typeof((w=e==null?void 0:e.settings)==null?void 0:w.theme)!="undefined"&&((C=e==null?void 0:e.settings)==null?void 0:C.theme)||(F=e==null?void 0:e.settings)==null||F.the;let k=r?"checked":"",h=a?"checked":"",T=y?"checked":"";typeof((B=e==null?void 0:e.profile)==null?void 0:B.useDiffusion)!="undefined"&&((M=e==null?void 0:e.profile)==null||M.useDiffusion);const A=async(q,$)=>{p("onFileSelected",q.detail,$)},v=async q=>{p("onUpdateSettings",q.detail)},m=async q=>{p("onViewAvatar",q.detail)};return l.$$set=q=>{"isProfileImageLoading"in q&&s(0,n=q.isProfileImageLoading)},l.$$.update=()=>{var q;l.$$.dirty&2&&s(2,o=typeof((q=e==null?void 0:e.profile)==null?void 0:q.image)!="undefined"?e.profile.image:"")},[n,e,o,d,c,r,a,y,k,h,T,A,v,m]}class Me extends X{constructor(t){super(),Z(this,t,Ge,We,R,{isProfileImageLoading:0})}}function Ke(l){let t,s,o,p;return o=new Me({props:{prompt:l[1],isProfileImageLoading:l[0]}}),o.$on("onUpdateSettings",l[3]),o.$on("onFileSelected",l[2]),{c(){t=g("section"),s=g("article"),x(o.$$.fragment),this.h()},l(n){t=_(n,"SECTION",{class:!0});var e=b(t);s=_(e,"ARTICLE",{class:!0});var d=b(s);ee(o.$$.fragment,d),d.forEach(u),e.forEach(u),this.h()},h(){f(s,"class","content"),f(t,"class","background")},m(n,e){z(n,t,e),i(t,s),te(o,s,null),p=!0},p(n,[e]){const d={};e&2&&(d.prompt=n[1]),e&1&&(d.isProfileImageLoading=n[0]),o.$set(d)},i(n){p||(se(o.$$.fragment,n),p=!0)},o(n){ae(o.$$.fragment,n),p=!1},d(n){n&&u(t),ie(o)}}}function Qe(l,t,s){let o,p;Q.subscribe(m=>{p=m});let n=null,e={},d=new FormData,c=!1,r=!1,a=!0,y=0,k=!0;const h=p.token,T=async(m,S)=>{n=m.detail.file,new FileReader().readAsDataURL(n),d.append("file",n),d.append("useDiffusion",!1),A()},A=async()=>{s(0,c=!0);const m=await fetch("https://3ee.dev/account/upload/",{method:"POST",headers:{Accept:"application/json","Access-Control-Allow-Origin":"https://3ee.com",Authorization:"Token "+h},mode:"cors",body:d});if(m.status===401){Q.set({}),Q.deleteLocalStorage(),ge("/account/login");return}const S=await m.json();let I=p;I.profile.image=S.image,Q.set(I),s(0,c=!1),typeof umami!="undefined"&&umami.trackEvent("Upload Avatar",{success:!0})},v=async m=>{m.detail.id==="insight_subscription"?r=m.detail.checked:m.detail.id==="track_google_analytics"?k=m.detail.checked:m.detail.id==="show_website_animations"?a=m.detail.checked:m.detail.id==="theme-selector"&&(y=m.detail.value);const S={insight_subscription:r,track_google_analytics:k,show_website_animations:a,theme:y},I=await fetch("https://3ee.dev/account/settings/",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"https://3ee.com",Authorization:"Token "+h},mode:"cors",body:JSON.stringify(S)});if(I.status===401){Q.set({}),Q.deleteLocalStorage(),ge("/account/login");return}const E=await I.json();let P=p;P.settings=E,Q.set(P)};return s(1,o=e),[c,o,T,v]}class et extends X{constructor(t){super(),Z(this,t,Qe,Ke,R,{})}}export{et as default};
