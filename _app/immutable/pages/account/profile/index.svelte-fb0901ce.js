import{S as X,i as Z,s as R,e as g,k as j,l as fe,c as _,a as b,d as u,m as L,b as d,g as z,E as J,t as N,h as O,O as ue,H as W,I as i,$ as M,J as Y,L as le,a0 as ne,j as ge,f as _e,_ as re,a4 as ve,a1 as be,a2 as he,a3 as ke,w as x,x as ee,P as me,y as te,q as se,o as ae,B as ie}from"../../../chunks/index-be147d6e.js";import{g as pe}from"../../../chunks/navigation-0e6511d1.js";import{g as de}from"../../../chunks/config-abc8f7a4.js";import{a as Q}from"../../../chunks/accountStore-3af47e7f.js";import"../../../chunks/singletons-d1fb5791.js";import"../../../chunks/index-7bb0f42c.js";function ye(n){let t,s,r,p,l,e,f,c,o,a,y,k,h,S,A,v,m,T,I,E,P,D,$;return{c(){t=g("article"),s=g("h4"),r=N("Change Your Password"),p=j(),l=g("p"),e=N("Change your account's password."),f=j(),c=g("aside"),o=g("input"),y=j(),k=g("aside"),h=g("input"),A=j(),v=g("aside"),m=g("button"),T=g("ion-icon"),I=j(),E=g("span"),P=N("Change"),this.h()},l(w){t=_(w,"ARTICLE",{class:!0});var U=b(t);s=_(U,"H4",{class:!0});var H=b(s);r=O(H,"Change Your Password"),H.forEach(u),p=L(U),l=_(U,"P",{class:!0});var q=b(l);e=O(q,"Change your account's password."),q.forEach(u),U.forEach(u),f=L(w),c=_(w,"ASIDE",{class:!0});var G=b(c);o=_(G,"INPUT",{name:!0,id:!0,placeholder:!0,type:!0,class:!0}),G.forEach(u),y=L(w),k=_(w,"ASIDE",{class:!0});var F=b(k);h=_(F,"INPUT",{name:!0,id:!0,placeholder:!0,type:!0,class:!0}),F.forEach(u),A=L(w),v=_(w,"ASIDE",{class:!0});var C=b(v);m=_(C,"BUTTON",{});var V=b(m);T=_(V,"ION-ICON",{class:!0,name:!0}),b(T).forEach(u),I=L(V),E=_(V,"SPAN",{});var K=b(E);P=O(K,"Change"),K.forEach(u),V.forEach(u),C.forEach(u),this.h()},h(){d(s,"class","highlight large svelte-ik6ju4"),d(l,"class","svelte-ik6ju4"),d(t,"class","main svelte-ik6ju4"),d(o,"name","old_password"),d(o,"id","old_password"),d(o,"placeholder","enter your old password"),d(o,"type","password"),o.required="true",d(o,"class",a=ue(n[3]?"validation-error":"")+" svelte-ik6ju4"),d(c,"class","aside aside-1 svelte-ik6ju4"),d(h,"name","old_password"),d(h,"id","old_password"),d(h,"placeholder","enter your old password"),d(h,"type","password"),h.required="true",d(h,"class",S=ue(n[3]?"validation-error":"")+" svelte-ik6ju4"),d(k,"class","aside aside-2 svelte-ik6ju4"),W(T,"class","icon svelte-ik6ju4"),W(T,"name",n[7]),m.disabled=n[6],d(v,"class","aside aside-3 svelte-ik6ju4")},m(w,U){z(w,t,U),i(t,s),i(s,r),i(t,p),i(t,l),i(l,e),z(w,f,U),z(w,c,U),i(c,o),M(o,n[1]),z(w,y,U),z(w,k,U),i(k,h),M(h,n[2]),z(w,A,U),z(w,v,U),i(v,m),i(m,T),i(m,I),i(m,E),i(E,P),D||($=[Y(o,"input",n[10]),Y(h,"input",n[11]),Y(m,"click",le(n[8]))],D=!0)},p(w,U){U&8&&a!==(a=ue(w[3]?"validation-error":"")+" svelte-ik6ju4")&&d(o,"class",a),U&2&&o.value!==w[1]&&M(o,w[1]),U&8&&S!==(S=ue(w[3]?"validation-error":"")+" svelte-ik6ju4")&&d(h,"class",S),U&4&&h.value!==w[2]&&M(h,w[2]),U&128&&W(T,"name",w[7]),U&64&&(m.disabled=w[6])},d(w){w&&u(t),w&&u(f),w&&u(c),w&&u(y),w&&u(k),w&&u(A),w&&u(v),D=!1,ne($)}}}function Ee(n){let t,s,r,p,l,e,f,c,o,a,y,k,h,S,A;return{c(){t=g("article"),s=g("h4"),r=N("Change Password"),p=j(),l=g("p"),e=N("Update your password."),f=j(),c=g("aside"),o=g("button"),a=g("ion-icon"),y=j(),k=g("span"),h=N("Change"),this.h()},l(v){t=_(v,"ARTICLE",{class:!0});var m=b(t);s=_(m,"H4",{class:!0});var T=b(s);r=O(T,"Change Password"),T.forEach(u),p=L(m),l=_(m,"P",{class:!0});var I=b(l);e=O(I,"Update your password."),I.forEach(u),m.forEach(u),f=L(v),c=_(v,"ASIDE",{class:!0});var E=b(c);o=_(E,"BUTTON",{});var P=b(o);a=_(P,"ION-ICON",{class:!0,name:!0}),b(a).forEach(u),y=L(P),k=_(P,"SPAN",{});var D=b(k);h=O(D,"Change"),D.forEach(u),P.forEach(u),E.forEach(u),this.h()},h(){d(s,"class","highlight large svelte-ik6ju4"),d(l,"class","svelte-ik6ju4"),d(t,"class","main svelte-ik6ju4"),W(a,"class","icon svelte-ik6ju4"),W(a,"name",n[7]),o.disabled=n[6],d(c,"class","aside aside-1 svelte-ik6ju4")},m(v,m){z(v,t,m),i(t,s),i(s,r),i(t,p),i(t,l),i(l,e),z(v,f,m),z(v,c,m),i(c,o),i(o,a),i(o,y),i(o,k),i(k,h),S||(A=Y(o,"click",le(n[8])),S=!0)},p(v,m){m&128&&W(a,"name",v[7]),m&64&&(o.disabled=v[6])},d(v){v&&u(t),v&&u(f),v&&u(c),S=!1,A()}}}function we(n){let t,s,r,p;return{c(){t=g("div"),s=g("p"),r=g("ion-icon"),p=N(`
			Your password was changed.`),this.h()},l(l){t=_(l,"DIV",{class:!0});var e=b(t);s=_(e,"P",{class:!0});var f=b(s);r=_(f,"ION-ICON",{class:!0,name:!0}),b(r).forEach(u),p=O(f,`
			Your password was changed.`),f.forEach(u),e.forEach(u),this.h()},h(){W(r,"class","icon svelte-ik6ju4"),W(r,"name","checkmark-circle-sharp"),d(s,"class","success svelte-ik6ju4"),d(t,"class","error-container")},m(l,e){z(l,t,e),i(t,s),i(s,r),i(s,p)},p:J,d(l){l&&u(t)}}}function Ie(n){let t,s,r,p,l;return{c(){t=g("div"),s=g("p"),r=g("ion-icon"),p=j(),l=N(n[4]),this.h()},l(e){t=_(e,"DIV",{class:!0});var f=b(t);s=_(f,"P",{class:!0});var c=b(s);r=_(c,"ION-ICON",{class:!0,name:!0}),b(r).forEach(u),p=L(c),l=O(c,n[4]),c.forEach(u),f.forEach(u),this.h()},h(){W(r,"class","icon svelte-ik6ju4"),W(r,"name","close-circle-sharp"),d(s,"class","error svelte-ik6ju4"),d(t,"class","error-container")},m(e,f){z(e,t,f),i(t,s),i(s,r),i(s,p),i(s,l)},p(e,f){f&16&&ge(l,e[4])},d(e){e&&u(t)}}}function Ae(n){let t,s,r;function p(a,y){return a[0]?ye:Ee}let l=p(n),e=l(n);function f(a,y){if(a[3]&&!a[5])return Ie;if(!a[3]&&a[5])return we}let c=f(n),o=c&&c(n);return{c(){t=g("div"),e.c(),s=j(),o&&o.c(),r=fe(),this.h()},l(a){t=_(a,"DIV",{class:!0});var y=b(t);e.l(y),y.forEach(u),s=L(a),o&&o.l(a),r=fe(),this.h()},h(){d(t,"class","option-container svelte-ik6ju4")},m(a,y){z(a,t,y),e.m(t,null),z(a,s,y),o&&o.m(a,y),z(a,r,y)},p(a,[y]){l===(l=p(a))&&e?e.p(a,y):(e.d(1),e=l(a),e&&(e.c(),e.m(t,null))),c===(c=f(a))&&o?o.p(a,y):(o&&o.d(1),o=c&&c(a),o&&(o.c(),o.m(r.parentNode,r)))},i:J,o:J,d(a){a&&u(t),e.d(),a&&u(s),o&&o.d(a),a&&u(r)}}}function Te(n,t,s){let r,p,l=!1,e="",f="",c=!1,o="",a=!1,{token:y=""}=t;const k=async A=>{if(s(5,a=!1),s(3,c=!1),l&&e.length>0&&f.length>0){const v=await fetch(`${de().serviceUrl}/account/change-password/`,{method:"PATCH",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"https://3ee.com",Authorization:"Token "+y},body:JSON.stringify({old_password:e,new_password:f})});v.status===200?(s(1,e=""),s(2,f=""),s(3,c=!1),s(5,a=!0),typeof umami!="undefined"&&umami.trackEvent("Change Password",{success:!0})):(s(3,c=!0),s(4,o=await v.json()),typeof(o==null?void 0:o.old_password)!="undefined"&&(s(4,o=o.old_password[0]),typeof umami!="undefined"&&umami.trackEvent("Change Password",{success:!1})))}c||s(0,l=!l)};function h(){e=this.value,s(1,e)}function S(){f=this.value,s(2,f)}return n.$$set=A=>{"token"in A&&s(9,y=A.token)},n.$$.update=()=>{n.$$.dirty&1&&s(7,r=l?"lock-open-sharp":"lock-closed-sharp"),n.$$.dirty&7&&s(6,p=l&&e.length===0&&f.length===0||l&&e.length>0&&f.length===0||l&&e.length===0&&f.length>0?"disabled":"")},[l,e,f,c,o,a,p,r,k,y,h,S]}class Se extends X{constructor(t){super(),Z(this,t,Te,Ae,R,{token:9})}}function Pe(n){let t,s,r,p,l,e,f,c,o,a,y,k,h,S,A,v,m,T;return{c(){t=g("div"),s=g("article"),r=g("h4"),p=N("Avatar"),l=j(),e=g("p"),f=N("Upload your avatar. Recommended size is 256x256 pixels."),c=j(),o=g("input"),a=j(),y=g("aside"),k=g("button"),h=g("ion-icon"),S=j(),A=g("span"),v=N("Upload"),this.h()},l(I){t=_(I,"DIV",{class:!0});var E=b(t);s=_(E,"ARTICLE",{class:!0});var P=b(s);r=_(P,"H4",{class:!0});var D=b(r);p=O(D,"Avatar"),D.forEach(u),l=L(P),e=_(P,"P",{class:!0});var $=b(e);f=O($,"Upload your avatar. Recommended size is 256x256 pixels."),$.forEach(u),c=L(P),o=_(P,"INPUT",{style:!0,type:!0,accept:!0}),P.forEach(u),a=L(E),y=_(E,"ASIDE",{class:!0});var w=b(y);k=_(w,"BUTTON",{});var U=b(k);h=_(U,"ION-ICON",{class:!0,name:!0}),b(h).forEach(u),S=L(U),A=_(U,"SPAN",{});var H=b(A);v=O(H,"Upload"),H.forEach(u),U.forEach(u),w.forEach(u),E.forEach(u),this.h()},h(){d(r,"class","highlight large svelte-25kbvu"),d(e,"class","svelte-25kbvu"),_e(o,"display","none"),d(o,"type","file"),d(o,"accept",".jpg, .jpeg, .png, .webp, .gif"),d(s,"class","main svelte-25kbvu"),W(h,"class","icon svelte-25kbvu"),W(h,"name","camera"),k.disabled=n[0],d(y,"class","aside aside-3 svelte-25kbvu"),d(t,"class","option-container svelte-25kbvu")},m(I,E){z(I,t,E),i(t,s),i(s,r),i(r,p),i(s,l),i(s,e),i(e,f),i(s,c),i(s,o),n[5](o),i(t,a),i(t,y),i(y,k),i(k,h),i(k,S),i(k,A),i(A,v),m||(T=[Y(o,"change",n[4]),Y(k,"click",le(n[2]))],m=!0)},p(I,[E]){E&1&&(k.disabled=I[0])},i:J,o:J,d(I){I&&u(t),n[5](null),m=!1,ne(T)}}}function Ue(n,t,s){let{isProfileImageLoading:r=!1}=t,p;const l=re(),e=async a=>{p.click()},f=async a=>{l("onFileSelected",{file:a.target.files[0]})},c=a=>f(a);function o(a){ve[a?"unshift":"push"](()=>{p=a,s(1,p)})}return n.$$set=a=>{"isProfileImageLoading"in a&&s(0,r=a.isProfileImageLoading)},[r,p,e,f,c,o]}class Ce extends X{constructor(t){super(),Z(this,t,Ue,Pe,R,{isProfileImageLoading:0})}}function je(n){let t,s,r,p,l,e,f,c,o,a,y,k,h,S,A;return{c(){t=g("div"),s=g("article"),r=g("h4"),p=N("Subscribe to Insight"),l=j(),e=g("p"),f=N("Exclusive monthly email about games."),c=j(),o=g("aside"),a=g("input"),y=j(),k=g("label"),h=N("subscribe to 3ee insight newsletter"),this.h()},l(v){t=_(v,"DIV",{class:!0});var m=b(t);s=_(m,"ARTICLE",{class:!0});var T=b(s);r=_(T,"H4",{class:!0});var I=b(r);p=O(I,"Subscribe to Insight"),I.forEach(u),l=L(T),e=_(T,"P",{class:!0});var E=b(e);f=O(E,"Exclusive monthly email about games."),E.forEach(u),T.forEach(u),c=L(m),o=_(m,"ASIDE",{class:!0});var P=b(o);a=_(P,"INPUT",{type:!0,id:!0,name:!0,class:!0}),y=L(P),k=_(P,"LABEL",{for:!0,class:!0});var D=b(k);h=O(D,"subscribe to 3ee insight newsletter"),D.forEach(u),P.forEach(u),m.forEach(u),this.h()},h(){d(r,"class","highlight large svelte-1tvmcym"),d(e,"class","svelte-1tvmcym"),d(s,"class","main svelte-1tvmcym"),d(a,"type","checkbox"),d(a,"id","insight_subscription"),d(a,"name","insight_subscription"),a.checked=n[1],d(a,"class","svelte-1tvmcym"),d(k,"for","insight_subscription"),d(k,"class","svelte-1tvmcym"),d(o,"class","aside aside-1 svelte-1tvmcym"),d(t,"class","option-container svelte-1tvmcym")},m(v,m){z(v,t,m),i(t,s),i(s,r),i(r,p),i(s,l),i(s,e),i(e,f),i(t,c),i(t,o),i(o,a),M(a,n[0]),i(o,y),i(o,k),i(k,h),S||(A=[Y(a,"change",n[3]),Y(a,"change",le(n[2]))],S=!0)},p(v,[m]){m&2&&(a.checked=v[1]),m&1&&M(a,v[0])},i:J,o:J,d(v){v&&u(t),S=!1,ne(A)}}}function Le(n,t,s){const r=re();let{subscribeInsight:p="checked"}=t,{isSubscribedToInsight:l=!0}=t;const e=async c=>{r("onUpdateSettings",{id:c.target.id,checked:c.target.checked})};function f(){l=this.value,s(0,l)}return n.$$set=c=>{"subscribeInsight"in c&&s(1,p=c.subscribeInsight),"isSubscribedToInsight"in c&&s(0,l=c.isSubscribedToInsight)},[l,p,e,f]}class De extends X{constructor(t){super(),Z(this,t,Le,je,R,{subscribeInsight:1,isSubscribedToInsight:0})}}function Ne(n){let t,s,r,p,l,e,f,c,o,a,y,k,h,S,A,v,m,T;return{c(){t=g("div"),s=g("article"),r=g("h4"),p=N("Allow Analytics"),l=j(),e=g("p"),f=N("Allow analytics to run.   Read more: "),c=g("a"),o=N("privacy policy"),a=N("."),y=j(),k=g("aside"),h=g("input"),S=j(),A=g("label"),v=N("subscribe to 3ee insight newsletter"),this.h()},l(I){t=_(I,"DIV",{class:!0});var E=b(t);s=_(E,"ARTICLE",{class:!0});var P=b(s);r=_(P,"H4",{class:!0});var D=b(r);p=O(D,"Allow Analytics"),D.forEach(u),l=L(P),e=_(P,"P",{class:!0});var $=b(e);f=O($,"Allow analytics to run.   Read more: "),c=_($,"A",{href:!0});var w=b(c);o=O(w,"privacy policy"),w.forEach(u),a=O($,"."),$.forEach(u),P.forEach(u),y=L(E),k=_(E,"ASIDE",{class:!0});var U=b(k);h=_(U,"INPUT",{type:!0,id:!0,name:!0,class:!0}),S=L(U),A=_(U,"LABEL",{for:!0,class:!0});var H=b(A);v=O(H,"subscribe to 3ee insight newsletter"),H.forEach(u),U.forEach(u),E.forEach(u),this.h()},h(){d(r,"class","highlight large svelte-1rp1z0z"),d(c,"href","/account/privacy/"),d(e,"class","svelte-1rp1z0z"),d(s,"class","main svelte-1rp1z0z"),d(h,"type","checkbox"),d(h,"id","track_google_analytics"),d(h,"name","track_google_analytics"),h.checked=n[1],d(h,"class","svelte-1rp1z0z"),d(A,"for","track_google_analytics"),d(A,"class","svelte-1rp1z0z"),d(k,"class","aside aside-1 svelte-1rp1z0z"),d(t,"class","option-container svelte-1rp1z0z")},m(I,E){z(I,t,E),i(t,s),i(s,r),i(r,p),i(s,l),i(s,e),i(e,f),i(e,c),i(c,o),i(e,a),i(t,y),i(t,k),i(k,h),M(h,n[0]),i(k,S),i(k,A),i(A,v),m||(T=[Y(h,"change",n[3]),Y(h,"change",le(n[2]))],m=!0)},p(I,[E]){E&2&&(h.checked=I[1]),E&1&&M(h,I[0])},i:J,o:J,d(I){I&&u(t),m=!1,ne(T)}}}function Oe(n,t,s){const r=re();let{analyticsTrack:p="checked"}=t,{isTracking:l=!0}=t;const e=async c=>{r("onUpdateSettings",{id:c.target.id,checked:c.target.checked})};function f(){l=this.value,s(0,l)}return n.$$set=c=>{"analyticsTrack"in c&&s(1,p=c.analyticsTrack),"isTracking"in c&&s(0,l=c.isTracking)},[l,p,e,f]}class ze extends X{constructor(t){super(),Z(this,t,Oe,Ne,R,{analyticsTrack:1,isTracking:0})}}function Ve(n){let t,s,r,p,l,e,f,c,o,a,y,k,h,S,A;return{c(){t=g("div"),s=g("article"),r=g("h4"),p=N("Play Website Animation"),l=j(),e=g("p"),f=N("Toggle animations on and off."),c=j(),o=g("aside"),a=g("input"),y=j(),k=g("label"),h=N("play website animations"),this.h()},l(v){t=_(v,"DIV",{class:!0});var m=b(t);s=_(m,"ARTICLE",{class:!0});var T=b(s);r=_(T,"H4",{class:!0});var I=b(r);p=O(I,"Play Website Animation"),I.forEach(u),l=L(T),e=_(T,"P",{class:!0});var E=b(e);f=O(E,"Toggle animations on and off."),E.forEach(u),T.forEach(u),c=L(m),o=_(m,"ASIDE",{class:!0});var P=b(o);a=_(P,"INPUT",{type:!0,id:!0,name:!0,class:!0}),y=L(P),k=_(P,"LABEL",{for:!0,class:!0});var D=b(k);h=O(D,"play website animations"),D.forEach(u),P.forEach(u),m.forEach(u),this.h()},h(){d(r,"class","highlight large svelte-mm5mlt"),d(e,"class","svelte-mm5mlt"),d(s,"class","main svelte-mm5mlt"),d(a,"type","checkbox"),d(a,"id","show_website_animations"),d(a,"name","show_website_animations"),a.checked=n[1],d(a,"class","svelte-mm5mlt"),d(k,"for","show_website_animations"),d(k,"class","svelte-mm5mlt"),d(o,"class","aside aside-1 svelte-mm5mlt"),d(t,"class","option-container svelte-mm5mlt")},m(v,m){z(v,t,m),i(t,s),i(s,r),i(r,p),i(s,l),i(s,e),i(e,f),i(t,c),i(t,o),i(o,a),M(a,n[0]),i(o,y),i(o,k),i(k,h),S||(A=[Y(a,"change",n[3]),Y(a,"change",le(n[2]))],S=!0)},p(v,[m]){m&2&&(a.checked=v[1]),m&1&&M(a,v[0])},i:J,o:J,d(v){v&&u(t),S=!1,ne(A)}}}function $e(n,t,s){const r=re();let{animations:p="checked"}=t,{isAnimationsToggled:l=!0}=t;const e=async c=>{r("onUpdateSettings",{id:c.target.id,checked:c.target.checked})};function f(){l=this.value,s(0,l)}return n.$$set=c=>{"animations"in c&&s(1,p=c.animations),"isAnimationsToggled"in c&&s(0,l=c.isAnimationsToggled)},[l,p,e,f]}class He extends X{constructor(t){super(),Z(this,t,$e,Ve,R,{animations:1,isAnimationsToggled:0})}}function Fe(n){let t,s,r,p,l,e,f,c,o,a,y,k,h,S,A,v,m,T;return{c(){t=g("div"),s=g("article"),r=g("h4"),p=N("Select a theme"),l=j(),e=g("p"),f=N("Choose a theme for your experience."),c=j(),o=g("aside"),a=g("select"),y=g("option"),k=N("Default"),h=g("option"),S=N("Spacelab"),A=g("option"),v=N("Balace"),this.h()},l(I){t=_(I,"DIV",{class:!0});var E=b(t);s=_(E,"ARTICLE",{class:!0});var P=b(s);r=_(P,"H4",{class:!0});var D=b(r);p=O(D,"Select a theme"),D.forEach(u),l=L(P),e=_(P,"P",{class:!0});var $=b(e);f=O($,"Choose a theme for your experience."),$.forEach(u),P.forEach(u),c=L(E),o=_(E,"ASIDE",{class:!0});var w=b(o);a=_(w,"SELECT",{id:!0,class:!0});var U=b(a);y=_(U,"OPTION",{});var H=b(y);k=O(H,"Default"),H.forEach(u),h=_(U,"OPTION",{});var q=b(h);S=O(q,"Spacelab"),q.forEach(u),A=_(U,"OPTION",{});var G=b(A);v=O(G,"Balace"),G.forEach(u),U.forEach(u),w.forEach(u),E.forEach(u),this.h()},h(){d(r,"class","highlight large svelte-1tzdknh"),d(e,"class","svelte-1tzdknh"),d(s,"class","main svelte-1tzdknh"),y.__value="0",y.value=y.__value,h.__value="1",h.value=h.__value,A.__value="2",A.value=A.__value,d(a,"id","theme-selector"),d(a,"class","svelte-1tzdknh"),n[0]===void 0&&be(()=>n[3].call(a)),d(o,"class","aside aside-1 svelte-1tzdknh"),d(t,"class","option-container svelte-1tzdknh")},m(I,E){z(I,t,E),i(t,s),i(s,r),i(r,p),i(s,l),i(s,e),i(e,f),i(t,c),i(t,o),i(o,a),i(a,y),i(y,k),i(a,h),i(h,S),i(a,A),i(A,v),he(a,n[0]),m||(T=[Y(a,"change",n[3]),Y(a,"change",n[1])],m=!0)},p(I,[E]){E&1&&he(a,I[0])},i:J,o:J,d(I){I&&u(t),m=!1,ne(T)}}}function qe(n,t,s){let r;const p=re();let{theme:l=0}=t;const e=async c=>{p("onUpdateSettings",{id:c.target.id,value:parseInt(c.target.value)})};function f(){r=ke(this),s(0,r),s(2,l)}return n.$$set=c=>{"theme"in c&&s(2,l=c.theme)},n.$$.update=()=>{n.$$.dirty&4&&s(0,r=l.toString())},[r,e,l,f]}class Be extends X{constructor(t){super(),Z(this,t,qe,Fe,R,{theme:2})}}function Ye(n){var G,F;let t,s,r,p,l,e,f,c,o,a,y,k,h,S,A,v,m,T,I,E,P,D,$,w,U,H,q;return S=new Ce({props:{isProfileImageLoading:n[0]}}),S.$on("onFileSelected",n[11]),S.$on("onUpdate",n[11]),S.$on("onViewAvatar",n[13]),v=new Se({props:{token:n[3]}}),T=new Be({props:{theme:(F=(G=n[1])==null?void 0:G.settings)==null?void 0:F.theme}}),T.$on("onUpdateSettings",n[12]),E=new De({props:{subscribeInsight:n[8],isSubscribedToInsight:n[5]}}),E.$on("onUpdateSettings",n[12]),D=new ze({props:{analyticsTrack:n[9],isTracking:n[6]}}),D.$on("onUpdateSettings",n[12]),w=new He({props:{animations:n[10],isAnimationsToggled:n[7]}}),w.$on("onUpdateSettings",n[12]),{c(){t=g("div"),s=g("h1"),r=N("Your Profile"),p=j(),l=g("div"),e=g("img"),o=j(),a=g("h2"),y=N(n[4]),k=j(),h=g("form"),x(S.$$.fragment),A=j(),x(v.$$.fragment),m=j(),x(T.$$.fragment),I=j(),x(E.$$.fragment),P=j(),x(D.$$.fragment),$=j(),x(w.$$.fragment),U=j(),H=g("hr"),this.h()},l(C){t=_(C,"DIV",{class:!0});var V=b(t);s=_(V,"H1",{});var K=b(s);r=O(K,"Your Profile"),K.forEach(u),p=L(V),l=_(V,"DIV",{class:!0});var oe=b(l);e=_(oe,"IMG",{class:!0,src:!0,alt:!0}),oe.forEach(u),o=L(V),a=_(V,"H2",{});var ce=b(a);y=O(ce,n[4]),ce.forEach(u),k=L(V),h=_(V,"FORM",{class:!0});var B=b(h);ee(S.$$.fragment,B),A=L(B),ee(v.$$.fragment,B),m=L(B),ee(T.$$.fragment,B),I=L(B),ee(E.$$.fragment,B),P=L(B),ee(D.$$.fragment,B),$=L(B),ee(w.$$.fragment,B),B.forEach(u),V.forEach(u),U=L(C),H=_(C,"HR",{}),this.h()},h(){d(e,"class","profile-image svelte-4qvar1"),me(e.src,f=n[2])||d(e,"src",f),d(e,"alt",c=n[1].username+" profile avatar"),d(l,"class","mask-border svelte-4qvar1"),d(h,"class","settings-form svelte-4qvar1"),d(t,"class","profile-container svelte-4qvar1")},m(C,V){z(C,t,V),i(t,s),i(s,r),i(t,p),i(t,l),i(l,e),i(t,o),i(t,a),i(a,y),i(t,k),i(t,h),te(S,h,null),i(h,A),te(v,h,null),i(h,m),te(T,h,null),i(h,I),te(E,h,null),i(h,P),te(D,h,null),i(h,$),te(w,h,null),z(C,U,V),z(C,H,V),q=!0},p(C,[V]){var ce,B;(!q||V&4&&!me(e.src,f=C[2]))&&d(e,"src",f),(!q||V&2&&c!==(c=C[1].username+" profile avatar"))&&d(e,"alt",c);const K={};V&1&&(K.isProfileImageLoading=C[0]),S.$set(K);const oe={};V&2&&(oe.theme=(B=(ce=C[1])==null?void 0:ce.settings)==null?void 0:B.theme),T.$set(oe)},i(C){q||(se(S.$$.fragment,C),se(v.$$.fragment,C),se(T.$$.fragment,C),se(E.$$.fragment,C),se(D.$$.fragment,C),se(w.$$.fragment,C),q=!0)},o(C){ae(S.$$.fragment,C),ae(v.$$.fragment,C),ae(T.$$.fragment,C),ae(E.$$.fragment,C),ae(D.$$.fragment,C),ae(w.$$.fragment,C),q=!1},d(C){C&&u(t),ie(S),ie(v),ie(T),ie(E),ie(D),ie(w),C&&u(U),C&&u(H)}}}function Je(n,t,s){var T,I,E,P,D,$,w,U,H,q,G;let r;const p=re();let{isProfileImageLoading:l=!1}=t,e;Q.subscribe(F=>{s(1,e=F)});const f=e.token,c=e.username;let o=!!(typeof((T=e==null?void 0:e.settings)==null?void 0:T.insight_subscription)!="undefined"&&((I=e==null?void 0:e.settings)==null?void 0:I.insight_subscription)),a=!!(typeof((E=e==null?void 0:e.settings)==null?void 0:E.track_google_analytics)!="undefined"&&((P=e==null?void 0:e.settings)==null?void 0:P.track_google_analytics)),y=!!(typeof((D=e==null?void 0:e.settings)==null?void 0:D.show_website_animations)!="undefined"&&(($=e==null?void 0:e.settings)==null?void 0:$.show_website_animations));typeof((w=e==null?void 0:e.settings)==null?void 0:w.theme)!="undefined"&&((U=e==null?void 0:e.settings)==null?void 0:U.theme)||(H=e==null?void 0:e.settings)==null||H.the;let k=o?"checked":"",h=a?"checked":"",S=y?"checked":"";typeof((q=e==null?void 0:e.profile)==null?void 0:q.useDiffusion)!="undefined"&&((G=e==null?void 0:e.profile)==null||G.useDiffusion);const A=async(F,C)=>{p("onFileSelected",F.detail,C)},v=async F=>{p("onUpdateSettings",F.detail)},m=async F=>{p("onViewAvatar",F.detail)};return n.$$set=F=>{"isProfileImageLoading"in F&&s(0,l=F.isProfileImageLoading)},n.$$.update=()=>{var F;n.$$.dirty&2&&s(2,r=typeof((F=e==null?void 0:e.profile)==null?void 0:F.image)!="undefined"?e.profile.image:"")},[l,e,r,f,c,o,a,y,k,h,S,A,v,m]}class We extends X{constructor(t){super(),Z(this,t,Je,Ye,R,{isProfileImageLoading:0})}}function Ge(n){let t,s,r,p;return r=new We({props:{prompt:n[1],isProfileImageLoading:n[0]}}),r.$on("onUpdateSettings",n[3]),r.$on("onFileSelected",n[2]),{c(){t=g("section"),s=g("article"),x(r.$$.fragment),this.h()},l(l){t=_(l,"SECTION",{class:!0});var e=b(t);s=_(e,"ARTICLE",{class:!0});var f=b(s);ee(r.$$.fragment,f),f.forEach(u),e.forEach(u),this.h()},h(){d(s,"class","content"),d(t,"class","background")},m(l,e){z(l,t,e),i(t,s),te(r,s,null),p=!0},p(l,[e]){const f={};e&2&&(f.prompt=l[1]),e&1&&(f.isProfileImageLoading=l[0]),r.$set(f)},i(l){p||(se(r.$$.fragment,l),p=!0)},o(l){ae(r.$$.fragment,l),p=!1},d(l){l&&u(t),ie(r)}}}function Me(n,t,s){let r,p;Q.subscribe(m=>{p=m});let l=null,e={},f=new FormData,c=!1,o=!1,a=!0,y=0,k=!0;const h=p.token,S=async(m,T)=>{l=m.detail.file,new FileReader().readAsDataURL(l),f.append("file",l),f.append("useDiffusion",!1),A()},A=async()=>{s(0,c=!0);const m=await fetch(`${de().serviceUrl}/account/upload/`,{method:"POST",headers:{Accept:"application/json","Access-Control-Allow-Origin":"https://3ee.com",Authorization:"Token "+h},mode:"cors",body:f});if(m.status===401){Q.set({}),Q.deleteLocalStorage(),pe("/account/login");return}const T=await m.json();let I=p;I.profile.image=T.image,I.profile.imageSmall=T.imageSmall,Q.set(I),s(0,c=!1),typeof umami!="undefined"&&umami.trackEvent("Upload Avatar",{success:!0})},v=async m=>{m.detail.id==="insight_subscription"?o=m.detail.checked:m.detail.id==="track_google_analytics"?k=m.detail.checked:m.detail.id==="show_website_animations"?a=m.detail.checked:m.detail.id==="theme-selector"&&(y=m.detail.value);const T={insight_subscription:o,track_google_analytics:k,show_website_animations:a,theme:y},I=await fetch(`${de().serviceUrl}/account/settings/`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"https://3ee.com",Authorization:"Token "+h},mode:"cors",body:JSON.stringify(T)});if(I.status===401){Q.set({}),Q.deleteLocalStorage(),pe("/account/login");return}const E=await I.json();let P=p;P.settings=E,Q.set(P)};return s(1,r=e),[c,r,S,v]}class et extends X{constructor(t){super(),Z(this,t,Me,Ge,R,{})}}export{et as default};
