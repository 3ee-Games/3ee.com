import{S as so,i as no,s as oo,C as $s,w as Xn,x as Qn,y as Kn,z as lo,A as Wn,q as Yn,o as zn,B as Vn,a1 as Bn,e as s,t as l,k as u,c as n,a as o,h as p,d as t,m as h,b as r,g as c,G as a,E as po}from"../../chunks/index-2a82a4a8.js";import{P as io}from"../../chunks/_post-913f18eb.js";import{S as co}from"../../chunks/SpaceLabTeaser-62860e05.js";import"../../chunks/Player-9202028c.js";import"../../chunks/menuContextStore-c2e700c4.js";import"../../chunks/index-16dda89e.js";import"../../chunks/accountStore-3492c591.js";import"../../chunks/svgMapper-8913ab38.js";import"../../chunks/navigation-0e6511d1.js";import"../../chunks/singletons-d1fb5791.js";function ro(pe){let f,b,_,E,d,g,ie,ht,ce,Kt,dt,H,S,xe,Yt,ft,re,zt,mt,ue,Vt,kt,he,Ie,Zt,vt,T,O,Ce,ea,gt,de,ta,Et,R,fe,Pe,aa,sa,na,C,oa,He,la,pa,Se,ia,ca,wt,me,ra,bt,D,j,Te,ua,_t,w,A,Oe,ha,da,Re,fa,ma,ka,L,De,va,ga,je,Ea,wa,ba,N,Ae,_a,ya,Le,xa,Ia,Ca,U,Ne,Pa,Ha,Ue,Sa,Ta,yt,$,q,$e,Oa,xt,ke,Ra,It,F,qe,Da,ja,Fe,Aa,Ct,J,La,V,Na,Ua,Pt,M,$a,Je,qa,Fa,Ht,W,B,Me,Ja,St,ve,Ma,Tt,Z,Zn=`<code class="language-jsx"><span class="token comment">// Class component</span>
<span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> Component <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Cat</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">&#123;</span>
  state <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    <span class="token literal-property property">agility</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
    <span class="token literal-property property">balance</span><span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span>
    <span class="token literal-property property">sight</span><span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span><span class="token plain-text">Cat Stats</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">Agility: </span><span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>agility<span class="token punctuation">&#125;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">Balance: </span><span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>balance<span class="token punctuation">&#125;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">Sight: </span><span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>sight<span class="token punctuation">&#125;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Cat<span class="token punctuation">;</span></code>`,Ot,ge,Wa,Rt,ee,eo=`<code class="language-jsx"><span class="token comment">// Functional component</span>
<span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> useState <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">Cat</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">&#123;</span> agility<span class="token punctuation">,</span> balance<span class="token punctuation">,</span> sight <span class="token punctuation">&#125;</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span><span class="token plain-text">Cat Stats</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">Agility: </span><span class="token punctuation">&#123;</span>agility<span class="token punctuation">&#125;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">Balance: </span><span class="token punctuation">&#123;</span>balance<span class="token punctuation">&#125;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">Sight: </span><span class="token punctuation">&#123;</span>sight<span class="token punctuation">&#125;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Cat<span class="token punctuation">;</span></code>`,Dt,m,Ba,We,Ga,Xa,Be,Qa,Ka,Ge,Ya,za,Xe,Va,Za,jt,k,es,Qe,ts,as,Ke,ss,ns,Ye,os,ls,ze,ps,is,At,G,cs,Ve,rs,us,Lt,Ee,P,hs,Ze,ds,fs,et,ms,ks,Nt,X,Q,tt,vs,Ut,we,gs,$t,K,Y,at,Es,qt,be,ws,Ft,v,st,te,bs,_s,nt,ae,ys,xs,ot,se,Is,Cs,lt,ne,Ps,Hs,pt,oe,Ss,Jt,le,Mt;return le=new co({}),{c(){f=s("p"),b=l("I find it interesting to consider the idea of using React as a UI and Phaser as a headless, UI-less game engine. In this blog post, I\u2019ll explore this concept in more detail."),_=u(),E=s("h2"),d=s("a"),g=s("span"),ie=l("The Concept"),ht=u(),ce=s("p"),Kt=l("The idea behind this approach is to use React to handle the UI elements of a game, while using Phaser as a headless game engine to handle the gameplay mechanics. This approach can help to alleviate the burden of handling the UI in Canvas. RequestAnimationFrame can be expensive and should be used for the game only. The canvas game shouldn\u2019t be wasting valuable updates for the UI."),dt=u(),H=s("h2"),S=s("a"),xe=s("span"),Yt=l("The Game"),ft=u(),re=s("p"),zt=l("The game we\u2019ll be developing is using Next.js (a React framework) and Phaser (JavaScript game engine). Next.js compiles a static HTML version of the game that can be used on iOS/Android webview for mobile, NW.js/Electron for desktop (similar to what Discord does)."),mt=u(),ue=s("p"),Vt=l("The game is a Next.js application that builds the Phaser game and starts up normally. The Next.js application is handling the UI elements like the merchant dialog, player bag, player armory, and other dialogs like the death dialog."),kt=u(),he=s("blockquote"),Ie=s("p"),Zt=l("This is a similar approach to older console games that used Scaleform - which under the hood was using Flash and overlaying the UI created by a Flash developer. From there, Scaleform would sit on top of the c++ game engine."),vt=u(),T=s("h2"),O=s("a"),Ce=s("span"),ea=l("Writing the Bridge between Canvas and React"),gt=u(),de=s("p"),ta=l("To create the bridge between Phaser and React, we\u2019ll use an event listener:"),Et=u(),R=s("ul"),fe=s("li"),Pe=s("code"),aa=l("addEventListener"),sa=l(" on the document object to send objects back and forth."),na=u(),C=s("li"),oa=l("The implementation of "),He=s("code"),la=l("addEventListener"),pa=l(" is contained within a hook that implements an Effect Hook: "),Se=s("code"),ia=l("useEffect"),ca=l(" so that state can be passed in."),wt=u(),me=s("p"),ra=l("The performance issue that was solved here was to convert the class components (Bag, Armory, DeathDialog, MerchantDialog) to functional components and then use hooks to manage the add/remove listeners."),bt=u(),D=s("h3"),j=s("a"),Te=s("span"),ua=l("Types of Hooks"),_t=u(),w=s("ul"),A=s("li"),Oe=s("strong"),ha=l("State Hooks:"),da=u(),Re=s("code"),fa=l("useState"),ma=l(" - called inside a function component to add some local state (e.g., a counter)."),ka=u(),L=s("li"),De=s("strong"),va=l("Effect Hooks:"),ga=u(),je=s("code"),Ea=l("useEffect"),wa=l(" - perform side effects from a function component (e.g., listening to an event fire from the DOM)."),ba=u(),N=s("li"),Ae=s("strong"),_a=l("Context Hooks:"),ya=u(),Le=s("code"),xa=l("useContext"),Ia=l(" - subscribe to React context without introducing nesting (e.g., dark & light themes)."),Ca=u(),U=s("li"),Ne=s("strong"),Pa=l("Reducer Hooks:"),Ha=u(),Ue=s("code"),Sa=l("useReducer"),Ta=l(" - lets you manage the local state of complex components with a reducer (e.g., dealing with complex state logic)."),yt=u(),$=s("h3"),q=s("a"),$e=s("span"),Oa=l("Rules of Using Hooks"),xt=u(),ke=s("p"),Ra=l("Take the time to learn hooks and using functional components."),It=u(),F=s("ul"),qe=s("li"),Da=l("Call Hooks at the top level only: Only call Hooks at the top level. Don\u2019t call Hooks inside loops, conditions, or nested functions."),ja=u(),Fe=s("li"),Aa=l("Functional Components only: Only call Hooks from React function components. Don\u2019t call Hooks from regular JavaScript functions (see Custom Hooks)."),Ct=u(),J=s("p"),La=l("If you are using class components, don\u2019t worry - porting class components to functional components is trivial. Simply follow the "),V=s("a"),Na=l("pattern of functional components"),Ua=l(" when porting classes."),Pt=u(),M=s("p"),$a=l("Pay close attention to "),Je=s("code"),qa=l("useState"),Fa=l(" when rewriting your new functional components. Once you spend time writing functional components, you\u2019ll enjoy using them, and paired with hooks, they make the component design simple to implement and iterate on the design of the interface."),Ht=u(),W=s("h2"),B=s("a"),Me=s("span"),Ja=l("class to functional component"),St=u(),ve=s("p"),Ma=l("An example of the class component.  It\u2019s a Cat that holds state for agility, balance, and sight:"),Tt=u(),Z=s("pre"),Ot=u(),ge=s("p"),Wa=l("Now, let\u2019s see how we can convert this class component into a functional component."),Rt=u(),ee=s("pre"),Dt=u(),m=s("p"),Ba=l("In the above example, we have a "),We=s("code"),Ga=l("Cat"),Xa=l(" component that is originally written as a class component. It has a state object that holds the cat\u2019s abilities: "),Be=s("code"),Qa=l("agility"),Ka=l(", "),Ge=s("code"),Ya=l("balance"),za=l(", and "),Xe=s("code"),Va=l("sight"),Za=l(". The render method displays the cat\u2019s stats using JSX."),jt=u(),k=s("p"),es=l("To convert this component to a functional component, we can replace the class declaration with a function declaration. We also need to remove the "),Qe=s("code"),ts=l("state"),as=l(" object and replace it with parameters passed into the function. In this example, the parameters are "),Ke=s("code"),ss=l("agility"),ns=l(", "),Ye=s("code"),os=l("balance"),ls=l(", and "),ze=s("code"),ps=l("sight"),is=l("."),At=u(),G=s("p"),cs=l("In the functional component version of the "),Ve=s("code"),rs=l("Cat"),us=l(" component, we use destructuring to extract the parameters from the props object. We then use those parameters to display the cat\u2019s stats using JSX."),Lt=u(),Ee=s("blockquote"),P=s("p"),hs=l("\u{1F4C4} Note that the functional component does not have a "),Ze=s("code"),ds=l("this"),fs=l(" object or a "),et=s("code"),ms=l("render"),ks=l(" method. Instead, we simply return JSX directly from the function."),Nt=u(),X=s("h2"),Q=s("a"),tt=s("span"),vs=l("Have a solid understanding of Hooks"),Ut=u(),we=s("p"),gs=l("Taking the time to understand hooks and why we are using them is the first important building block to building the bridge between the game engine and UI. Pick the areas that you need side effects - the Effect Hook, which allows for data fetching, DOM updates, and for our example for the bridge: we use addEventListener within useEffect.  In the callback for useEffect, pass in removeEventListener to clean up that instance of the event listener."),$t=u(),K=s("h2"),Y=s("a"),at=s("span"),Es=l("Resources and frameworks"),qt=u(),be=s("p"),ws=l("Here\u2019s all the resources and frameworks used in the video:"),Ft=u(),v=s("ul"),st=s("li"),te=s("a"),bs=l("Phaser with a React UI Youtube video"),_s=u(),nt=s("li"),ae=s("a"),ys=l("Phaser JS - HTML5 game engine"),xs=u(),ot=s("li"),se=s("a"),Is=l("Next.js"),Cs=u(),lt=s("li"),ne=s("a"),Ps=l("React"),Hs=u(),pt=s("li"),oe=s("a"),Ss=l("Hooks at a glance"),Jt=u(),Xn(le.$$.fragment),this.h()},l(e){f=n(e,"P",{});var i=o(f);b=p(i,"I find it interesting to consider the idea of using React as a UI and Phaser as a headless, UI-less game engine. In this blog post, I\u2019ll explore this concept in more detail."),i.forEach(t),_=h(e),E=n(e,"H2",{id:!0});var Ts=o(E);d=n(Ts,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var qs=o(d);g=n(qs,"SPAN",{class:!0}),o(g).forEach(t),qs.forEach(t),ie=p(Ts,"The Concept"),Ts.forEach(t),ht=h(e),ce=n(e,"P",{});var Fs=o(ce);Kt=p(Fs,"The idea behind this approach is to use React to handle the UI elements of a game, while using Phaser as a headless game engine to handle the gameplay mechanics. This approach can help to alleviate the burden of handling the UI in Canvas. RequestAnimationFrame can be expensive and should be used for the game only. The canvas game shouldn\u2019t be wasting valuable updates for the UI."),Fs.forEach(t),dt=h(e),H=n(e,"H2",{id:!0});var Os=o(H);S=n(Os,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var Js=o(S);xe=n(Js,"SPAN",{class:!0}),o(xe).forEach(t),Js.forEach(t),Yt=p(Os,"The Game"),Os.forEach(t),ft=h(e),re=n(e,"P",{});var Ms=o(re);zt=p(Ms,"The game we\u2019ll be developing is using Next.js (a React framework) and Phaser (JavaScript game engine). Next.js compiles a static HTML version of the game that can be used on iOS/Android webview for mobile, NW.js/Electron for desktop (similar to what Discord does)."),Ms.forEach(t),mt=h(e),ue=n(e,"P",{});var Ws=o(ue);Vt=p(Ws,"The game is a Next.js application that builds the Phaser game and starts up normally. The Next.js application is handling the UI elements like the merchant dialog, player bag, player armory, and other dialogs like the death dialog."),Ws.forEach(t),kt=h(e),he=n(e,"BLOCKQUOTE",{});var Bs=o(he);Ie=n(Bs,"P",{});var Gs=o(Ie);Zt=p(Gs,"This is a similar approach to older console games that used Scaleform - which under the hood was using Flash and overlaying the UI created by a Flash developer. From there, Scaleform would sit on top of the c++ game engine."),Gs.forEach(t),Bs.forEach(t),vt=h(e),T=n(e,"H2",{id:!0});var Rs=o(T);O=n(Rs,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var Xs=o(O);Ce=n(Xs,"SPAN",{class:!0}),o(Ce).forEach(t),Xs.forEach(t),ea=p(Rs,"Writing the Bridge between Canvas and React"),Rs.forEach(t),gt=h(e),de=n(e,"P",{});var Qs=o(de);ta=p(Qs,"To create the bridge between Phaser and React, we\u2019ll use an event listener:"),Qs.forEach(t),Et=h(e),R=n(e,"UL",{});var Wt=o(R);fe=n(Wt,"LI",{});var Ds=o(fe);Pe=n(Ds,"CODE",{});var Ks=o(Pe);aa=p(Ks,"addEventListener"),Ks.forEach(t),sa=p(Ds," on the document object to send objects back and forth."),Ds.forEach(t),na=h(Wt),C=n(Wt,"LI",{});var _e=o(C);oa=p(_e,"The implementation of "),He=n(_e,"CODE",{});var Ys=o(He);la=p(Ys,"addEventListener"),Ys.forEach(t),pa=p(_e," is contained within a hook that implements an Effect Hook: "),Se=n(_e,"CODE",{});var zs=o(Se);ia=p(zs,"useEffect"),zs.forEach(t),ca=p(_e," so that state can be passed in."),_e.forEach(t),Wt.forEach(t),wt=h(e),me=n(e,"P",{});var Vs=o(me);ra=p(Vs,"The performance issue that was solved here was to convert the class components (Bag, Armory, DeathDialog, MerchantDialog) to functional components and then use hooks to manage the add/remove listeners."),Vs.forEach(t),bt=h(e),D=n(e,"H3",{id:!0});var js=o(D);j=n(js,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var Zs=o(j);Te=n(Zs,"SPAN",{class:!0}),o(Te).forEach(t),Zs.forEach(t),ua=p(js,"Types of Hooks"),js.forEach(t),_t=h(e),w=n(e,"UL",{});var z=o(w);A=n(z,"LI",{});var it=o(A);Oe=n(it,"STRONG",{});var en=o(Oe);ha=p(en,"State Hooks:"),en.forEach(t),da=h(it),Re=n(it,"CODE",{});var tn=o(Re);fa=p(tn,"useState"),tn.forEach(t),ma=p(it," - called inside a function component to add some local state (e.g., a counter)."),it.forEach(t),ka=h(z),L=n(z,"LI",{});var ct=o(L);De=n(ct,"STRONG",{});var an=o(De);va=p(an,"Effect Hooks:"),an.forEach(t),ga=h(ct),je=n(ct,"CODE",{});var sn=o(je);Ea=p(sn,"useEffect"),sn.forEach(t),wa=p(ct," - perform side effects from a function component (e.g., listening to an event fire from the DOM)."),ct.forEach(t),ba=h(z),N=n(z,"LI",{});var rt=o(N);Ae=n(rt,"STRONG",{});var nn=o(Ae);_a=p(nn,"Context Hooks:"),nn.forEach(t),ya=h(rt),Le=n(rt,"CODE",{});var on=o(Le);xa=p(on,"useContext"),on.forEach(t),Ia=p(rt," - subscribe to React context without introducing nesting (e.g., dark & light themes)."),rt.forEach(t),Ca=h(z),U=n(z,"LI",{});var ut=o(U);Ne=n(ut,"STRONG",{});var ln=o(Ne);Pa=p(ln,"Reducer Hooks:"),ln.forEach(t),Ha=h(ut),Ue=n(ut,"CODE",{});var pn=o(Ue);Sa=p(pn,"useReducer"),pn.forEach(t),Ta=p(ut," - lets you manage the local state of complex components with a reducer (e.g., dealing with complex state logic)."),ut.forEach(t),z.forEach(t),yt=h(e),$=n(e,"H3",{id:!0});var As=o($);q=n(As,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var cn=o(q);$e=n(cn,"SPAN",{class:!0}),o($e).forEach(t),cn.forEach(t),Oa=p(As,"Rules of Using Hooks"),As.forEach(t),xt=h(e),ke=n(e,"P",{});var rn=o(ke);Ra=p(rn,"Take the time to learn hooks and using functional components."),rn.forEach(t),It=h(e),F=n(e,"UL",{});var Bt=o(F);qe=n(Bt,"LI",{});var un=o(qe);Da=p(un,"Call Hooks at the top level only: Only call Hooks at the top level. Don\u2019t call Hooks inside loops, conditions, or nested functions."),un.forEach(t),ja=h(Bt),Fe=n(Bt,"LI",{});var hn=o(Fe);Aa=p(hn,"Functional Components only: Only call Hooks from React function components. Don\u2019t call Hooks from regular JavaScript functions (see Custom Hooks)."),hn.forEach(t),Bt.forEach(t),Ct=h(e),J=n(e,"P",{});var Gt=o(J);La=p(Gt,"If you are using class components, don\u2019t worry - porting class components to functional components is trivial. Simply follow the "),V=n(Gt,"A",{href:!0,rel:!0});var dn=o(V);Na=p(dn,"pattern of functional components"),dn.forEach(t),Ua=p(Gt," when porting classes."),Gt.forEach(t),Pt=h(e),M=n(e,"P",{});var Xt=o(M);$a=p(Xt,"Pay close attention to "),Je=n(Xt,"CODE",{});var fn=o(Je);qa=p(fn,"useState"),fn.forEach(t),Fa=p(Xt," when rewriting your new functional components. Once you spend time writing functional components, you\u2019ll enjoy using them, and paired with hooks, they make the component design simple to implement and iterate on the design of the interface."),Xt.forEach(t),Ht=h(e),W=n(e,"H2",{id:!0});var Ls=o(W);B=n(Ls,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var mn=o(B);Me=n(mn,"SPAN",{class:!0}),o(Me).forEach(t),mn.forEach(t),Ja=p(Ls,"class to functional component"),Ls.forEach(t),St=h(e),ve=n(e,"P",{});var kn=o(ve);Ma=p(kn,"An example of the class component.  It\u2019s a Cat that holds state for agility, balance, and sight:"),kn.forEach(t),Tt=h(e),Z=n(e,"PRE",{class:!0});var to=o(Z);to.forEach(t),Ot=h(e),ge=n(e,"P",{});var vn=o(ge);Wa=p(vn,"Now, let\u2019s see how we can convert this class component into a functional component."),vn.forEach(t),Rt=h(e),ee=n(e,"PRE",{class:!0});var ao=o(ee);ao.forEach(t),Dt=h(e),m=n(e,"P",{});var y=o(m);Ba=p(y,"In the above example, we have a "),We=n(y,"CODE",{});var gn=o(We);Ga=p(gn,"Cat"),gn.forEach(t),Xa=p(y," component that is originally written as a class component. It has a state object that holds the cat\u2019s abilities: "),Be=n(y,"CODE",{});var En=o(Be);Qa=p(En,"agility"),En.forEach(t),Ka=p(y,", "),Ge=n(y,"CODE",{});var wn=o(Ge);Ya=p(wn,"balance"),wn.forEach(t),za=p(y,", and "),Xe=n(y,"CODE",{});var bn=o(Xe);Va=p(bn,"sight"),bn.forEach(t),Za=p(y,". The render method displays the cat\u2019s stats using JSX."),y.forEach(t),jt=h(e),k=n(e,"P",{});var x=o(k);es=p(x,"To convert this component to a functional component, we can replace the class declaration with a function declaration. We also need to remove the "),Qe=n(x,"CODE",{});var _n=o(Qe);ts=p(_n,"state"),_n.forEach(t),as=p(x," object and replace it with parameters passed into the function. In this example, the parameters are "),Ke=n(x,"CODE",{});var yn=o(Ke);ss=p(yn,"agility"),yn.forEach(t),ns=p(x,", "),Ye=n(x,"CODE",{});var xn=o(Ye);os=p(xn,"balance"),xn.forEach(t),ls=p(x,", and "),ze=n(x,"CODE",{});var In=o(ze);ps=p(In,"sight"),In.forEach(t),is=p(x,"."),x.forEach(t),At=h(e),G=n(e,"P",{});var Qt=o(G);cs=p(Qt,"In the functional component version of the "),Ve=n(Qt,"CODE",{});var Cn=o(Ve);rs=p(Cn,"Cat"),Cn.forEach(t),us=p(Qt," component, we use destructuring to extract the parameters from the props object. We then use those parameters to display the cat\u2019s stats using JSX."),Qt.forEach(t),Lt=h(e),Ee=n(e,"BLOCKQUOTE",{});var Pn=o(Ee);P=n(Pn,"P",{});var ye=o(P);hs=p(ye,"\u{1F4C4} Note that the functional component does not have a "),Ze=n(ye,"CODE",{});var Hn=o(Ze);ds=p(Hn,"this"),Hn.forEach(t),fs=p(ye," object or a "),et=n(ye,"CODE",{});var Sn=o(et);ms=p(Sn,"render"),Sn.forEach(t),ks=p(ye," method. Instead, we simply return JSX directly from the function."),ye.forEach(t),Pn.forEach(t),Nt=h(e),X=n(e,"H2",{id:!0});var Ns=o(X);Q=n(Ns,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var Tn=o(Q);tt=n(Tn,"SPAN",{class:!0}),o(tt).forEach(t),Tn.forEach(t),vs=p(Ns,"Have a solid understanding of Hooks"),Ns.forEach(t),Ut=h(e),we=n(e,"P",{});var On=o(we);gs=p(On,"Taking the time to understand hooks and why we are using them is the first important building block to building the bridge between the game engine and UI. Pick the areas that you need side effects - the Effect Hook, which allows for data fetching, DOM updates, and for our example for the bridge: we use addEventListener within useEffect.  In the callback for useEffect, pass in removeEventListener to clean up that instance of the event listener."),On.forEach(t),$t=h(e),K=n(e,"H2",{id:!0});var Us=o(K);Y=n(Us,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var Rn=o(Y);at=n(Rn,"SPAN",{class:!0}),o(at).forEach(t),Rn.forEach(t),Es=p(Us,"Resources and frameworks"),Us.forEach(t),qt=h(e),be=n(e,"P",{});var Dn=o(be);ws=p(Dn,"Here\u2019s all the resources and frameworks used in the video:"),Dn.forEach(t),Ft=h(e),v=n(e,"UL",{});var I=o(v);st=n(I,"LI",{});var jn=o(st);te=n(jn,"A",{href:!0,rel:!0});var An=o(te);bs=p(An,"Phaser with a React UI Youtube video"),An.forEach(t),jn.forEach(t),_s=h(I),nt=n(I,"LI",{});var Ln=o(nt);ae=n(Ln,"A",{href:!0,rel:!0});var Nn=o(ae);ys=p(Nn,"Phaser JS - HTML5 game engine"),Nn.forEach(t),Ln.forEach(t),xs=h(I),ot=n(I,"LI",{});var Un=o(ot);se=n(Un,"A",{href:!0,rel:!0});var $n=o(se);Is=p($n,"Next.js"),$n.forEach(t),Un.forEach(t),Cs=h(I),lt=n(I,"LI",{});var qn=o(lt);ne=n(qn,"A",{href:!0,rel:!0});var Fn=o(ne);Ps=p(Fn,"React"),Fn.forEach(t),qn.forEach(t),Hs=h(I),pt=n(I,"LI",{});var Jn=o(pt);oe=n(Jn,"A",{href:!0,rel:!0});var Mn=o(oe);Ss=p(Mn,"Hooks at a glance"),Mn.forEach(t),Jn.forEach(t),I.forEach(t),Jt=h(e),Qn(le.$$.fragment,e),this.h()},h(){r(g,"class","icon icon-link"),r(d,"aria-hidden","true"),r(d,"tabindex","-1"),r(d,"href","#the-concept"),r(E,"id","the-concept"),r(xe,"class","icon icon-link"),r(S,"aria-hidden","true"),r(S,"tabindex","-1"),r(S,"href","#the-game"),r(H,"id","the-game"),r(Ce,"class","icon icon-link"),r(O,"aria-hidden","true"),r(O,"tabindex","-1"),r(O,"href","#writing-the-bridge-between-canvas-and-react"),r(T,"id","writing-the-bridge-between-canvas-and-react"),r(Te,"class","icon icon-link"),r(j,"aria-hidden","true"),r(j,"tabindex","-1"),r(j,"href","#types-of-hooks"),r(D,"id","types-of-hooks"),r($e,"class","icon icon-link"),r(q,"aria-hidden","true"),r(q,"tabindex","-1"),r(q,"href","#rules-of-using-hooks"),r($,"id","rules-of-using-hooks"),r(V,"href","https://reactjs.org/tutorial/tutorial.html#function-components"),r(V,"rel","nofollow"),r(Me,"class","icon icon-link"),r(B,"aria-hidden","true"),r(B,"tabindex","-1"),r(B,"href","#class-to-functional-component"),r(W,"id","class-to-functional-component"),r(Z,"class","language-jsx"),r(ee,"class","language-jsx"),r(tt,"class","icon icon-link"),r(Q,"aria-hidden","true"),r(Q,"tabindex","-1"),r(Q,"href","#have-a-solid-understanding-of-hooks"),r(X,"id","have-a-solid-understanding-of-hooks"),r(at,"class","icon icon-link"),r(Y,"aria-hidden","true"),r(Y,"tabindex","-1"),r(Y,"href","#resources-and-frameworks"),r(K,"id","resources-and-frameworks"),r(te,"href","https://www.youtube.com/watch?v=EDbW7lbtHOA"),r(te,"rel","nofollow"),r(ae,"href","https://phaser.io/"),r(ae,"rel","nofollow"),r(se,"href","https://nextjs.org/"),r(se,"rel","nofollow"),r(ne,"href","https://reactjs.org/"),r(ne,"rel","nofollow"),r(oe,"href","https://reactjs.org/docs/hooks-overview.html#state-hook"),r(oe,"rel","nofollow")},m(e,i){c(e,f,i),a(f,b),c(e,_,i),c(e,E,i),a(E,d),a(d,g),a(E,ie),c(e,ht,i),c(e,ce,i),a(ce,Kt),c(e,dt,i),c(e,H,i),a(H,S),a(S,xe),a(H,Yt),c(e,ft,i),c(e,re,i),a(re,zt),c(e,mt,i),c(e,ue,i),a(ue,Vt),c(e,kt,i),c(e,he,i),a(he,Ie),a(Ie,Zt),c(e,vt,i),c(e,T,i),a(T,O),a(O,Ce),a(T,ea),c(e,gt,i),c(e,de,i),a(de,ta),c(e,Et,i),c(e,R,i),a(R,fe),a(fe,Pe),a(Pe,aa),a(fe,sa),a(R,na),a(R,C),a(C,oa),a(C,He),a(He,la),a(C,pa),a(C,Se),a(Se,ia),a(C,ca),c(e,wt,i),c(e,me,i),a(me,ra),c(e,bt,i),c(e,D,i),a(D,j),a(j,Te),a(D,ua),c(e,_t,i),c(e,w,i),a(w,A),a(A,Oe),a(Oe,ha),a(A,da),a(A,Re),a(Re,fa),a(A,ma),a(w,ka),a(w,L),a(L,De),a(De,va),a(L,ga),a(L,je),a(je,Ea),a(L,wa),a(w,ba),a(w,N),a(N,Ae),a(Ae,_a),a(N,ya),a(N,Le),a(Le,xa),a(N,Ia),a(w,Ca),a(w,U),a(U,Ne),a(Ne,Pa),a(U,Ha),a(U,Ue),a(Ue,Sa),a(U,Ta),c(e,yt,i),c(e,$,i),a($,q),a(q,$e),a($,Oa),c(e,xt,i),c(e,ke,i),a(ke,Ra),c(e,It,i),c(e,F,i),a(F,qe),a(qe,Da),a(F,ja),a(F,Fe),a(Fe,Aa),c(e,Ct,i),c(e,J,i),a(J,La),a(J,V),a(V,Na),a(J,Ua),c(e,Pt,i),c(e,M,i),a(M,$a),a(M,Je),a(Je,qa),a(M,Fa),c(e,Ht,i),c(e,W,i),a(W,B),a(B,Me),a(W,Ja),c(e,St,i),c(e,ve,i),a(ve,Ma),c(e,Tt,i),c(e,Z,i),Z.innerHTML=Zn,c(e,Ot,i),c(e,ge,i),a(ge,Wa),c(e,Rt,i),c(e,ee,i),ee.innerHTML=eo,c(e,Dt,i),c(e,m,i),a(m,Ba),a(m,We),a(We,Ga),a(m,Xa),a(m,Be),a(Be,Qa),a(m,Ka),a(m,Ge),a(Ge,Ya),a(m,za),a(m,Xe),a(Xe,Va),a(m,Za),c(e,jt,i),c(e,k,i),a(k,es),a(k,Qe),a(Qe,ts),a(k,as),a(k,Ke),a(Ke,ss),a(k,ns),a(k,Ye),a(Ye,os),a(k,ls),a(k,ze),a(ze,ps),a(k,is),c(e,At,i),c(e,G,i),a(G,cs),a(G,Ve),a(Ve,rs),a(G,us),c(e,Lt,i),c(e,Ee,i),a(Ee,P),a(P,hs),a(P,Ze),a(Ze,ds),a(P,fs),a(P,et),a(et,ms),a(P,ks),c(e,Nt,i),c(e,X,i),a(X,Q),a(Q,tt),a(X,vs),c(e,Ut,i),c(e,we,i),a(we,gs),c(e,$t,i),c(e,K,i),a(K,Y),a(Y,at),a(K,Es),c(e,qt,i),c(e,be,i),a(be,ws),c(e,Ft,i),c(e,v,i),a(v,st),a(st,te),a(te,bs),a(v,_s),a(v,nt),a(nt,ae),a(ae,ys),a(v,xs),a(v,ot),a(ot,se),a(se,Is),a(v,Cs),a(v,lt),a(lt,ne),a(ne,Ps),a(v,Hs),a(v,pt),a(pt,oe),a(oe,Ss),c(e,Jt,i),Kn(le,e,i),Mt=!0},p:po,i(e){Mt||(Yn(le.$$.fragment,e),Mt=!0)},o(e){zn(le.$$.fragment,e),Mt=!1},d(e){e&&t(f),e&&t(_),e&&t(E),e&&t(ht),e&&t(ce),e&&t(dt),e&&t(H),e&&t(ft),e&&t(re),e&&t(mt),e&&t(ue),e&&t(kt),e&&t(he),e&&t(vt),e&&t(T),e&&t(gt),e&&t(de),e&&t(Et),e&&t(R),e&&t(wt),e&&t(me),e&&t(bt),e&&t(D),e&&t(_t),e&&t(w),e&&t(yt),e&&t($),e&&t(xt),e&&t(ke),e&&t(It),e&&t(F),e&&t(Ct),e&&t(J),e&&t(Pt),e&&t(M),e&&t(Ht),e&&t(W),e&&t(St),e&&t(ve),e&&t(Tt),e&&t(Z),e&&t(Ot),e&&t(ge),e&&t(Rt),e&&t(ee),e&&t(Dt),e&&t(m),e&&t(jt),e&&t(k),e&&t(At),e&&t(G),e&&t(Lt),e&&t(Ee),e&&t(Nt),e&&t(X),e&&t(Ut),e&&t(we),e&&t($t),e&&t(K),e&&t(qt),e&&t(be),e&&t(Ft),e&&t(v),e&&t(Jt),Vn(le,e)}}}function uo(pe){let f,b;const _=[pe[0],Gn];let E={$$slots:{default:[ro]},$$scope:{ctx:pe}};for(let d=0;d<_.length;d+=1)E=$s(E,_[d]);return f=new io({props:E}),{c(){Xn(f.$$.fragment)},l(d){Qn(f.$$.fragment,d)},m(d,g){Kn(f,d,g),b=!0},p(d,[g]){const ie=g&1?lo(_,[g&1&&Wn(d[0]),g&0&&Wn(Gn)]):{};g&2&&(ie.$$scope={dirty:g,ctx:d}),f.$set(ie)},i(d){b||(Yn(f.$$.fragment,d),b=!0)},o(d){zn(f.$$.fragment,d),b=!1},d(d){Vn(f,d)}}}const Gn={title:"Phaser game with a React UI",date:"2020-06-11 13:27:42",modifiedDate:"2023-04-30 13:27:42",youtubeId:"EDbW7lbtHOA",categories:["phaser","react","game development"],svg:"Controller",seoImage:"https://res.cloudinary.com/dxgyuy0iu/image/upload/v1703433443/img/phaser-blog.webp",shortDescription:"In this video, we show developing a game with Phaser and using React for the user interface. Using React to alleviate the burden of handling the UI in Canvas. RequestAnimationFrame can be expensive and should be used for the game only.",keywords:["phaser","react","game development","javascript","canvas"],author:"Ryan Sadwick",codePen:{user:"halvves",hash:"qQxPNo"},videos:[{width:"100%",height:600,controls:!0,poster:"https://res.cloudinary.com/dxgyuy0iu/image/upload/v1703433443/img/phaser-blog.webp",srcs:[{src:"https://res.cloudinary.com/dxgyuy0iu/video/upload/v1703434143/img/phaser-video.mp4",type:"video/mp4"}]}]};function ho(pe,f,b){return pe.$$set=_=>{b(0,f=$s($s({},f),Bn(_)))},f=Bn(f),[f]}class xo extends so{constructor(f){super(),no(this,f,ho,uo,oo,{})}}export{xo as default,Gn as metadata};
