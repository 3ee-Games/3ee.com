import{S as ae,i as se,s as le,e as b,t as C,k as B,c as w,a as k,d as m,h as I,m as O,H as Q,b as S,f as ie,g as U,I as p,J as re,E as G,_ as ce,a4 as pe,L as ue,X as fe,o as M,p as oe,q as F,v as me,a5 as de,n as ne,w as W,x as X,y as K,B as Y,j as $}from"../../chunks/index-cd5daeef.js";import{g as x}from"../../chunks/navigation-0e6511d1.js";import{a as Z}from"../../chunks/accountStore-95234e99.js";import{B as he,P as _e}from"../../chunks/Progress-3cf75cfd.js";import{P as ge}from"../../chunks/Prompts-107d9ad9.js";import"../../chunks/singletons-d1fb5791.js";import"../../chunks/index-3d80c266.js";import"../../chunks/briteliteStore-62efa313.js";function ve(i){let t,a,s,c,d,u,f;return{c(){t=b("button"),a=b("ion-icon"),s=B(),c=b("span"),d=C("Upload"),this.h()},l(_){t=w(_,"BUTTON",{class:!0});var r=k(t);a=w(r,"ION-ICON",{class:!0,name:!0}),k(a).forEach(m),s=O(r),c=w(r,"SPAN",{});var l=k(c);d=I(l,"Upload"),l.forEach(m),r.forEach(m),this.h()},h(){Q(a,"class","icon svelte-15iwcri"),Q(a,"name","color-palette-sharp"),S(t,"class","alert"),t.disabled=i[1]},m(_,r){U(_,t,r),p(t,a),p(t,s),p(t,c),p(c,d),u||(f=re(t,"click",ue(i[3])),u=!0)},p(_,r){r&2&&(t.disabled=_[1])},d(_){_&&m(t),u=!1,f()}}}function ye(i){let t,a,s,c,d,u,f,_,r,l,e,o,n,v;function D(y,E){return ve}let P=D()(i);return{c(){t=b("div"),a=b("article"),s=b("h4"),c=b("ion-icon"),d=C(" Super Charged Avatar"),u=B(),f=b("p"),_=C("Upload your avatar. Recommended size is 512x512 pixels."),r=B(),l=b("aside"),e=b("input"),o=B(),P.c(),this.h()},l(y){t=w(y,"DIV",{class:!0});var E=k(t);a=w(E,"ARTICLE",{class:!0});var N=k(a);s=w(N,"H4",{class:!0});var g=k(s);c=w(g,"ION-ICON",{name:!0,class:!0}),k(c).forEach(m),d=I(g," Super Charged Avatar"),g.forEach(m),u=O(N),f=w(N,"P",{class:!0});var A=k(f);_=I(A,"Upload your avatar. Recommended size is 512x512 pixels."),A.forEach(m),N.forEach(m),r=O(E),l=w(E,"ASIDE",{class:!0});var V=k(l);e=w(V,"INPUT",{style:!0,type:!0,accept:!0}),o=O(V),P.l(V),V.forEach(m),E.forEach(m),this.h()},h(){Q(c,"name","image"),Q(c,"class","svelte-15iwcri"),S(s,"class","highlight large supercharged svelte-15iwcri"),S(f,"class","svelte-15iwcri"),S(a,"class","main supercharged-container svelte-15iwcri"),ie(e,"display","none"),S(e,"type","file"),S(e,"accept",".jpg, .jpeg, .png, .webp, .gif"),S(l,"class","aside aside-1"),S(t,"class","option-container")},m(y,E){U(y,t,E),p(t,a),p(a,s),p(s,c),p(s,d),p(a,u),p(a,f),p(f,_),p(t,r),p(t,l),p(l,e),i[8](e),p(l,o),P.m(l,null),n||(v=re(e,"change",i[7]),n=!0)},p(y,[E]){P.p(y,E)},i:G,o:G,d(y){y&&m(t),i[8](null),P.d(),n=!1,v()}}}function be(i,t,a){let{isImageUploading:s=!1}=t,{useDiffusion:c=!1}=t,{promptComplete:d=!1}=t,u;const f=ce(),_=async n=>{u.click()},r=async n=>{f("onViewAvatar")},l=async n=>{f("onFileSelected",{file:n.target.files[0]})},e=n=>l(n);function o(n){pe[n?"unshift":"push"](()=>{u=n,a(2,u)})}return i.$$set=n=>{"isImageUploading"in n&&a(0,s=n.isImageUploading),"useDiffusion"in n&&a(6,c=n.useDiffusion),"promptComplete"in n&&a(1,d=n.promptComplete)},[s,d,u,_,r,l,c,e,o]}class we extends ae{constructor(t){super(),se(this,t,be,ye,le,{isImageUploading:0,useDiffusion:6,promptComplete:1})}}const{document:ee}=de;function ke(i){let t,a,s,c,d,u;function f(e,o){return typeof e[5]=="undefined"||e[5]===0?Ce:Ae}let _=f(i),r=_(i);a=new we({props:{isImageUploading:i[2],promptComplete:i[3]}}),a.$on("onFileSelected",i[11]),a.$on("onViewAvatar",i[8]);let l=i[6]&&te(i);return d=new he({props:{briteliteQueues:i[0]}}),d.$on("onSelectImage",i[9]),{c(){r.c(),t=B(),W(a.$$.fragment),s=B(),l&&l.c(),c=B(),W(d.$$.fragment)},l(e){r.l(e),t=O(e),X(a.$$.fragment,e),s=O(e),l&&l.l(e),c=O(e),X(d.$$.fragment,e)},m(e,o){r.m(e,o),U(e,t,o),K(a,e,o),U(e,s,o),l&&l.m(e,o),U(e,c,o),K(d,e,o),u=!0},p(e,o){_===(_=f(e))&&r?r.p(e,o):(r.d(1),r=_(e),r&&(r.c(),r.m(t.parentNode,t)));const n={};o&4&&(n.isImageUploading=e[2]),o&8&&(n.promptComplete=e[3]),a.$set(n),e[6]?l?(l.p(e,o),o&64&&F(l,1)):(l=te(e),l.c(),F(l,1),l.m(c.parentNode,c)):l&&(ne(),M(l,1,1,()=>{l=null}),oe());const v={};o&1&&(v.briteliteQueues=e[0]),d.$set(v)},i(e){u||(F(a.$$.fragment,e),F(l),F(d.$$.fragment,e),u=!0)},o(e){M(a.$$.fragment,e),M(l),M(d.$$.fragment,e),u=!1},d(e){r.d(e),e&&m(t),Y(a,e),e&&m(s),l&&l.d(e),e&&m(c),Y(d,e)}}}function Ee(i){let t,a;return t=new ge({}),t.$on("onPromptComplete",i[12]),{c(){W(t.$$.fragment)},l(s){X(t.$$.fragment,s)},m(s,c){K(t,s,c),a=!0},p:G,i(s){a||(F(t.$$.fragment,s),a=!0)},o(s){M(t.$$.fragment,s),a=!1},d(s){Y(t,s)}}}function Ae(i){let t,a,s,c,d,u,f,_,r=i[5]!==1?"s":"",l,e,o,n,v,D,h,P,y,E,N;return{c(){t=b("p"),a=C("Hail, "),s=b("span"),c=C(i[7]),d=C(`, you have
					`),u=b("span"),f=C(i[5]),_=C(`
					new super charged avatar`),l=C(r),e=C("."),o=B(),n=b("p"),v=C(`Welcome to your avatar station: Britelite. View all your avatars here and choose which one
					you want stamped on your passport.`),D=B(),h=b("p"),P=C("Need help? "),y=b("a"),E=C("Contact us"),N=C(" anytime!"),this.h()},l(g){t=w(g,"P",{});var A=k(t);a=I(A,"Hail, "),s=w(A,"SPAN",{class:!0});var V=k(s);c=I(V,i[7]),V.forEach(m),d=I(A,`, you have
					`),u=w(A,"SPAN",{class:!0});var L=k(u);f=I(L,i[5]),L.forEach(m),_=I(A,`
					new super charged avatar`),l=I(A,r),e=I(A,"."),A.forEach(m),o=O(g),n=w(g,"P",{});var j=k(n);v=I(j,`Welcome to your avatar station: Britelite. View all your avatars here and choose which one
					you want stamped on your passport.`),j.forEach(m),D=O(g),h=w(g,"P",{});var H=k(h);P=I(H,"Need help? "),y=w(H,"A",{href:!0});var z=k(y);E=I(z,"Contact us"),z.forEach(m),N=I(H," anytime!"),H.forEach(m),this.h()},h(){S(s,"class","highlight accent"),S(u,"class","highlight"),S(y,"href","/contact/")},m(g,A){U(g,t,A),p(t,a),p(t,s),p(s,c),p(t,d),p(t,u),p(u,f),p(t,_),p(t,l),p(t,e),U(g,o,A),U(g,n,A),p(n,v),U(g,D,A),U(g,h,A),p(h,P),p(h,y),p(y,E),p(h,N)},p(g,A){A&32&&$(f,g[5]),A&32&&r!==(r=g[5]!==1?"s":"")&&$(l,r)},d(g){g&&m(t),g&&m(o),g&&m(n),g&&m(D),g&&m(h)}}}function Ce(i){let t,a,s,c,d,u,f,_,r,l,e;return{c(){t=b("p"),a=C("Hello, "),s=b("span"),c=C(i[7]),d=C(`, you have no super charged
					avatars.`),u=B(),f=b("p"),_=C("Need help? "),r=b("a"),l=C("Contact us"),e=C(" anytime!"),this.h()},l(o){t=w(o,"P",{});var n=k(t);a=I(n,"Hello, "),s=w(n,"SPAN",{class:!0});var v=k(s);c=I(v,i[7]),v.forEach(m),d=I(n,`, you have no super charged
					avatars.`),n.forEach(m),u=O(o),f=w(o,"P",{});var D=k(f);_=I(D,"Need help? "),r=w(D,"A",{href:!0});var h=k(r);l=I(h,"Contact us"),h.forEach(m),e=I(D," anytime!"),D.forEach(m),this.h()},h(){S(s,"class","highlight accent"),S(r,"href","/contact/")},m(o,n){U(o,t,n),p(t,a),p(t,s),p(s,c),p(t,d),U(o,u,n),U(o,f,n),p(f,_),p(f,r),p(r,l),p(f,e)},p:G,d(o){o&&m(t),o&&m(u),o&&m(f)}}}function te(i){let t,a;return t=new _e({props:{intervalDuration:i[1]}}),t.$on("onProgressComplete",i[10]),{c(){W(t.$$.fragment)},l(s){X(t.$$.fragment,s)},m(s,c){K(t,s,c),a=!0},p(s,c){const d={};c&2&&(d.intervalDuration=s[1]),t.$set(d)},i(s){a||(F(t.$$.fragment,s),a=!0)},o(s){M(t.$$.fragment,s),a=!1},d(s){Y(t,s)}}}function Ie(i){let t,a,s,c,d,u,f,_,r,l,e,o;const n=[Ee,ke],v=[];function D(h,P){return h[4]?0:1}return l=D(i),e=v[l]=n[l](i),{c(){t=B(),a=b("section"),s=b("article"),c=b("h1"),d=C("Britelite"),u=B(),f=b("h3"),_=C("Super Charge your Avatar"),r=B(),e.c(),this.h()},l(h){fe('[data-svelte="svelte-qyyaak"]',ee.head).forEach(m),t=O(h),a=w(h,"SECTION",{class:!0});var y=k(a);s=w(y,"ARTICLE",{class:!0});var E=k(s);c=w(E,"H1",{});var N=k(c);d=I(N,"Britelite"),N.forEach(m),u=O(E),f=w(E,"H3",{class:!0});var g=k(f);_=I(g,"Super Charge your Avatar"),g.forEach(m),r=O(E),e.l(E),E.forEach(m),y.forEach(m),this.h()},h(){ee.title="Britelite",S(f,"class","svelte-xyzsz6"),S(s,"class","content"),S(a,"class","background")},m(h,P){U(h,t,P),U(h,a,P),p(a,s),p(s,c),p(c,d),p(s,u),p(s,f),p(f,_),p(s,r),v[l].m(s,null),o=!0},p(h,[P]){let y=l;l=D(h),l===y?v[l].p(h,P):(ne(),M(v[y],1,1,()=>{v[y]=null}),oe(),e=v[l],e?e.p(h,P):(e=v[l]=n[l](h),e.c()),F(e,1),e.m(s,null))},i(h){o||(F(e),o=!0)},o(h){M(e),o=!1},d(h){h&&m(t),h&&m(a),v[l].d()}}}function Pe(i,t,a){let s,c,d,u;Z.subscribe(j=>{u=j});const f=u==null?void 0:u.token,_=u==null?void 0:u.username;let r=!1,l=6e4,e=[],o=!1,n=!1,v=!1,D=null,h=new FormData,P={};me(async()=>{async function H(){const R=await fetch("https://3ee.dev/britelite/status/",{method:"GET",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"https://3ee.com",Authorization:"Token "+f},mode:"cors"});a(0,e=await R.json());let J=[];for(let T=0;T<e.length;T++)e[T].status_type===0&&J.push(e[T]);if(a(13,r=!1),J.length>0){a(13,r=!0);let T=Math.abs(new Date(J[0].estimated_time)-new Date(J[0].created)),q=Math.floor(T/60/1e3);a(1,l=q*6e4)}for(let T=0;T<e.length;T++){let q=e[T].encoded_avatar.replace(/'/g,"").replace(/"/g,"").replace("[","").replace("]","");q=q.split(","),a(0,e[T].encoded_avatar=q,e)}typeof e!="undefined"&&e.length>0&&e.sort(function(T,q){return new Date(q.updated)-new Date(T.updated)})}const z=setInterval(H,35e3);return H(),()=>{clearInterval(z)}});const y=async()=>{x("/account/britelite")},E=async()=>{a(14,o=!0)},N=async()=>{a(2,n=!0),document.body.scrollIntoView();const H=await(await fetch("https://3ee.dev/account/upload/",{method:"POST",headers:{Accept:"application/json","Access-Control-Allow-Origin":"https://3ee.com",Authorization:"Token "+f},mode:"cors",body:h})).json();let z=u;z.profile.image=H.image,Z.set(z),a(2,n=!1),v&&typeof umami!="undefined"?umami.trackEvent("Supercharge",{success:!0}):!v&&typeof umami!="undefined"&&umami.trackEvent("Upload Avatar",{success:!0})};function g(){x("/britelite/library")}function A(){a(13,r=!1)}const V=async(j,H)=>{D=j.detail.file,new FileReader().readAsDataURL(D),h.append("file",D),h.append("useDiffusion",!0);let R=u;R.profile.useDiffusion=!0,Z.set(R),E()},L=async j=>{a(14,o=!1),a(15,P=j.detail),h.append("prompt",JSON.stringify(P)),a(3,v=!0),N()};return i.$$.update=()=>{i.$$.dirty&8192&&a(6,s=r),i.$$.dirty&1&&a(5,c=e.filter(j=>j.encoded_avatar.length>0).length),i.$$.dirty&16384&&a(4,d=o),i.$$.dirty&32768},[e,l,n,v,d,c,s,_,y,g,A,V,L,r,o,P]}class He extends ae{constructor(t){super(),se(this,t,Pe,Ie,le,{})}}export{He as default};
