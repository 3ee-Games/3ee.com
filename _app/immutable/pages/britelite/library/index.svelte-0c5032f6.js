import{S as le,i as ne,s as re,e as h,k as q,t as L,c as d,a as _,m as w,d as i,h as z,b as v,J as he,F as I,g as R,G as n,H as Q,E as K,Q as de,P as pe,w as oe,a0 as _e,x as ie,y as ce,q as ue,o as fe,B as me,O as ge}from"../../../chunks/index-2a82a4a8.js";import{g as ve}from"../../../chunks/config-201c2df4.js";import{a as H}from"../../../chunks/accountStore-3492c591.js";import{c as be}from"../../../chunks/briteliteStore-0bae7799.js";import{g as X}from"../../../chunks/navigation-0e6511d1.js";import{S as Ee}from"../../../chunks/Saos-4482d860.js";import"../../../chunks/index-16dda89e.js";import"../../../chunks/singletons-d1fb5791.js";function te(o,e,a){const t=o.slice();return t[9]=e[a],t}function $e(o){let e,a,t,l,c,s,u;function g(){return o[5](o[9])}return{c(){e=h("button"),a=h("ion-icon"),t=q(),l=h("span"),c=L("Set as Avatar"),this.h()},l(f){e=d(f,"BUTTON",{class:!0});var m=_(e);a=d(m,"ION-ICON",{class:!0,name:!0}),_(a).forEach(i),t=w(m),l=d(m,"SPAN",{});var p=_(l);c=z(p,"Set as Avatar"),p.forEach(i),m.forEach(i),this.h()},h(){I(a,"class","icon svelte-1q5xeqb"),I(a,"name","person-circle"),v(e,"class","svelte-1q5xeqb")},m(f,m){R(f,e,m),n(e,a),n(e,t),n(e,l),n(l,c),s||(u=Q(e,"click",g),s=!0)},p(f,m){o=f},d(f){f&&i(e),s=!1,u()}}}function Se(o){let e,a,t,l,c;return{c(){e=h("button"),a=h("ion-icon"),t=q(),l=h("span"),c=L("Set as Avatar"),this.h()},l(s){e=d(s,"BUTTON",{class:!0});var u=_(e);a=d(u,"ION-ICON",{class:!0,name:!0}),_(a).forEach(i),t=w(u),l=d(u,"SPAN",{});var g=_(l);c=z(g,"Set as Avatar"),g.forEach(i),u.forEach(i),this.h()},h(){I(a,"class","icon svelte-1q5xeqb"),I(a,"name","person-circle"),e.disabled=!0,v(e,"class","svelte-1q5xeqb")},m(s,u){R(s,e,u),n(e,a),n(e,t),n(e,l),n(l,c)},p:K,d(s){s&&i(e)}}}function ae(o){let e,a,t,l,c,s,u,g,f,m,p,r,N,U,O,B,x,y,A;function j(){return o[4](o[9])}function C(b,$){var k;return $&1&&(B=null),B==null&&(B=se((k=b[0])==null?void 0:k.profile.image)===se(b[9].normal)),B?Se:$e}let P=C(o,-1),S=P(o);return{c(){e=h("li"),a=h("picture"),t=h("source"),c=q(),s=h("img"),g=q(),f=h("div"),m=h("button"),p=h("ion-icon"),r=q(),N=h("span"),U=L("Download"),O=q(),S.c(),x=q(),this.h()},l(b){e=d(b,"LI",{class:!0});var $=_(e);a=d($,"PICTURE",{});var k=_(a);t=d(k,"SOURCE",{media:!0,srcset:!0,width:!0,height:!0}),c=w(k),s=d(k,"IMG",{src:!0,alt:!0,width:!0,height:!0,class:!0}),k.forEach(i),g=w($),f=d($,"DIV",{class:!0});var G=_(f);m=d(G,"BUTTON",{class:!0});var E=_(m);p=d(E,"ION-ICON",{class:!0,name:!0}),_(p).forEach(i),r=w(E),N=d(E,"SPAN",{});var T=_(N);U=z(T,"Download"),T.forEach(i),E.forEach(i),O=w(G),S.l(G),G.forEach(i),x=w($),$.forEach(i),this.h()},h(){v(t,"media","(min-width: 100px) and (max-width: 896.98px)"),v(t,"srcset",l=o[9].small),v(t,"width","312"),v(t,"height","312"),he(s.src,u=o[9].normal)||v(s,"src",u),v(s,"alt","Britelite Super Charged Avatar"),v(s,"width","512"),v(s,"height","512"),v(s,"class","svelte-1q5xeqb"),I(p,"class","icon svelte-1q5xeqb"),I(p,"name","cloud-download"),v(m,"class","svelte-1q5xeqb"),v(f,"class","action-buttons svelte-1q5xeqb"),v(e,"class","svelte-1q5xeqb")},m(b,$){R(b,e,$),n(e,a),n(a,t),n(a,c),n(a,s),n(e,g),n(e,f),n(f,m),n(m,p),n(m,r),n(m,N),n(N,U),n(f,O),S.m(f,null),n(e,x),y||(A=Q(m,"click",j),y=!0)},p(b,$){o=b,P===(P=C(o,$))&&S?S.p(o,$):(S.d(1),S=P(o),S&&(S.c(),S.m(f,null)))},d(b){b&&i(e),S.d(),y=!1,A()}}}function qe(o){let e,a=o[1],t=[];for(let l=0;l<a.length;l+=1)t[l]=ae(te(o,a,l));return{c(){e=h("ul");for(let l=0;l<t.length;l+=1)t[l].c();this.h()},l(l){e=d(l,"UL",{class:!0});var c=_(e);for(let s=0;s<t.length;s+=1)t[s].l(c);c.forEach(i),this.h()},h(){v(e,"class","svelte-1q5xeqb")},m(l,c){R(l,e,c);for(let s=0;s<t.length;s+=1)t[s].m(e,null)},p(l,[c]){if(c&7){a=l[1];let s;for(s=0;s<a.length;s+=1){const u=te(l,a,s);t[s]?t[s].p(u,c):(t[s]=ae(u),t[s].c(),t[s].m(e,null))}for(;s<t.length;s+=1)t[s].d(1);t.length=a.length}},i:K,o:K,d(l){l&&i(e),de(t,l)}}}function se(o){return o.split("https://res.cloudinary.com/")[1].split("?")[0].split("/").pop()}function we(o,e,a){let{images:t=[]}=e,l=pe(),c=[],s=[],u;H.subscribe(r=>{a(0,u=r)}),t.forEach(r=>{r.includes("_sm")?c.push(r):s.push(r)});let g=[];for(let r=0;r<s.length;r++)g.push({small:c[r],normal:s[r]});async function f(r){l("onSetAvatar",r)}const m=r=>window.open(r.normal,"_blank"),p=r=>f(r.normal);return o.$$set=r=>{"images"in r&&a(3,t=r.images)},[u,g,f,t,m,p]}class ye extends le{constructor(e){super(),ne(this,e,we,qe,re,{images:3})}}function Ne(o){let e,a;return e=new ye({props:{images:o[3]}}),e.$on("onSetAvatar",o[2]),{c(){oe(e.$$.fragment)},l(t){ie(e.$$.fragment,t)},m(t,l){ce(e,t,l),a=!0},p:K,i(t){a||(ue(e.$$.fragment,t),a=!0)},o(t){fe(e.$$.fragment,t),a=!1},d(t){me(e,t)}}}function ke(o){let e,a,t,l,c,s,u,g,f,m,p,r,N,U,O,B,x,y,A,j,C,P,S,b,$,k,G;return b=new Ee({props:{animation:"fade-in 1s cubic-bezier(0.35, 0.5, 0.65, 0.95) both",$$slots:{default:[Ne]},$$scope:{ctx:o}}}),{c(){e=q(),a=h("section"),t=h("article"),l=h("h1"),c=L("Britelite Library"),s=q(),u=h("p"),g=L("These images were generated on "),f=L(o[4]),m=q(),p=h("div"),r=h("button"),N=h("ion-icon"),U=q(),O=h("span"),B=L("Back"),x=q(),y=h("button"),A=h("ion-icon"),j=q(),C=h("span"),P=L("Profile"),S=q(),oe(b.$$.fragment),this.h()},l(E){_e('[data-svelte="svelte-1lpizug"]',document.head).forEach(i),e=w(E),a=d(E,"SECTION",{class:!0});var F=_(a);t=d(F,"ARTICLE",{class:!0});var D=_(t);l=d(D,"H1",{});var Y=_(l);c=z(Y,"Britelite Library"),Y.forEach(i),s=w(D),u=d(D,"P",{class:!0});var W=_(u);g=z(W,"These images were generated on "),f=z(W,o[4]),W.forEach(i),m=w(D),p=d(D,"DIV",{class:!0});var J=_(p);r=d(J,"BUTTON",{class:!0});var V=_(r);N=d(V,"ION-ICON",{class:!0,name:!0}),_(N).forEach(i),U=w(V),O=d(V,"SPAN",{});var Z=_(O);B=z(Z,"Back"),Z.forEach(i),V.forEach(i),x=w(J),y=d(J,"BUTTON",{class:!0});var M=_(y);A=d(M,"ION-ICON",{class:!0,name:!0}),_(A).forEach(i),j=w(M),C=d(M,"SPAN",{});var ee=_(C);P=z(ee,"Profile"),ee.forEach(i),M.forEach(i),J.forEach(i),S=w(D),ie(b.$$.fragment,D),D.forEach(i),F.forEach(i),this.h()},h(){document.title="3ee Games - Britelite Library",v(u,"class","svelte-12zogag"),I(N,"class","icon svelte-12zogag"),I(N,"name","arrow-back-circle"),v(r,"class","svelte-12zogag"),I(A,"class","icon svelte-12zogag"),I(A,"name","speedometer"),v(y,"class","svelte-12zogag"),v(p,"class","action-buttons svelte-12zogag"),v(t,"class","content"),v(a,"class","background")},m(E,T){R(E,e,T),R(E,a,T),n(a,t),n(t,l),n(l,c),n(t,s),n(t,u),n(u,g),n(u,f),n(t,m),n(t,p),n(p,r),n(r,N),n(r,U),n(r,O),n(O,B),n(p,x),n(p,y),n(y,A),n(y,j),n(y,C),n(C,P),n(t,S),ce(b,t,null),$=!0,k||(G=[Q(r,"click",o[0]),Q(y,"click",o[1])],k=!0)},p(E,[T]){const F={};T&128&&(F.$$scope={dirty:T,ctx:E}),b.$set(F)},i(E){$||(ue(b.$$.fragment,E),$=!0)},o(E){fe(b.$$.fragment,E),$=!1},d(E){E&&i(e),E&&i(a),me(b),k=!1,ge(G)}}}function Ie(o){let e;be.subscribe(g=>{e=g});let a;H.subscribe(g=>{a=g});function t(){X("/britelite/")}function l(){X("/account/profile/")}async function c(g){let f=g.detail.split("https://res.cloudinary.com/")[1].split("?")[0];const m=await fetch(`${ve().serviceUrl}/account/set-profile-image/`,{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"https://3ee.com",Authorization:"Token "+(a==null?void 0:a.token)},mode:"cors",body:JSON.stringify({url:f})});if(m.status===401){H.set({}),H.deleteLocalStorage(),X("/account/login");return}let p=await m.json();if(p.success){let r=a;r.profile.image=p.avatar,r.profile.imageSmall=p.avatarSmall,H.set(r)}}let s=e.output_images_diffusion_status,u=typeof e.updated!="undefined"?new Date(e.updated).toLocaleDateString("en-us",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"}):null;return[t,l,c,s,u]}class ze extends le{constructor(e){super(),ne(this,e,Ie,ke,re,{})}}export{ze as default};
