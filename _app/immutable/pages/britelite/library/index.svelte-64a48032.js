import{S as le,i as ne,s as oe,e as m,k as N,t as D,c as d,a as p,m as q,d as i,h as L,b as v,R as me,H as y,g as G,I as n,J as X,E as K,N as de,$ as pe,w as re,X as _e,x as ie,y as ce,q as ue,o as fe,B as he,a1 as ge}from"../../../chunks/index-6547a409.js";import{a as J}from"../../../chunks/accountStore-1dd3d591.js";import{c as ve}from"../../../chunks/briteliteStore-a41ee585.js";import{g as W}from"../../../chunks/navigation-0e6511d1.js";import{S as be}from"../../../chunks/Saos-83706df5.js";import"../../../chunks/index-3162ae0e.js";import"../../../chunks/singletons-d1fb5791.js";function te(o,e,s){const t=o.slice();return t[9]=e[s],t}function Ee(o){let e,s,t,l,c,a,u;function g(){return o[5](o[9])}return{c(){e=m("button"),s=m("ion-icon"),t=N(),l=m("span"),c=D("Set as Avatar"),this.h()},l(f){e=d(f,"BUTTON",{class:!0});var h=p(e);s=d(h,"ION-ICON",{class:!0,name:!0}),p(s).forEach(i),t=q(h),l=d(h,"SPAN",{});var _=p(l);c=L(_,"Set as Avatar"),_.forEach(i),h.forEach(i),this.h()},h(){y(s,"class","icon svelte-1q5xeqb"),y(s,"name","person-circle"),v(e,"class","svelte-1q5xeqb")},m(f,h){G(f,e,h),n(e,s),n(e,t),n(e,l),n(l,c),a||(u=X(e,"click",g),a=!0)},p(f,h){o=f},d(f){f&&i(e),a=!1,u()}}}function we(o){let e,s,t,l,c;return{c(){e=m("button"),s=m("ion-icon"),t=N(),l=m("span"),c=D("Set as Avatar"),this.h()},l(a){e=d(a,"BUTTON",{class:!0});var u=p(e);s=d(u,"ION-ICON",{class:!0,name:!0}),p(s).forEach(i),t=q(u),l=d(u,"SPAN",{});var g=p(l);c=L(g,"Set as Avatar"),g.forEach(i),u.forEach(i),this.h()},h(){y(s,"class","icon svelte-1q5xeqb"),y(s,"name","person-circle"),e.disabled=!0,v(e,"class","svelte-1q5xeqb")},m(a,u){G(a,e,u),n(e,s),n(e,t),n(e,l),n(l,c)},p:K,d(a){a&&i(e)}}}function se(o){let e,s,t,l,c,a,u,g,f,h,_,r,k,U,O,B,R,S,A;function j(){return o[4](o[9])}function C(b,w){var I;return w&1&&(B=null),B==null&&(B=ae((I=b[0])==null?void 0:I.profile.image)===ae(b[9].normal)),B?we:Ee}let z=C(o,-1),$=z(o);return{c(){e=m("li"),s=m("picture"),t=m("source"),c=N(),a=m("img"),g=N(),f=m("div"),h=m("button"),_=m("ion-icon"),r=N(),k=m("span"),U=D("Download"),O=N(),$.c(),R=N(),this.h()},l(b){e=d(b,"LI",{class:!0});var w=p(e);s=d(w,"PICTURE",{});var I=p(s);t=d(I,"SOURCE",{media:!0,srcset:!0,width:!0,height:!0}),c=q(I),a=d(I,"IMG",{src:!0,alt:!0,width:!0,height:!0,class:!0}),I.forEach(i),g=q(w),f=d(w,"DIV",{class:!0});var x=p(f);h=d(x,"BUTTON",{class:!0});var E=p(h);_=d(E,"ION-ICON",{class:!0,name:!0}),p(_).forEach(i),r=q(E),k=d(E,"SPAN",{});var T=p(k);U=L(T,"Download"),T.forEach(i),E.forEach(i),O=q(x),$.l(x),x.forEach(i),R=q(w),w.forEach(i),this.h()},h(){v(t,"media","(min-width: 100px) and (max-width: 896.98px)"),v(t,"srcset",l=o[9].small),v(t,"width","312"),v(t,"height","312"),me(a.src,u=o[9].normal)||v(a,"src",u),v(a,"alt","Britelite Super Charged Avatar"),v(a,"width","512"),v(a,"height","512"),v(a,"class","svelte-1q5xeqb"),y(_,"class","icon svelte-1q5xeqb"),y(_,"name","cloud-download"),v(h,"class","svelte-1q5xeqb"),v(f,"class","action-buttons svelte-1q5xeqb"),v(e,"class","svelte-1q5xeqb")},m(b,w){G(b,e,w),n(e,s),n(s,t),n(s,c),n(s,a),n(e,g),n(e,f),n(f,h),n(h,_),n(h,r),n(h,k),n(k,U),n(f,O),$.m(f,null),n(e,R),S||(A=X(h,"click",j),S=!0)},p(b,w){o=b,z===(z=C(o,w))&&$?$.p(o,w):($.d(1),$=z(o),$&&($.c(),$.m(f,null)))},d(b){b&&i(e),$.d(),S=!1,A()}}}function $e(o){let e,s=o[1],t=[];for(let l=0;l<s.length;l+=1)t[l]=se(te(o,s,l));return{c(){e=m("ul");for(let l=0;l<t.length;l+=1)t[l].c();this.h()},l(l){e=d(l,"UL",{class:!0});var c=p(e);for(let a=0;a<t.length;a+=1)t[a].l(c);c.forEach(i),this.h()},h(){v(e,"class","svelte-1q5xeqb")},m(l,c){G(l,e,c);for(let a=0;a<t.length;a+=1)t[a].m(e,null)},p(l,[c]){if(c&7){s=l[1];let a;for(a=0;a<s.length;a+=1){const u=te(l,s,a);t[a]?t[a].p(u,c):(t[a]=se(u),t[a].c(),t[a].m(e,null))}for(;a<t.length;a+=1)t[a].d(1);t.length=s.length}},i:K,o:K,d(l){l&&i(e),de(t,l)}}}function ae(o){return o.split("https://giftwish.s3.amazonaws.com/")[1].split("?")[0].split("/").pop()}function Ne(o,e,s){let{images:t=[]}=e,l=pe(),c=[],a=[],u;J.subscribe(r=>{s(0,u=r)}),t.forEach(r=>{r.includes("_sm")?c.push(r):a.push(r)});let g=[];for(let r=0;r<a.length;r++)g.push({small:c[r],normal:a[r]});async function f(r){l("onSetAvatar",r)}const h=r=>window.open(r.normal,"_blank"),_=r=>f(r.normal);return o.$$set=r=>{"images"in r&&s(3,t=r.images)},[u,g,f,t,h,_]}class qe extends le{constructor(e){super(),ne(this,e,Ne,$e,oe,{images:3})}}function Se(o){let e,s;return e=new qe({props:{images:o[3]}}),e.$on("onSetAvatar",o[2]),{c(){re(e.$$.fragment)},l(t){ie(e.$$.fragment,t)},m(t,l){ce(e,t,l),s=!0},p:K,i(t){s||(ue(e.$$.fragment,t),s=!0)},o(t){fe(e.$$.fragment,t),s=!1},d(t){he(e,t)}}}function ke(o){let e,s,t,l,c,a,u,g,f,h,_,r,k,U,O,B,R,S,A,j,C,z,$,b,w,I,x;return b=new be({props:{animation:"fade-in 1s cubic-bezier(0.35, 0.5, 0.65, 0.95) both",$$slots:{default:[Se]},$$scope:{ctx:o}}}),{c(){e=N(),s=m("section"),t=m("article"),l=m("h1"),c=D("Britelite Library"),a=N(),u=m("p"),g=D("These images were generated on "),f=D(o[4]),h=N(),_=m("div"),r=m("button"),k=m("ion-icon"),U=N(),O=m("span"),B=D("Back"),R=N(),S=m("button"),A=m("ion-icon"),j=N(),C=m("span"),z=D("Profile"),$=N(),re(b.$$.fragment),this.h()},l(E){_e('[data-svelte="svelte-1lpizug"]',document.head).forEach(i),e=q(E),s=d(E,"SECTION",{class:!0});var H=p(s);t=d(H,"ARTICLE",{class:!0});var P=p(t);l=d(P,"H1",{});var Y=p(l);c=L(Y,"Britelite Library"),Y.forEach(i),a=q(P),u=d(P,"P",{class:!0});var Q=p(u);g=L(Q,"These images were generated on "),f=L(Q,o[4]),Q.forEach(i),h=q(P),_=d(P,"DIV",{class:!0});var V=p(_);r=d(V,"BUTTON",{class:!0});var F=p(r);k=d(F,"ION-ICON",{class:!0,name:!0}),p(k).forEach(i),U=q(F),O=d(F,"SPAN",{});var Z=p(O);B=L(Z,"Back"),Z.forEach(i),F.forEach(i),R=q(V),S=d(V,"BUTTON",{class:!0});var M=p(S);A=d(M,"ION-ICON",{class:!0,name:!0}),p(A).forEach(i),j=q(M),C=d(M,"SPAN",{});var ee=p(C);z=L(ee,"Profile"),ee.forEach(i),M.forEach(i),V.forEach(i),$=q(P),ie(b.$$.fragment,P),P.forEach(i),H.forEach(i),this.h()},h(){document.title="3ee Games - Britelite Library",v(u,"class","svelte-12zogag"),y(k,"class","icon svelte-12zogag"),y(k,"name","arrow-back-circle"),v(r,"class","svelte-12zogag"),y(A,"class","icon svelte-12zogag"),y(A,"name","speedometer"),v(S,"class","svelte-12zogag"),v(_,"class","action-buttons svelte-12zogag"),v(t,"class","content"),v(s,"class","background")},m(E,T){G(E,e,T),G(E,s,T),n(s,t),n(t,l),n(l,c),n(t,a),n(t,u),n(u,g),n(u,f),n(t,h),n(t,_),n(_,r),n(r,k),n(r,U),n(r,O),n(O,B),n(_,R),n(_,S),n(S,A),n(S,j),n(S,C),n(C,z),n(t,$),ce(b,t,null),w=!0,I||(x=[X(r,"click",o[0]),X(S,"click",o[1])],I=!0)},p(E,[T]){const H={};T&128&&(H.$$scope={dirty:T,ctx:E}),b.$set(H)},i(E){w||(ue(b.$$.fragment,E),w=!0)},o(E){fe(b.$$.fragment,E),w=!1},d(E){E&&i(e),E&&i(s),he(b),I=!1,ge(x)}}}function Ie(o){let e;ve.subscribe(g=>{e=g});let s;J.subscribe(g=>{s=g});function t(){W("/britelite/")}function l(){W("/account/profile/")}async function c(g){let f=g.detail.split("https://giftwish.s3.amazonaws.com/")[1].split("?")[0];const h=await fetch("https://3ee.dev/account/set-profile-image/",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"https://3ee.com",Authorization:"Token "+(s==null?void 0:s.token)},mode:"cors",body:JSON.stringify({url:f})});if(h.status===401){J.set({}),J.deleteLocalStorage(),W("/account/login");return}let _=await h.json();if(_.success){let r=s;r.profile.image=_.avatar,J.set(r)}}let a=e.output_images_diffusion_status,u=typeof e.updated!="undefined"?new Date(e.updated).toLocaleDateString("en-us",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"}):null;return[t,l,c,a,u]}class Pe extends le{constructor(e){super(),ne(this,e,Ie,ke,oe,{})}}export{Pe as default};
