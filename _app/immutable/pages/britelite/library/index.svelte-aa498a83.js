import{S as le,i as ne,s as re,e as h,k as S,t as D,c as d,a as _,m as N,d as i,h as L,b as v,P as he,H as y,g as G,I as n,J as W,E as K,N as de,W as pe,w as oe,a0 as _e,x as ie,y as ce,q as ue,o as fe,B as me,V as ge}from"../../../chunks/index-bde066b7.js";import{g as ve}from"../../../chunks/config-abc8f7a4.js";import{a as H,g as X}from"../../../chunks/navigation-7b09e9d0.js";import{c as be}from"../../../chunks/briteliteStore-4397689d.js";import{S as Ee}from"../../../chunks/Saos-2d3952b3.js";import"../../../chunks/index-217cba32.js";import"../../../chunks/singletons-d1fb5791.js";function te(o,e,a){const t=o.slice();return t[9]=e[a],t}function we(o){let e,a,t,l,c,s,u;function g(){return o[5](o[9])}return{c(){e=h("button"),a=h("ion-icon"),t=S(),l=h("span"),c=D("Set as Avatar"),this.h()},l(f){e=d(f,"BUTTON",{class:!0});var m=_(e);a=d(m,"ION-ICON",{class:!0,name:!0}),_(a).forEach(i),t=N(m),l=d(m,"SPAN",{});var p=_(l);c=L(p,"Set as Avatar"),p.forEach(i),m.forEach(i),this.h()},h(){y(a,"class","icon svelte-1q5xeqb"),y(a,"name","person-circle"),v(e,"class","svelte-1q5xeqb")},m(f,m){G(f,e,m),n(e,a),n(e,t),n(e,l),n(l,c),s||(u=W(e,"click",g),s=!0)},p(f,m){o=f},d(f){f&&i(e),s=!1,u()}}}function $e(o){let e,a,t,l,c;return{c(){e=h("button"),a=h("ion-icon"),t=S(),l=h("span"),c=D("Set as Avatar"),this.h()},l(s){e=d(s,"BUTTON",{class:!0});var u=_(e);a=d(u,"ION-ICON",{class:!0,name:!0}),_(a).forEach(i),t=N(u),l=d(u,"SPAN",{});var g=_(l);c=L(g,"Set as Avatar"),g.forEach(i),u.forEach(i),this.h()},h(){y(a,"class","icon svelte-1q5xeqb"),y(a,"name","person-circle"),e.disabled=!0,v(e,"class","svelte-1q5xeqb")},m(s,u){G(s,e,u),n(e,a),n(e,t),n(e,l),n(l,c)},p:K,d(s){s&&i(e)}}}function ae(o){let e,a,t,l,c,s,u,g,f,m,p,r,k,U,O,B,x,q,A;function V(){return o[4](o[9])}function C(b,w){var I;return w&1&&(B=null),B==null&&(B=se((I=b[0])==null?void 0:I.profile.image)===se(b[9].normal)),B?$e:we}let P=C(o,-1),$=P(o);return{c(){e=h("li"),a=h("picture"),t=h("source"),c=S(),s=h("img"),g=S(),f=h("div"),m=h("button"),p=h("ion-icon"),r=S(),k=h("span"),U=D("Download"),O=S(),$.c(),x=S(),this.h()},l(b){e=d(b,"LI",{class:!0});var w=_(e);a=d(w,"PICTURE",{});var I=_(a);t=d(I,"SOURCE",{media:!0,srcset:!0,width:!0,height:!0}),c=N(I),s=d(I,"IMG",{src:!0,alt:!0,width:!0,height:!0,class:!0}),I.forEach(i),g=N(w),f=d(w,"DIV",{class:!0});var R=_(f);m=d(R,"BUTTON",{class:!0});var E=_(m);p=d(E,"ION-ICON",{class:!0,name:!0}),_(p).forEach(i),r=N(E),k=d(E,"SPAN",{});var T=_(k);U=L(T,"Download"),T.forEach(i),E.forEach(i),O=N(R),$.l(R),R.forEach(i),x=N(w),w.forEach(i),this.h()},h(){v(t,"media","(min-width: 100px) and (max-width: 896.98px)"),v(t,"srcset",l=o[9].small),v(t,"width","312"),v(t,"height","312"),he(s.src,u=o[9].normal)||v(s,"src",u),v(s,"alt","Britelite Super Charged Avatar"),v(s,"width","512"),v(s,"height","512"),v(s,"class","svelte-1q5xeqb"),y(p,"class","icon svelte-1q5xeqb"),y(p,"name","cloud-download"),v(m,"class","svelte-1q5xeqb"),v(f,"class","action-buttons svelte-1q5xeqb"),v(e,"class","svelte-1q5xeqb")},m(b,w){G(b,e,w),n(e,a),n(a,t),n(a,c),n(a,s),n(e,g),n(e,f),n(f,m),n(m,p),n(m,r),n(m,k),n(k,U),n(f,O),$.m(f,null),n(e,x),q||(A=W(m,"click",V),q=!0)},p(b,w){o=b,P===(P=C(o,w))&&$?$.p(o,w):($.d(1),$=P(o),$&&($.c(),$.m(f,null)))},d(b){b&&i(e),$.d(),q=!1,A()}}}function Se(o){let e,a=o[1],t=[];for(let l=0;l<a.length;l+=1)t[l]=ae(te(o,a,l));return{c(){e=h("ul");for(let l=0;l<t.length;l+=1)t[l].c();this.h()},l(l){e=d(l,"UL",{class:!0});var c=_(e);for(let s=0;s<t.length;s+=1)t[s].l(c);c.forEach(i),this.h()},h(){v(e,"class","svelte-1q5xeqb")},m(l,c){G(l,e,c);for(let s=0;s<t.length;s+=1)t[s].m(e,null)},p(l,[c]){if(c&7){a=l[1];let s;for(s=0;s<a.length;s+=1){const u=te(l,a,s);t[s]?t[s].p(u,c):(t[s]=ae(u),t[s].c(),t[s].m(e,null))}for(;s<t.length;s+=1)t[s].d(1);t.length=a.length}},i:K,o:K,d(l){l&&i(e),de(t,l)}}}function se(o){return o.split("https://giftwish.s3.amazonaws.com/")[1].split("?")[0].split("/").pop()}function Ne(o,e,a){let{images:t=[]}=e,l=pe(),c=[],s=[],u;H.subscribe(r=>{a(0,u=r)}),t.forEach(r=>{r.includes("_sm")?c.push(r):s.push(r)});let g=[];for(let r=0;r<s.length;r++)g.push({small:c[r],normal:s[r]});async function f(r){l("onSetAvatar",r)}const m=r=>window.open(r.normal,"_blank"),p=r=>f(r.normal);return o.$$set=r=>{"images"in r&&a(3,t=r.images)},[u,g,f,t,m,p]}class qe extends le{constructor(e){super(),ne(this,e,Ne,Se,re,{images:3})}}function ke(o){let e,a;return e=new qe({props:{images:o[3]}}),e.$on("onSetAvatar",o[2]),{c(){oe(e.$$.fragment)},l(t){ie(e.$$.fragment,t)},m(t,l){ce(e,t,l),a=!0},p:K,i(t){a||(ue(e.$$.fragment,t),a=!0)},o(t){fe(e.$$.fragment,t),a=!1},d(t){me(e,t)}}}function Ie(o){let e,a,t,l,c,s,u,g,f,m,p,r,k,U,O,B,x,q,A,V,C,P,$,b,w,I,R;return b=new Ee({props:{animation:"fade-in 1s cubic-bezier(0.35, 0.5, 0.65, 0.95) both",$$slots:{default:[ke]},$$scope:{ctx:o}}}),{c(){e=S(),a=h("section"),t=h("article"),l=h("h1"),c=D("Britelite Library"),s=S(),u=h("p"),g=D("These images were generated on "),f=D(o[4]),m=S(),p=h("div"),r=h("button"),k=h("ion-icon"),U=S(),O=h("span"),B=D("Back"),x=S(),q=h("button"),A=h("ion-icon"),V=S(),C=h("span"),P=D("Profile"),$=S(),oe(b.$$.fragment),this.h()},l(E){_e('[data-svelte="svelte-1lpizug"]',document.head).forEach(i),e=N(E),a=d(E,"SECTION",{class:!0});var j=_(a);t=d(j,"ARTICLE",{class:!0});var z=_(t);l=d(z,"H1",{});var Y=_(l);c=L(Y,"Britelite Library"),Y.forEach(i),s=N(z),u=d(z,"P",{class:!0});var Q=_(u);g=L(Q,"These images were generated on "),f=L(Q,o[4]),Q.forEach(i),m=N(z),p=d(z,"DIV",{class:!0});var J=_(p);r=d(J,"BUTTON",{class:!0});var F=_(r);k=d(F,"ION-ICON",{class:!0,name:!0}),_(k).forEach(i),U=N(F),O=d(F,"SPAN",{});var Z=_(O);B=L(Z,"Back"),Z.forEach(i),F.forEach(i),x=N(J),q=d(J,"BUTTON",{class:!0});var M=_(q);A=d(M,"ION-ICON",{class:!0,name:!0}),_(A).forEach(i),V=N(M),C=d(M,"SPAN",{});var ee=_(C);P=L(ee,"Profile"),ee.forEach(i),M.forEach(i),J.forEach(i),$=N(z),ie(b.$$.fragment,z),z.forEach(i),j.forEach(i),this.h()},h(){document.title="3ee Games - Britelite Library",v(u,"class","svelte-12zogag"),y(k,"class","icon svelte-12zogag"),y(k,"name","arrow-back-circle"),v(r,"class","svelte-12zogag"),y(A,"class","icon svelte-12zogag"),y(A,"name","speedometer"),v(q,"class","svelte-12zogag"),v(p,"class","action-buttons svelte-12zogag"),v(t,"class","content"),v(a,"class","background")},m(E,T){G(E,e,T),G(E,a,T),n(a,t),n(t,l),n(l,c),n(t,s),n(t,u),n(u,g),n(u,f),n(t,m),n(t,p),n(p,r),n(r,k),n(r,U),n(r,O),n(O,B),n(p,x),n(p,q),n(q,A),n(q,V),n(q,C),n(C,P),n(t,$),ce(b,t,null),w=!0,I||(R=[W(r,"click",o[0]),W(q,"click",o[1])],I=!0)},p(E,[T]){const j={};T&128&&(j.$$scope={dirty:T,ctx:E}),b.$set(j)},i(E){w||(ue(b.$$.fragment,E),w=!0)},o(E){fe(b.$$.fragment,E),w=!1},d(E){E&&i(e),E&&i(a),me(b),I=!1,ge(R)}}}function ye(o){let e;be.subscribe(g=>{e=g});let a;H.subscribe(g=>{a=g});function t(){X("/britelite/")}function l(){X("/account/profile/")}async function c(g){let f=g.detail.split("https://giftwish.s3.amazonaws.com/")[1].split("?")[0];const m=await fetch(`${ve().serviceUrl}/account/set-profile-image/`,{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"https://3ee.com",Authorization:"Token "+(a==null?void 0:a.token)},mode:"cors",body:JSON.stringify({url:f})});if(m.status===401){H.set({}),H.deleteLocalStorage(),X("/account/login");return}let p=await m.json();if(p.success){let r=a;r.profile.image=p.avatar,r.profile.imageSmall=p.avatarSmall,H.set(r)}}let s=e.output_images_diffusion_status,u=typeof e.updated!="undefined"?new Date(e.updated).toLocaleDateString("en-us",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"}):null;return[t,l,c,s,u]}class De extends le{constructor(e){super(),ne(this,e,ye,Ie,re,{})}}export{De as default};
