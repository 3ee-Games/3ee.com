import{S as le,i as ne,s as oe,e as h,k as N,t as D,c as m,a as p,m as q,d as i,h as L,b as v,R as me,H as y,g as G,I as n,J as M,E as X,N as de,_ as pe,w as re,X as _e,x as ie,y as ce,q as ue,o as fe,B as he,a0 as ge}from"../../../chunks/index-8ca01e64.js";import{a as Q}from"../../../chunks/accountStore-c3ff6133.js";import{c as ve}from"../../../chunks/briteliteStore-ee389409.js";import{g as ee}from"../../../chunks/navigation-0e6511d1.js";import{S as be}from"../../../chunks/Saos-3434f03e.js";import"../../../chunks/index-12b3acf3.js";import"../../../chunks/singletons-d1fb5791.js";function te(o,e,s){const t=o.slice();return t[9]=e[s],t}function Ee(o){let e,s,t,l,c,a,u;function g(){return o[5](o[9])}return{c(){e=h("button"),s=h("ion-icon"),t=N(),l=h("span"),c=D("Set as Avatar"),this.h()},l(f){e=m(f,"BUTTON",{class:!0});var d=p(e);s=m(d,"ION-ICON",{class:!0,name:!0}),p(s).forEach(i),t=q(d),l=m(d,"SPAN",{});var _=p(l);c=L(_,"Set as Avatar"),_.forEach(i),d.forEach(i),this.h()},h(){y(s,"class","icon svelte-1q5xeqb"),y(s,"name","person-circle"),v(e,"class","svelte-1q5xeqb")},m(f,d){G(f,e,d),n(e,s),n(e,t),n(e,l),n(l,c),a||(u=M(e,"click",g),a=!0)},p(f,d){o=f},d(f){f&&i(e),a=!1,u()}}}function we(o){let e,s,t,l,c;return{c(){e=h("button"),s=h("ion-icon"),t=N(),l=h("span"),c=D("Set as Avatar"),this.h()},l(a){e=m(a,"BUTTON",{class:!0});var u=p(e);s=m(u,"ION-ICON",{class:!0,name:!0}),p(s).forEach(i),t=q(u),l=m(u,"SPAN",{});var g=p(l);c=L(g,"Set as Avatar"),g.forEach(i),u.forEach(i),this.h()},h(){y(s,"class","icon svelte-1q5xeqb"),y(s,"name","person-circle"),e.disabled=!0,v(e,"class","svelte-1q5xeqb")},m(a,u){G(a,e,u),n(e,s),n(e,t),n(e,l),n(l,c)},p:X,d(a){a&&i(e)}}}function se(o){let e,s,t,l,c,a,u,g,f,d,_,r,I,U,O,B,R,k,A;function j(){return o[4](o[9])}function C(b,w){var S;return w&1&&(B=null),B==null&&(B=ae((S=b[0])==null?void 0:S.profile.image)===ae(b[9].normal)),B?we:Ee}let z=C(o,-1),$=z(o);return{c(){e=h("li"),s=h("picture"),t=h("source"),c=N(),a=h("img"),g=N(),f=h("div"),d=h("button"),_=h("ion-icon"),r=N(),I=h("span"),U=D("Download"),O=N(),$.c(),R=N(),this.h()},l(b){e=m(b,"LI",{class:!0});var w=p(e);s=m(w,"PICTURE",{});var S=p(s);t=m(S,"SOURCE",{media:!0,srcset:!0,width:!0,height:!0}),c=q(S),a=m(S,"IMG",{src:!0,alt:!0,width:!0,height:!0,class:!0}),S.forEach(i),g=q(w),f=m(w,"DIV",{class:!0});var x=p(f);d=m(x,"BUTTON",{class:!0});var E=p(d);_=m(E,"ION-ICON",{class:!0,name:!0}),p(_).forEach(i),r=q(E),I=m(E,"SPAN",{});var T=p(I);U=L(T,"Download"),T.forEach(i),E.forEach(i),O=q(x),$.l(x),x.forEach(i),R=q(w),w.forEach(i),this.h()},h(){v(t,"media","(min-width: 100px) and (max-width: 896.98px)"),v(t,"srcset",l=o[9].small),v(t,"width","312"),v(t,"height","312"),me(a.src,u=o[9].normal)||v(a,"src",u),v(a,"alt","Britelite Super Charged Avatar"),v(a,"width","512"),v(a,"height","512"),v(a,"class","svelte-1q5xeqb"),y(_,"class","icon svelte-1q5xeqb"),y(_,"name","cloud-download"),v(d,"class","svelte-1q5xeqb"),v(f,"class","action-buttons svelte-1q5xeqb"),v(e,"class","svelte-1q5xeqb")},m(b,w){G(b,e,w),n(e,s),n(s,t),n(s,c),n(s,a),n(e,g),n(e,f),n(f,d),n(d,_),n(d,r),n(d,I),n(I,U),n(f,O),$.m(f,null),n(e,R),k||(A=M(d,"click",j),k=!0)},p(b,w){o=b,z===(z=C(o,w))&&$?$.p(o,w):($.d(1),$=z(o),$&&($.c(),$.m(f,null)))},d(b){b&&i(e),$.d(),k=!1,A()}}}function $e(o){let e,s=o[1],t=[];for(let l=0;l<s.length;l+=1)t[l]=se(te(o,s,l));return{c(){e=h("ul");for(let l=0;l<t.length;l+=1)t[l].c();this.h()},l(l){e=m(l,"UL",{class:!0});var c=p(e);for(let a=0;a<t.length;a+=1)t[a].l(c);c.forEach(i),this.h()},h(){v(e,"class","svelte-1q5xeqb")},m(l,c){G(l,e,c);for(let a=0;a<t.length;a+=1)t[a].m(e,null)},p(l,[c]){if(c&7){s=l[1];let a;for(a=0;a<s.length;a+=1){const u=te(l,s,a);t[a]?t[a].p(u,c):(t[a]=se(u),t[a].c(),t[a].m(e,null))}for(;a<t.length;a+=1)t[a].d(1);t.length=s.length}},i:X,o:X,d(l){l&&i(e),de(t,l)}}}function ae(o){return o.split("https://giftwish.s3.amazonaws.com/")[1].split("?")[0].split("/").pop()}function Ne(o,e,s){let{images:t=[]}=e,l=pe(),c=[],a=[],u;Q.subscribe(r=>{s(0,u=r)}),t.forEach(r=>{r.includes("_sm")?c.push(r):a.push(r)});let g=[];for(let r=0;r<a.length;r++)g.push({small:c[r],normal:a[r]});async function f(r){l("onSetAvatar",r)}const d=r=>window.open(r.normal,"_blank"),_=r=>f(r.normal);return o.$$set=r=>{"images"in r&&s(3,t=r.images)},[u,g,f,t,d,_]}class qe extends le{constructor(e){super(),ne(this,e,Ne,$e,oe,{images:3})}}function ke(o){let e,s;return e=new qe({props:{images:o[3]}}),e.$on("onSetAvatar",o[2]),{c(){re(e.$$.fragment)},l(t){ie(e.$$.fragment,t)},m(t,l){ce(e,t,l),s=!0},p:X,i(t){s||(ue(e.$$.fragment,t),s=!0)},o(t){fe(e.$$.fragment,t),s=!1},d(t){he(e,t)}}}function Ie(o){let e,s,t,l,c,a,u,g,f,d,_,r,I,U,O,B,R,k,A,j,C,z,$,b,w,S,x;return b=new be({props:{animation:"fade-in 1s cubic-bezier(0.35, 0.5, 0.65, 0.95) both",$$slots:{default:[ke]},$$scope:{ctx:o}}}),{c(){e=N(),s=h("section"),t=h("article"),l=h("h1"),c=D("Britelite Library"),a=N(),u=h("p"),g=D("These images were generated on "),f=D(o[4]),d=N(),_=h("div"),r=h("button"),I=h("ion-icon"),U=N(),O=h("span"),B=D("Back"),R=N(),k=h("button"),A=h("ion-icon"),j=N(),C=h("span"),z=D("Profile"),$=N(),re(b.$$.fragment),this.h()},l(E){_e('[data-svelte="svelte-1lpizug"]',document.head).forEach(i),e=q(E),s=m(E,"SECTION",{class:!0});var H=p(s);t=m(H,"ARTICLE",{class:!0});var P=p(t);l=m(P,"H1",{});var W=p(l);c=L(W,"Britelite Library"),W.forEach(i),a=q(P),u=m(P,"P",{class:!0});var K=p(u);g=L(K,"These images were generated on "),f=L(K,o[4]),K.forEach(i),d=q(P),_=m(P,"DIV",{class:!0});var J=p(_);r=m(J,"BUTTON",{class:!0});var V=p(r);I=m(V,"ION-ICON",{class:!0,name:!0}),p(I).forEach(i),U=q(V),O=m(V,"SPAN",{});var Y=p(O);B=L(Y,"Back"),Y.forEach(i),V.forEach(i),R=q(J),k=m(J,"BUTTON",{class:!0});var F=p(k);A=m(F,"ION-ICON",{class:!0,name:!0}),p(A).forEach(i),j=q(F),C=m(F,"SPAN",{});var Z=p(C);z=L(Z,"Profile"),Z.forEach(i),F.forEach(i),J.forEach(i),$=q(P),ie(b.$$.fragment,P),P.forEach(i),H.forEach(i),this.h()},h(){document.title="3ee Games - Britelite Library",v(u,"class","svelte-12zogag"),y(I,"class","icon svelte-12zogag"),y(I,"name","arrow-back-circle"),v(r,"class","svelte-12zogag"),y(A,"class","icon svelte-12zogag"),y(A,"name","speedometer"),v(k,"class","svelte-12zogag"),v(_,"class","action-buttons svelte-12zogag"),v(t,"class","content"),v(s,"class","background")},m(E,T){G(E,e,T),G(E,s,T),n(s,t),n(t,l),n(l,c),n(t,a),n(t,u),n(u,g),n(u,f),n(t,d),n(t,_),n(_,r),n(r,I),n(r,U),n(r,O),n(O,B),n(_,R),n(_,k),n(k,A),n(k,j),n(k,C),n(C,z),n(t,$),ce(b,t,null),w=!0,S||(x=[M(r,"click",o[0]),M(k,"click",o[1])],S=!0)},p(E,[T]){const H={};T&128&&(H.$$scope={dirty:T,ctx:E}),b.$set(H)},i(E){w||(ue(b.$$.fragment,E),w=!0)},o(E){fe(b.$$.fragment,E),w=!1},d(E){E&&i(e),E&&i(s),he(b),S=!1,ge(x)}}}function Se(o){let e;ve.subscribe(g=>{e=g});let s;Q.subscribe(g=>{s=g});function t(){ee("/britelite/")}function l(){ee("/account/profile/")}async function c(g){let f=g.detail.split("https://giftwish.s3.amazonaws.com/")[1].split("?")[0],_=await(await fetch("https://3ee.dev/account/set-profile-image/",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"https://3ee.com",Authorization:"Token "+(s==null?void 0:s.token)},mode:"cors",body:JSON.stringify({url:f})})).json();if(_.success){let r=s;r.profile.image=_.avatar,Q.set(r)}}let a=e.output_images_diffusion_status,u=typeof e.updated!="undefined"?new Date(e.updated).toLocaleDateString("en-us",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"}):null;return[t,l,c,a,u]}class Pe extends le{constructor(e){super(),ne(this,e,Se,Ie,oe,{})}}export{Pe as default};
