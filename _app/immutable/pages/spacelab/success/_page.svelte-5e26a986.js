import{S as U,i as $,s as D,e as m,k as E,t as w,c as h,a as _,d as u,m as g,h as T,b,g as k,G as p,j as G,E as C,v as j,H as I}from"../../../chunks/index-e7d9e6e8.js";import{a as A}from"../../../chunks/accountStore-4bdf1256.js";import{g as B}from"../../../chunks/config-4ae62436.js";import"../../../chunks/index-0edac859.js";function V(v){let t,l,a,s,o,r,n,d;return{c(){t=m("p"),l=w(`Thank you for supporting 3ee Games. To unlock your Supporter benefits: badge, profile
					customization, and more, create your account.`),a=E(),s=m("button"),o=m("span"),r=w("Create your account"),this.h()},l(e){t=h(e,"P",{class:!0});var i=_(t);l=T(i,`Thank you for supporting 3ee Games. To unlock your Supporter benefits: badge, profile
					customization, and more, create your account.`),i.forEach(u),a=g(e),s=h(e,"BUTTON",{class:!0});var f=_(s);o=h(f,"SPAN",{});var c=_(o);r=T(c,"Create your account"),c.forEach(u),f.forEach(u),this.h()},h(){b(t,"class","lead svelte-bfmw5z"),b(s,"class","btn btn--primary cta svelte-bfmw5z")},m(e,i){k(e,t,i),p(t,l),k(e,a,i),k(e,s,i),p(s,o),p(o,r),n||(d=I(s,"click",Y),n=!0)},p:C,d(e){e&&u(t),e&&u(a),e&&u(s),n=!1,d()}}}function H(v){let t,l,a,s,o,r,n,d;return{c(){t=m("p"),l=w(N),a=E(),s=m("button"),o=m("span"),r=w("Customize your profile"),this.h()},l(e){t=h(e,"P",{class:!0});var i=_(t);l=T(i,N),i.forEach(u),a=g(e),s=h(e,"BUTTON",{class:!0});var f=_(s);o=h(f,"SPAN",{});var c=_(o);r=T(c,"Customize your profile"),c.forEach(u),f.forEach(u),this.h()},h(){b(t,"class","lead svelte-bfmw5z"),b(s,"class","btn btn--primary cta svelte-bfmw5z")},m(e,i){k(e,t,i),p(t,l),k(e,a,i),k(e,s,i),p(s,o),p(o,r),n||(d=I(s,"click",R),n=!0)},p:C,d(e){e&&u(t),e&&u(a),e&&u(s),n=!1,d()}}}function L(v){let t,l,a,s,o,r,n,d;function e(c,y){return c[0]?H:V}let i=e(v),f=i(v);return{c(){t=m("section"),l=m("div"),a=m("div"),s=E(),o=m("div"),r=m("h1"),n=w(v[1]),d=E(),f.c(),this.h()},l(c){t=h(c,"SECTION",{class:!0});var y=_(t);l=h(y,"DIV",{class:!0});var z=_(l);a=h(z,"DIV",{class:!0});var O=_(a);O.forEach(u),s=g(z),o=h(z,"DIV",{class:!0});var S=_(o);r=h(S,"H1",{class:!0});var P=_(r);n=T(P,v[1]),P.forEach(u),d=g(S),f.l(S),S.forEach(u),z.forEach(u),y.forEach(u),this.h()},h(){b(a,"class","col col--image svelte-bfmw5z"),b(r,"class","title svelte-bfmw5z"),b(o,"class","col col--text svelte-bfmw5z"),b(l,"class","success-grid svelte-bfmw5z"),b(t,"class","success-wrap svelte-bfmw5z")},m(c,y){k(c,t,y),p(t,l),p(l,a),p(l,s),p(l,o),p(o,r),p(r,n),p(o,d),f.m(o,null)},p(c,[y]){y&2&&G(n,c[1]),i===(i=e(c))&&f?f.p(c,y):(f.d(1),f=i(c),f&&(f.c(),f.m(o,null)))},i:C,o:C,d(c){c&&u(t),f.d()}}}let N="You just powered 3ee Games forward. Your Supporter Badge is unlocked, and profile customization is now available.";function R(){window.location.href="/profile/"}function Y(){window.location.href="/create/"}function q(v,t,l){let a="",s="",o=!1;j(()=>{a=new URLSearchParams(window.location.search).get("session_id")||"",s=new URLSearchParams(window.location.search).get("support_type")||"";let n={};const d=A.subscribe(e=>{n=e||{}});if(l(0,o=!!(n!=null&&n.token)),o&&a){const e=n.token;fetch(`${B().serviceUrl}/account/sync-support/`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":e},body:JSON.stringify({session_id:a})}).catch(console.error)}return()=>d()});let r="Payment successful. Thank you!";return s==="subscription"?r="Subscription successful. Thank you!":s==="chip_in"?r="Chip-in successful. Thank you!":s==="sticker"&&(r="Sticker purchase successful. Thank you!"),[o,r]}class X extends U{constructor(t){super(),$(this,t,q,L,D,{})}}export{X as default};
