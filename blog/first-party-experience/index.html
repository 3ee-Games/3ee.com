<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8" />
	<meta name="description" content="3ee Games website" />

	<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
	<link rel="icon" href="/favicon.png" />
	<link rel="manifest" href="/site.webmanifest">

	<link href="https://fonts.googleapis.com/css?family=Merriweather|Muli:300" rel="stylesheet">
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<meta http-equiv="content-security-policy" content=""><title>3ee Games Blog - First Party Experience</title><meta property="og:title" content="First Party Experience" data-svelte="svelte-1oh68j2">
	<link rel="stylesheet" href="/_app/immutable/assets/pages/__layout.svelte-701b8cf4.css">
	<link rel="stylesheet" href="/_app/immutable/assets/pages/blog/first-party-experience.md-f0fd03aa.css">
	<link rel="stylesheet" href="/_app/immutable/assets/_post-0b61513e.css">
	<link rel="modulepreload" href="/_app/immutable/start-b72ce2ef.js">
	<link rel="modulepreload" href="/_app/immutable/chunks/index-8ed999ca.js">
	<link rel="modulepreload" href="/_app/immutable/chunks/index-71ac3aa5.js">
	<link rel="modulepreload" href="/_app/immutable/chunks/paths-396f020f.js">
	<link rel="modulepreload" href="/_app/immutable/chunks/singletons-d1fb5791.js">
	<link rel="modulepreload" href="/_app/immutable/pages/__layout.svelte-947c7382.js">
	<link rel="modulepreload" href="/_app/immutable/chunks/menuContextStore-382f91e1.js">
	<link rel="modulepreload" href="/_app/immutable/chunks/accountStore-859cf7a0.js">
	<link rel="modulepreload" href="/_app/immutable/pages/blog/first-party-experience.md-34ccdc8f.js">
	<link rel="modulepreload" href="/_app/immutable/chunks/_post-60c1c672.js">
</head>

<body>
	<div id="svelte">


<header class="svelte-yqytdq"><nav class="svelte-bv34uk"><button class="svelte-bv34uk"><ion-icon class="icon svelte-bv34uk" name="reorder-three-outline"></ion-icon></button>
</nav>
	<nav class="svelte-yqytdq"><a href="/" class="svelte-yqytdq"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 122.237 102.658" class="svelte-17ukrba"><defs><clipPath id="logo-path"><ellipse cx="106.822" cy="119.364" fill="none" stroke="#c43b37" stroke-width=".825" rx="49.117" ry="39.162"></ellipse></clipPath></defs><ellipse cx="61.051" cy="51.291" fill="#3899ed" stroke="#000" stroke-width="2.628" rx="59.737" ry="49.977"></ellipse><g clip-path="url(#logo-path)" transform="translate(-74.872 -99.587) scale(1.26422)"><ellipse cx="107.576" cy="119.667" rx="26.46" ry="25.524"></ellipse><path d="M77.486 89.412 65.352 77.278l14.94-.163c42.264-.462 61.806-.685 65.178-.743l3.732-.065-12.144 12.145-12.143 12.144-.543-.409c-5.324-4.013-12.023-6.001-18.474-5.483-3.756.302-6.754 1.11-9.997 2.696-2.075 1.014-3.781 2.098-5.245 3.33-.532.449-.983.816-1.002.816-.02 0-5.495-5.46-12.168-12.134zm-.1 60.876L65.352 162.52l14.94.042c42.267.118 61.81.182 65.182.213l3.732.034-12.242-12.045-12.242-12.045-.538.413c-5.292 4.056-11.975 6.099-18.43 5.633-3.758-.272-6.762-1.055-10.019-2.614-2.082-.997-3.797-2.067-5.27-3.288-.536-.444-.99-.808-1.01-.808-.019 0-5.45 5.505-12.069 12.233z"></path></g><ellipse cx="73.834" cy="40.787" fill="#fff" rx="6.69" ry="6.212"></ellipse></svg>
			<img alt="3ee Games 3D text logo" src="/logo-txt-glow.png" class="logo-txt svelte-yqytdq"></a></nav>
</header>

<main class="svelte-jq7k3t">

<section class="background"><article class="blog content"><h1 id="first-party-experience" class="svelte-1kl993h">First Party Experience</h1>
		<aside class="date-aside svelte-1kl993h"><ul class="svelte-1kl993h"><li class="published-date svelte-1kl993h"><strong>Published:</strong> April 19, 2023</li>
				</ul></aside>

		<aside class="categories svelte-1kl993h"><ul class="svelte-1kl993h"><li class="svelte-1kl993h"><a href="/blog/categories/cookies" class="svelte-1kl993h">Cookies</a>
						</li><li class="svelte-1kl993h"><a href="/blog/categories/analytics" class="svelte-1kl993h">Analytics</a>
						</li><li class="svelte-1kl993h"><a href="/blog/categories/web development" class="svelte-1kl993h">Web development</a>
						</li></ul></aside>

		

		<div class="article"><p>3ee Games embarked on a mission to become a first-party website, prioritizing user privacy above all else. As we navigated this uncharted territory, a conscious decision was made to avoid cookies and minimize third-party dependencies. Let‚Äôs discuss the insights of financial aspects of embracing self-hosted open-source and homebrew technologies.</p>
<p>The <code>code</code> in this article is meant to entice ideas and not meant to be a template that can be copy and pasted.  It is designed to mentor you to come up with ideas on how you would implement this yourself on the technology you work with.</p>
<hr>
<h2 id="first-party-centric-built-in-privacy"><a aria-hidden="true" tabindex="-1" href="#first-party-centric-built-in-privacy"><span class="icon icon-link"></span></a>First Party centric: built in privacy</h2>
<p>3ee Games isn‚Äôt a company that skates on the line of being GDPR compliant or only implements what is required in our country.  We wanted to position our company where privacy is an investment we make in our products and supporting different levels based on what the person wants.  We welcome new GDPR policies, updates, and new features.  Since privacy is built into our platform, pivoting is smooth whenever laws are refined.</p>
<p>Similar to our belief and goals with <a href="/account/accessibility/">accessibility</a>, privacy is a feature that should be built into your product.  It‚Äôs not a checkbox that you can check off and say you‚Äôre done.  It‚Äôs a continuous process of making sure your product is built with privacy in mind.</p>
<h2 id="how-did-we-get-here"><a aria-hidden="true" tabindex="-1" href="#how-did-we-get-here"><span class="icon icon-link"></span></a>How did we get here?</h2>
<p>We are passionate about privacy and security.  Over the years as laws have evolved from simple ‚Äúdo not track me‚Äù to full blown General Data Protection Regulation (GDPR) compliance, we wanted to embrace the forefront of privacy by laying down a strong foundation.</p>
<p>Slowly tread though what third parties we thought we needed.  Every third party script that people take for granted use and share cookies with other vendors.  Examples include embedding Youtube videos, implementing Google Analytics, Tag Managers, Advertising scripts, and the list keeps going because it‚Äôs massive.</p>
<p>Effective strategy for transitioning to a first-party experience. This process is essential for securing user data and maintaining a high level of privacy.</p>
<p>Outlined below are several pivotal steps to initiate the shift towards a first-party experience:</p>
<ul><li>Conduct a thorough analysis of all cookies and envision the functionality of 3ee Games without their use.</li>
<li>Implement a native HTML5 player to replace the YouTube player, while maintaining an external YouTube channel for promotional purposes.</li>
<li>Substitute Google Services such as Analytics and Fonts with cookie-free, self-hosted alternatives.</li></ul>
<p>Though third-party services such as Google Analytics may seem appealing due to their ease of implementation and cost-effectiveness, they often come at the expense of user data privacy. In reality, these services monetize user data, necessitating the use of cookie banners to inform users of data collection and offering them an option to opt out.</p>
<p>Transitioning to a first-party experience can be challenging for businesses, as seen in the example of migrating from the YouTube player. Such a move raises numerous questions, such as video hosting, closed captioning file storage, and the development of a cost-effective caching strategy.</p>
<p>Remember that embracing a first-party experience is a journey rather than a sprint. Hastily rushing through the process may result in unforeseen costs and complications.</p>
<h2 id="identify-all-cookies"><a aria-hidden="true" tabindex="-1" href="#identify-all-cookies"><span class="icon icon-link"></span></a>Identify all cookies</h2>
<p>Start off small.  Identify cookies that store state.  For example, a cookie may store a value if a person accepted or declined a cookie banner.  The frontend will look at that cookie and do something with it.  State cookies are the first to go and you shouldn‚Äôt be using them.</p>
<p>At some point, sometimes we as developers have rushed to stored state in a cookie.  The reason is: <strong>we have no other place to store it</strong>.  There are what seems to be infinite reasons why, one being: we have a backend service that is not ready to store state. </p>
<p><strong>üç™ State Cookies</strong>:</p>
<p>Start by identifying cookies that store state, such as accepting or declining a cookie banner. State cookies are the first to go, and you should avoid using them whenever possible. If you have to use them, try to find alternative ways to store state that don‚Äôt involve cookies.</p>
<p>For applications with guest experiences, try to encourage users to create an account. If your sign-up process is complicated, simplify it to encourage more people to sign up. By having users create an account, you can store their data properly instead of relying on state cookies.</p>
<p><strong>üç™ Shared Cookies</strong>:</p>
<p>Once you‚Äôve tackled state cookies, move on to researching third parties you want to replace. It‚Äôs important to find a self-hosted or homebrew solution that is GDPR compliant and does not use cookies. This may take time, but it‚Äôs worth the investment to have more control over your data.</p>
<p><strong>ü¶∂ Removing Third Party Footprints</strong>:</p>
<p>There will be third parties that are costly to remove and replace, so it‚Äôs important to carefully consider the transition. For example, if you are using a third-party service to host your videos, you‚Äôll need to move those videos to a new location.</p>
<ul><li>Replace cookies that use state.  Figure out the logic and push forward.</li>
<li>Carefully and tactly remove cookies that are shared by third parties.  The end goal is to look for self hosted solutions that don‚Äôt use cookies.</li>
<li>If you‚Äôre using a third party service that handles all the costs and it‚Äôs free: don‚Äôt stop looking for alternatives.  There is always a cost.  The cost is your data.</li></ul>
<p>It‚Äôs important to remember that this is a marathon, not a sprint. Don‚Äôt try to tackle everything at once, but instead, focus on one step at a time. Pace yourself and don‚Äôt stop looking for alternatives. There is always a cost, and it‚Äôs your data that‚Äôs at stake.</p>
<h2 id="replace-youtube-player"><a aria-hidden="true" tabindex="-1" href="#replace-youtube-player"><span class="icon icon-link"></span></a>Replace Youtube Player</h2>
<p>Keeping the mantra of every site is different - we didn‚Äôt have many videos at the time to move off Youtube.  We also didn‚Äôt have the source files for the videos we made - so the original data we did not have.  We had to snag all of our data off of Youtube.  And Youtube doesn‚Äôt make that easy, it‚Äôs messy.</p>
<p>We do not have the original source files so we need to pull this data from Youtube:</p>
<ul><li>Download all of our videos in the highest quality possible.</li>
<li>Download all of the thumbnails associated with the videos.</li>
<li>Figure out how to download all of the closed captioning files.</li>
<li>Replace Youtube player with a native HTML5 player and wire up analytics.</li></ul>
<h3 id="Ô∏è-downloading-your-videos"><a aria-hidden="true" tabindex="-1" href="#Ô∏è-downloading-your-videos"><span class="icon icon-link"></span></a>‚¨áÔ∏è <strong>Downloading your videos</strong></h3>
<p>Within your YouTube Studio account, you can download your videos.  This can be cumbersum and time consuming going through each video and exporting it.  Many websites have thousands of videos on Youtube.  You‚Äôre in luck because there are thousands of tools to download YouTube videos.</p>
<p>To setup an automated means of downloading all your videos, look into various open source libraries and CLI tools.  3ee Games uses python for development.  We‚Äôve used <a href="https://github.com/pytube/pytube" rel="nofollow">https://github.com/pytube/pytube</a>.  See the example below:</p>
<pre class="language-python"><!-- HTML_TAG_START --><code class="language-python">  <span class="token keyword">from</span> pytube <span class="token keyword">import</span> YouTube
  YouTube<span class="token punctuation">(</span><span class="token string">'https://youtu.be/youtube_id'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>streams<span class="token punctuation">.</span>first<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>download<span class="token punctuation">(</span><span class="token punctuation">)</span></code><!-- HTML_TAG_END --></pre>
<h3 id="Ô∏è-thumbnails"><a aria-hidden="true" tabindex="-1" href="#Ô∏è-thumbnails"><span class="icon icon-link"></span></a>üñºÔ∏è <strong>thumbnails</strong></h3>
<p>If your YouTube account has custom thumbnails, you can download those as well.  HTML5 supports the <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/video#attr-poster" rel="nofollow">poster attribute</a> on the video tag.  An image will be shown while the video is downloading.</p>
<pre class="language-html"><!-- HTML_TAG_START --><code class="language-html">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>video</span> <span class="token attr-name">poster</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://example.com/poster.jpg<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></code><!-- HTML_TAG_END --></pre>
<h3 id="-youtube-captioning"><a aria-hidden="true" tabindex="-1" href="#-youtube-captioning"><span class="icon icon-link"></span></a>üìá <strong>Youtube Captioning</strong></h3>
<p>We used an open source solution: <a href="https://github.com/jdepoix/youtube-transcript-api" rel="nofollow">https://github.com/jdepoix/youtube-transcript-api</a>.  Youtube_transcript_api is a CLI that will download captions.  It supports different formatters provide the captioning data in different formats.  Our videos use <a href="https://developer.mozilla.org/en-US/docs/Web/API/WebVTT_API" rel="nofollow">Web Video Text Tracks Format</a> (WebVTT).  With this CLI, it was easy:   </p>
<blockquote><pre class="language-bash"><!-- HTML_TAG_START --><code class="language-bash"> youtube_transcript_api youtube_video_id --languages en --format webvtt <span class="token operator">></span> transcripts.vtt </code><!-- HTML_TAG_END --></pre></blockquote>
<h3 id="--replace-youtube-with-native-video"><a aria-hidden="true" tabindex="-1" href="#--replace-youtube-with-native-video"><span class="icon icon-link"></span></a>üì∫  <strong>Replace Youtube with native video</strong></h3>
<p>While there are many video players to choose from out in the open source community, we decided to keep it simple, schematic, and native.  Build a player that uses the HTML5 video tag and tracks for closed captioning.</p>
<ul><li>Use the HTML5 video tag to play the video.</li>
<li>Captioning is handled by the native track tag.</li>
<li>Wire up analyics to specific events.</li></ul>
<p>3ee Games frontend uses <a href="https://svelte.dev/" rel="nofollow">svelte</a>.  Building a video player component is straight forward.  Simply passing in a video object to the component and it binds the video sources, poster, captioning, and analytics.</p>
<p><strong>App.svelte</strong></p>
<pre class="language-html"><!-- HTML_TAG_START --><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
	<span class="token keyword">import</span> Player <span class="token keyword">from</span> <span class="token string">'./Player.svelte'</span><span class="token punctuation">;</span>
	<span class="token keyword">let</span> videos <span class="token operator">=</span> <span class="token punctuation">[</span>
		<span class="token punctuation">&#123;</span>
			<span class="token literal-property property">controls</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
			<span class="token literal-property property">srcs</span><span class="token operator">:</span> <span class="token punctuation">[</span>
				<span class="token punctuation">&#123;</span>
					<span class="token literal-property property">src</span><span class="token operator">:</span> <span class="token string">'https://3ee.s3.amazonaws.com/video/tiled_phaser.mp4'</span><span class="token punctuation">,</span>
					<span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'video/mp4'</span>
				<span class="token punctuation">&#125;</span>
			<span class="token punctuation">]</span><span class="token punctuation">,</span>
			<span class="token literal-property property">tracks</span><span class="token operator">:</span> <span class="token punctuation">[</span>
				<span class="token punctuation">&#123;</span>
					<span class="token literal-property property">src</span><span class="token operator">:</span> <span class="token string">'https://3ee.s3.amazonaws.com/video/tiled_phaser.vtt'</span><span class="token punctuation">,</span>
					<span class="token literal-property property">kind</span><span class="token operator">:</span> <span class="token string">'captions'</span><span class="token punctuation">,</span>
					<span class="token keyword">default</span><span class="token operator">:</span> <span class="token boolean">true</span>
				<span class="token punctuation">&#125;</span>
			<span class="token punctuation">]</span><span class="token punctuation">,</span>
			<span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token string">'100%'</span><span class="token punctuation">,</span>
			<span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token string">'600'</span><span class="token punctuation">,</span>
			<span class="token literal-property property">poster</span><span class="token operator">:</span> <span class="token string">'https://3ee.s3.amazonaws.com/video/tiled_phaser.webp'</span>
		<span class="token punctuation">&#125;</span>
	<span class="token punctuation">]</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>Video Player<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Player</span> <span class="token attr-name">&#123;videos&#125;</span> <span class="token punctuation">/></span></span></code><!-- HTML_TAG_END --></pre>
<p><strong>player.svelte</strong></p>
<pre class="language-html"><!-- HTML_TAG_START --><code class="language-html">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
	<span class="token keyword">export</span> <span class="token keyword">let</span> videos <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

	<span class="token keyword">function</span> <span class="token function">handlePlayed</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>currentSrc <span class="token operator">!==</span> <span class="token string">'undefined'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'video play'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">video</span><span class="token operator">:</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>currentSrc <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">&#125;</span>
	<span class="token punctuation">&#125;</span>

	<span class="token keyword">function</span> <span class="token function">handleEnded</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> e <span class="token operator">!==</span> <span class="token string">'undefined'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'video end'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">video</span><span class="token operator">:</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>currentSrc <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">&#125;</span>
	<span class="token punctuation">&#125;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>video-container<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
	&#123;#each videos as video&#125;
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>video</span>
			<span class="token attr-name">preload</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>auto<span class="token punctuation">"</span></span>
			<span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>&#123;video.width&#125;</span>
			<span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>&#123;video.height&#125;</span>
			<span class="token attr-name">poster</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>&#123;video.poster&#125;</span>
			<span class="token attr-name">controls</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>&#123;video.controls&#125;</span>
			<span class="token attr-name"><span class="token namespace">on:</span>play</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>&#123;handlePlayed&#125;</span>
			<span class="token attr-name"><span class="token namespace">on:</span>ended</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>&#123;handleEnded&#125;</span>
		<span class="token punctuation">></span></span>
			&#123;#each video.srcs as src&#125;
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>&#123;src.src&#125;</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>&#123;src.type&#125;</span> <span class="token punctuation">/></span></span>
			&#123;/each&#125;
			&#123;#if typeof video?.tracks !== 'undefined' &amp;&amp; video.tracks.length > 0&#125;
				&#123;#each video.tracks as track&#125;
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>track</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>&#123;track.src&#125;</span> <span class="token attr-name">kind</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>&#123;track.kind&#125;</span> <span class="token attr-name">default</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>&#123;track.default&#125;</span> <span class="token punctuation">/></span></span>
				&#123;/each&#125;
			&#123;/if&#125;
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>video</span><span class="token punctuation">></span></span>
	&#123;/each&#125;
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span>
	video &#123;
		border-radius: 7px;
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		border: 0;
		object-fit: cover;
	&#125;

	.video-container &#123;
		position: relative;
		width: 100%;
		padding-bottom: 56.25%;
	&#125;
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span></code><!-- HTML_TAG_END --></pre>
<p>View this demo of the video player in <strong>REPL</strong>: <a href="https://svelte.dev/repl/fc7e80bc1e9c4953803971c73dc2ee15?version=3.52.0" rel="nofollow">Svelte REPL example</a></p>
<h3 id="-handle-captions"><a aria-hidden="true" tabindex="-1" href="#-handle-captions"><span class="icon icon-link"></span></a>üìá <strong>Handle captions</strong></h3>
<p>Within an HTML5 video tag, you can pass in captioning through the <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/track" rel="nofollow">track</a> tag.  The track tag is a child of the video tag and is used to provide captions, subtitles, and metadata.  The track tag expects a <a href="https://developer.mozilla.org/en-US/docs/Web/API/WebVTT_API" rel="nofollow">WebVTT</a> file.  The WebVTT file is a text file that contains the captioning data.</p>
<p>Curious what a WebVTT file looks like?  Here is an example:</p>
<pre class="language-txt"><!-- HTML_TAG_START --><code class="language-txt">  WEBVTT

  00:00:02.780 --> 00:00:05.310
  this is a prototype of a game on

  00:00:05.310 --> 00:00:08.849
  building all the tiles are designed by

  00:00:08.849 --> 00:00:12.990
  cert over at open game art org the link

  00:00:12.990 --> 00:00:15.660
  is in the description you can see this</code><!-- HTML_TAG_END --></pre>
<p>WebVTT files follow browser‚Äôs <strong>cross domain security policy</strong>.  WebVTT files must be on the same domain the web client is on (the website the video tag is created on).  Again, all websites are different and many will fall into the same boat: WebVTT are hosted on a CDN.  There are solutions to this problem and let‚Äôs go over a few.</p>
<ul><li>Create a backend proxy service.</li>
<li>Proxy service downloads the WebVTT file from the CDN and returns the contents to the web client.</li>
<li>Web client passes the captions content to the track tag.</li></ul>
<p>Setup a backend service that downloads the WebVTT file from the CDN and returns the contents to the client though an endpoint.  For example, you setup a route the web client asycnronously calls to get the WebVTT file.  For instance:</p>
<pre class="language-bash"><!-- HTML_TAG_START --><code class="language-bash"><span class="token function">curl</span> https://my.api/captions?videoId<span class="token operator">=</span><span class="token number">1234</span> </code><!-- HTML_TAG_END --></pre>
<p>Pass the response to the web client‚Äôs video track tag and your captions will load and be available within the video player.</p>
<blockquote class="svelte-18ree9t"><p class="svelte-18ree9t">üö® <strong>Danger</strong>: Setup your proxy services with care.  Never expose an endpoint that takes a url or file path as a parameter.</p></blockquote>
<p>For example:  </p>
<pre class="language-bash"><!-- HTML_TAG_START --><code class="language-bash"><span class="token function">curl</span> https://my.api/captions?videoId<span class="token operator">=</span>/user/home/captions/track.vtt </code><!-- HTML_TAG_END --></pre>
<p>This can have terrible security risks and unsafe to proxy since anyone can pass in any url and download any file.  This violates OWASP 10: <a href="https://owasp.org/Top10/A06_2021-Vulnerable_and_Outdated_Components/" rel="nofollow">A06:2021 ‚Äì Vulnerable and Outdated Components</a></p>
<p>Only allow your application permission to call the endpoint.  Unless there is a specific reason, you <strong>do not</strong> want to serve a public api where other applications outside your domain can use.</p>
<p>A better example would be to use the <code>id</code> of the video and use that to lookup the WebVTT file:</p>
<pre class="language-bash"><!-- HTML_TAG_START --><code class="language-bash"><span class="token function">curl</span> https://my.api/captions?videoId<span class="token operator">=</span><span class="token number">1234</span> </code><!-- HTML_TAG_END --></pre>
<pre class="language-sql"><!-- HTML_TAG_START --><code class="language-sql"><span class="token comment">#relational lookup using inner join</span>
<span class="token keyword">SELECT</span> videoId<span class="token punctuation">,</span> url<span class="token punctuation">,</span> caption
<span class="token keyword">FROM</span> videos
<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> captions
<span class="token keyword">ON</span> videos<span class="token punctuation">.</span>videoId <span class="token operator">=</span> captions<span class="token punctuation">.</span>videoId<span class="token punctuation">;</span></code><!-- HTML_TAG_END --></pre>
<h2 id="replace-google-analytics"><a aria-hidden="true" tabindex="-1" href="#replace-google-analytics"><span class="icon icon-link"></span></a>Replace Google Analytics</h2>
<p>3ee Games uses <a href="https://umami.is/" rel="nofollow">umami</a> for analytics.  Umami is open source, doesn‚Äôt use cookies, and is self hosted.  Other features include tracking custom events - like what we worked on above with the video player.</p>
<p>Let‚Äôs break down the steps to replace Google Analytics with umami (or any other analytics platform):</p>
<ul><li>Plan a way to support both analytics platforms.  This will give you an advantage to compare the data between the two platforms.</li>
<li>Translate, port, or migrate the custom events from Google Analytics to the new platform.</li>
<li>Configure switches to turn on and off each analytics platform.</li></ul>
<p>There are many options to choose from when supporting different analytics platforms.  A common solution is creating a wrapper around the analytics platform.  This wrapper will handle the differences between the two platforms.  For example, the wrapper will handle the differences between the Google Analytics and umami API:</p>
<pre class="language-javascript"><!-- HTML_TAG_START --><code class="language-javascript"><span class="token keyword">let</span> analytics <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Analytics</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
analytics<span class="token punctuation">.</span><span class="token function">trackEvent</span><span class="token punctuation">(</span><span class="token string">'video'</span><span class="token punctuation">,</span> <span class="token string">'play'</span><span class="token punctuation">,</span> <span class="token string">'video_id'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><!-- HTML_TAG_END --></pre>
<p>The wrapper calls <code>trackEvent</code> which in turn calls both Google Analytics and umami:</p>
<pre class="language-javascript"><!-- HTML_TAG_START --><code class="language-javascript"><span class="token function">trackEvent</span><span class="token punctuation">(</span><span class="token parameter">category<span class="token punctuation">,</span> action<span class="token punctuation">,</span> label</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">//Google</span>
  <span class="token function">ga</span><span class="token punctuation">(</span><span class="token string">'send'</span><span class="token punctuation">,</span> <span class="token string">'event'</span><span class="token punctuation">,</span> category<span class="token punctuation">,</span> action<span class="token punctuation">,</span> label<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">//umami</span>
  umami<span class="token punctuation">.</span><span class="token function">trackEvent</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">&#96;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>category action label<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">&#96;</span></span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'signup'</span><span class="token punctuation">,</span> <span class="token literal-property property">moreInfo</span><span class="token operator">:</span> <span class="token number">123</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code><!-- HTML_TAG_END --></pre>
<p>Preserving your events and porting them over to the new platform is a tedious task.  Verify the events are working as expected in a networking tool such as the built-in browser networking tools, <a href="https://www.telerik.com/fiddler" rel="nofollow">Fiddler</a>, or <a href="https://www.charlesproxy.com/" rel="nofollow">Charles</a>.  To see <em>only</em> the requests made to the analytics platform, filter the requests by <code>collect</code></p>
<blockquote class="svelte-18ree9t"><blockquote class="svelte-18ree9t"><p class="svelte-18ree9t"><img src="https://3ee.s3.amazonaws.com/img/blog_network.webp" alt="Check networking to see if events are working." title="Check networking to see if events are working."></p></blockquote></blockquote>
<p>Now that can use both Google Analytics and umami, we need to configure a switch to turn on and off Google Analytics.  In the example below, we assume umami is working correctly and we create a switch for Google Analytics and only fire the events if the switch is on:</p>
<pre class="language-javascript"><!-- HTML_TAG_START --><code class="language-javascript"><span class="token comment">//check config</span>
<span class="token keyword">let</span> isGoogleOn <span class="token operator">=</span> config<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'google_analytics'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//track event</span>
<span class="token function">trackEvent</span><span class="token punctuation">(</span><span class="token parameter">category<span class="token punctuation">,</span> action<span class="token punctuation">,</span> label</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>isGoogleOn<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token function">ga</span><span class="token punctuation">(</span><span class="token string">'send'</span><span class="token punctuation">,</span> <span class="token string">'event'</span><span class="token punctuation">,</span> category<span class="token punctuation">,</span> action<span class="token punctuation">,</span> label<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  umami<span class="token punctuation">.</span><span class="token function">trackEvent</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">&#96;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>category action label<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">&#96;</span></span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'signup'</span><span class="token punctuation">,</span> <span class="token literal-property property">moreInfo</span><span class="token operator">:</span> <span class="token number">123</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code><!-- HTML_TAG_END --></pre>
<p>This allows you to pivot quickly if you need to restore Google Analytics temporarly.  With iteration and time, you can remove the switch and remove Google Analytics from your codebase.  Since we are using a wrapper, we can easily remove the Google Analytics code from the wrapper:</p>
<pre class="language-javascript"><!-- HTML_TAG_START --><code class="language-javascript"><span class="token function">trackEvent</span><span class="token punctuation">(</span><span class="token parameter">category<span class="token punctuation">,</span> action<span class="token punctuation">,</span> label</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  umami<span class="token punctuation">.</span><span class="token function">trackEvent</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">&#96;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>category action label<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">&#96;</span></span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'signup'</span><span class="token punctuation">,</span> <span class="token literal-property property">moreInfo</span><span class="token operator">:</span> <span class="token number">123</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code><!-- HTML_TAG_END --></pre>
<p>At this point, we have moved to our new platform.  Now it‚Äôs time to update your privacy policy and remove all references to Google Analytics!  Whether you decided to use umami or another analytics platform, you‚Äôre now in control of your data.</p>
<blockquote class="svelte-18ree9t"><blockquote class="svelte-18ree9t"><p class="svelte-18ree9t"><img src="https://3ee.s3.amazonaws.com/img/blog_umami2.webp" alt="Umami Dashboard." title="Umami Dashboard."></p></blockquote></blockquote>
<h3 id="-wire-up-analytics"><a aria-hidden="true" tabindex="-1" href="#-wire-up-analytics"><span class="icon icon-link"></span></a>üìä <strong>Wire up analytics</strong></h3>
<blockquote class="svelte-18ree9t"><p class="svelte-18ree9t">We are able to use our cloud technology to serve umami on premise with kubernetes and scale to the cloud if needed.  This way we aren‚Äôt paying cloud providers when we‚Äôre not scaling.</p></blockquote>
<p>We already have umami in place.  For this simple video player, we wired up umami to the <code>play</code> and <code>end</code> events.</p>
<blockquote class="svelte-18ree9t"><blockquote class="svelte-18ree9t"><p class="svelte-18ree9t"><img src="https://3ee.s3.amazonaws.com/img/blog_umami.webp" alt="Umami's dashboard showing the video events." title="Umami's dashboard showing the video events."></p></blockquote></blockquote>
<p>As we finish building the video player, test your videos across different browsers and devices.  Make sure the video player is working as expected.  If you‚Äôre using a proxy service to download the WebVTT file, make sure the proxy service is working as expected.</p>
<p>Finally, remove the tracker from your website: If you‚Äôre using Google Tag Manager, you can remove the tracker from the container.  If you‚Äôre using Google Analytics directly, you can remove the script tag from your website.</p>
<h2 id="from-cookies-to-localstorage"><a aria-hidden="true" tabindex="-1" href="#from-cookies-to-localstorage"><span class="icon icon-link"></span></a>From cookies to LocalStorage</h2>
<p>Local Storage is a better alternative to state cookies for performance, privacy, and GDPR compliance. Here are some reasons why:</p>
<ul><li><strong>Performance</strong>: LocalStorage is faster than cookies because it‚Äôs stored on the client-side, eliminating the need to send data back and forth between the server and client with every request/response. Since cookies are sent with every request, they increase network traffic and slow down the page load time.</li>
<li><strong>Privacy</strong>: Cookies are often used to track user behavior and preferences, and they can be easily accessed by third-party scripts. In contrast, LocalStorage data is only accessible by the domain that created it, making it a more secure option for storing user state.</li>
<li><strong>GDPR compliance</strong>: The General Data Protection Regulation (GDPR) requires websites to obtain user consent before storing any personal data. With LocalStorage, it‚Äôs easier to obtain and manage user consent since it only stores data for a specific website. Cookies, on the other hand, can be shared across different domains, making it difficult to obtain user consent and comply with GDPR regulations.</li></ul>
<p>In this example, we have a service that rechieves a user‚Äôs mute preference.  We store in it a cookie and use it across the application:</p>
<pre class="language-javascript"><!-- HTML_TAG_START --><code class="language-javascript"><span class="token comment">// Set the cookie</span>
<span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">'https://example.com/mute'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// Get the mute boolean from the response</span>
    <span class="token keyword">const</span> mute <span class="token operator">=</span> response<span class="token punctuation">.</span>mute<span class="token punctuation">;</span>

    <span class="token comment">// Set the cookie with a 7-day expiration date</span>
    <span class="token keyword">const</span> expirationDate <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    expirationDate<span class="token punctuation">.</span><span class="token function">setDate</span><span class="token punctuation">(</span>expirationDate<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span>cookie <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">&#96;</span><span class="token string">mute=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>mute<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">;expires=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>expirationDate<span class="token punctuation">.</span><span class="token function">toUTCString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">;path=/</span><span class="token template-punctuation string">&#96;</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">&#96;</span><span class="token string">Error fetching mute boolean: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>error<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">&#96;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><!-- HTML_TAG_END --></pre>
<p>Porting this over to local storage:</p>
<pre class="language-javascript"><!-- HTML_TAG_START --><code class="language-javascript"><span class="token comment">// Set local storage</span>
<span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">'https://example.com/mute'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// Get the mute boolean from the response</span>
    <span class="token keyword">const</span> mute <span class="token operator">=</span> response<span class="token punctuation">.</span>mute<span class="token punctuation">;</span>

    <span class="token comment">// Set local storage with the mute boolean</span>
    localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'mute'</span><span class="token punctuation">,</span> mute<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">&#96;</span><span class="token string">Error fetching mute boolean: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>error<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">&#96;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Get mute from storage</span>
<span class="token keyword">const</span> mute <span class="token operator">=</span> localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'mute'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><!-- HTML_TAG_END --></pre>
<p>Now we‚Äôll take it further and store an object in local storage by using <code>JSON.stringify</code> and <code>JSON.parse</code>:</p>
<pre class="language-javascript"><!-- HTML_TAG_START --><code class="language-javascript"><span class="token comment">// Set local storage</span>
<span class="token keyword">const</span> videoPlayerSettings <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  <span class="token literal-property property">mute</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token literal-property property">volume</span><span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span>
  <span class="token literal-property property">autoplay</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token literal-property property">paused</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token literal-property property">fullscreen</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

<span class="token comment">// Serialize the video player settings object to a string and store it in local storage</span>
localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'videoPlayerSettings'</span><span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>videoPlayerSettings<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Get video player settings from storage</span>
<span class="token keyword">const</span> storedVideoPlayerSettings <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'videoPlayerSettings'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Access the properties from the stored video player settings object</span>
<span class="token keyword">const</span> mute <span class="token operator">=</span> storedVideoPlayerSettings<span class="token punctuation">.</span>mute<span class="token punctuation">;</span>
<span class="token keyword">const</span> autoplay <span class="token operator">=</span> storedVideoPlayerSettings<span class="token punctuation">.</span>autoplay<span class="token punctuation">;</span>
<span class="token keyword">const</span> paused <span class="token operator">=</span> storedVideoPlayerSettings<span class="token punctuation">.</span>paused<span class="token punctuation">;</span>
</code><!-- HTML_TAG_END --></pre>
<h2 id="updating-privacy-policies"><a aria-hidden="true" tabindex="-1" href="#updating-privacy-policies"><span class="icon icon-link"></span></a>Updating privacy policies</h2>
<p>In terms of privacy laws, many countries have specific regulations that require website owners to inform users about how their personal data is being collected, processed, and stored. For example, the General Data Protection Regulation (GDPR) in the European Union requires that websites provide <strong>clear</strong> and <strong>transparent</strong> information about how user state is being collected and used.</p>
<p>Update the use of local storage in your privacy policy. Aim to be transparent about local storage usage: builds trust with users and ensures that you are complying with relevant privacy laws and regulations.</p>
<h2 id="the-cost-of-first-party"><a aria-hidden="true" tabindex="-1" href="#the-cost-of-first-party"><span class="icon icon-link"></span></a>The cost of first party</h2>
<p>Moving off a third party vendor and self-hosting can have both financial and technical implications that need to be carefully considered before making a decision.</p>
<p>The first fincial desision is figuring out the initial investment required to set up and maintain a self-hosted solution. </p>
<p>This includes the cost of hardware, software, and personnel to manage the system. For example, if a company is using a third party customer relationship management (CRM) tool and decides to move to a self-hosted solution, they will need to purchase and maintain the servers, databases, and software necessary to run the system.</p>
<p>Another cost to consider is the ongoing maintenance and support of the self-hosted solution. This includes updates, patches, and security measures to ensure the system is up to date and secure. This can be a significant burden on internal IT staff, which may require additional training or hiring of dedicated personnel.</p>
<p>Take our real world use case where we are using Umami instead of Google Analytics, here are new maintenance tasks: </p>
<ul><li>Manage upgrades: regularly maintain security and features.</li>
<li>Update SSL certificates.</li>
<li>Manage backups.</li>
<li>Monitor uptime: You need visiblity when your platform is down.</li></ul>
<p>This looks complicated at first glance but with proper planning around architecture, we are able to execute all these items without hassle: <strong>by using containerization</strong> to simplify and automate our application deployment process. It helps us gain better visibility and consistency across different environments. </p>
<p>By automating various tasks like provisioning, scaling, and monitoring, we can <em>quickly</em> respond to changes in demand and <em>optimize</em> our infrastructure usage.</p>
<p>In addition to the financial costs, there are also technical implications to consider when moving off a third party vendor. </p>
<p>Another example is email - email can be tough to handle yourself: if a company is using a third party email marketing platform and decides to move to a self-hosted email marketing solution, they will need to ensure that their email servers are configured properly to avoid being flagged as spam. </p>
<p>This requires technical expertise and ongoing monitoring to maintain good email deliverability.  In this case, we would rather have a third party that handles those headaches for us.</p>
<blockquote class="svelte-18ree9t"><p class="svelte-18ree9t">If you‚Äôre interested in calculating the costs of moving off of Youtube, take a deep look into your channel‚Äôs analytics to get a solid understand of the costs involved around usage.</p></blockquote>
<p>When analyzing YouTube analytics to determine the cost of moving off YouTube to your own CDN, highlight the following:</p>
<ul><li><strong>Engagement</strong>: how much traffic is the channel receiving?</li>
<li><strong>Geographic</strong>: determine where the audience is located. Important to factor which regions to setup your CDN.</li>
<li><strong>Revenue</strong>: income being generated through advertising.</li>
<li><strong>Device and platform</strong>: figure out how to optimize content delivery.</li></ul>
<p>These metrics provide valuable insights to determine the feasibility of moving off YouTube to another CDN.</p>
<p>Ultimately, the decision to move off a vendor and self-host depends on the specific needs and resources of the company. While self-hosting may offer more control and customization, it can also require significant financial and technical investments.</p>
<hr></div></article>
</section></main>

<footer class="svelte-1pv61cd"><div class="footer-container svelte-1pv61cd"><div class="footer-main svelte-1pv61cd"><div class="brand svelte-1pv61cd"><div class="footer-logo footer-logo-animation svelte-1pv61cd"><svg viewBox="0 0 30 17" class="svelte-1pv61cd"><g><g aria-label="3EE" font-size="16.383" stroke-width=".41"><path class="three-ee-text-logo svelte-1pv61cd" d="M7.077 3.584H3.649v1.132H.91V3.258q0-.583.063-1.08.078-.498.313-.84.235-.343.688-.532Q2.444.6 3.242.6h.063L7.42.566h.063q.36 0 .72.051.36.035.751.309.423.309.61.703.189.377.235.875.047.497.047.96 0 .223-.015.446v.411q-.016.223-.016.446v.463q0 .463-.11.789-.093.326-.36.617.267.274.36.617.11.326.11.79v2.417q0 .446-.156.823-.141.36-.407.652-.25.274-.61.428-.345.155-.736.155H2.788q-.391 0-.735-.155-.345-.154-.595-.428-.25-.292-.407-.652-.14-.377-.14-.823V8.402h2.738v1.132h3.428v-1.68H2.961V4.853h4.116zM19.205 9.568v3.001h-8.39V.566h8.39V3.55h-5.65v1.526h4.633v2.983h-4.633v1.51zM28.499 9.568v3.001h-8.39V.566h8.39V3.55h-5.65v1.526h4.632v2.983h-4.633v1.51z"></path></g><g aria-label="Third Eye Entertainment" font-size="2.117" stroke-width=".265"><path class="three-ee-unwrapped-text svelte-1pv61cd" d="M2.237 13.958v.368H1.82v1.113h-.37v-1.113h-.417v-.368zM3.555 13.954v1.481h-.368v-.556H2.72v.556h-.368v-1.481h.368v.556h.466v-.556zM4.068 13.958v1.481h-.37v-1.481zM5.35 14.356v.05l.002.05v.042l.002.038-.002.093-.006.093q-.009.061-.036.106-.025.042-.076.078-.034.023-.066.032-.03.006-.063.008l.273.49h-.422l-.27-.488h-.144v.487h-.37v-1.481h.91q.056 0 .105.02.049.02.085.058.036.036.057.087.021.048.021.105zm-.375.224v-.256h-.433v.256zM6.479 13.964q.07.021.108.053.038.03.055.068.017.038.021.082.004.045.004.093v.026q.002.01.002.023.003.03.003.07v.692q0 .06-.003.112-.002.053-.02.098-.02.044-.062.08-.04.036-.117.061-.019.005-.074.009l-.116.004h-.812v-1.481h.535q.046-.003.095-.003h.068q.055 0 .116.003.064 0 .119.004.057.002.076.006zM6.3 15.067v-.743h-.463v.743zM8.756 15.069v.37H7.62v-1.481h1.135v.368H7.99v.188h.627v.369h-.627v.186zM10.222 13.956l-.531.842v.64h-.369v-.64l-.533-.842h.436l.281.442.28-.442zM11.401 15.069v.37h-1.134v-1.481H11.4v.368h-.764v.188h.627v.369h-.627v.186zM13.477 15.069v.37h-1.135v-1.481h1.135v.368h-.764v.188h.626v.369h-.626v.186zM14.814 13.96v1.482h-.347l-.487-.762v.762h-.368V13.96h.347l.487.76v-.76zM16.136 13.958v.368h-.417v1.113h-.37v-1.113h-.417v-.368zM17.367 15.069v.37h-1.135v-1.481h1.135v.368h-.764v.188h.626v.369h-.626v.186zM18.67 14.356v.05l.002.05v.042l.002.038-.002.093-.006.093q-.008.061-.036.106-.025.042-.076.078-.034.023-.066.032-.03.006-.063.008l.273.49h-.421l-.271-.488h-.144v.487h-.37v-1.481h.91q.057 0 .105.02.049.02.085.058.036.036.057.087.021.048.021.105zm-.374.224v-.256h-.434v.256zM19.964 13.958v.368h-.417v1.113h-.37v-1.113h-.417v-.368zM20.903 13.954l.538 1.481h-.396l-.1-.277h-.45l-.1.277h-.394l.538-1.481zm-.093.834q-.013-.034-.021-.06l-.02-.053q-.008-.027-.02-.057l-.028-.076-.091.246zM21.87 13.958v1.481h-.37v-1.481zM23.186 13.96v1.482h-.348l-.486-.762v.762h-.369V13.96h.347l.487.76v-.76zM24.755 13.956v1.481h-.37v-.74l-.104.165-.097.158h-.271l-.201-.326v.743h-.37v-1.481h.35l.356.578.358-.578zM26.04 15.069v.37h-1.134v-1.481h1.134v.368h-.764v.188h.627v.369h-.627v.186zM27.377 13.96v1.482h-.347l-.486-.762v.762h-.369V13.96h.347l.487.76v-.76zM28.7 13.958v.368h-.417v1.113h-.37v-1.113h-.418v-.368z"></path></g></g></svg></div>
				<p class="legal svelte-1pv61cd">¬© Copyright 2023 3ee Games LLC. All rights reserved.</p>
				<p class="legal svelte-1pv61cd">Made with a giant barrel of <ion-icon class="heart-icon svelte-1pv61cd" name="heart-sharp"></ion-icon> by 3ee Games.
				</p>
				<p class="legal svelte-1pv61cd">In memory of Teela üê±</p></div>
			<div class="footer-routes svelte-1pv61cd"><div class="footer-category svelte-1pv61cd"><div class="footer-heading svelte-1pv61cd"><ion-icon class="footer-heading-icon svelte-1pv61cd" name="planet-sharp"></ion-icon>
						<h6 class="svelte-1pv61cd">discover</h6></div>
					<a href="/about" aria-current="page" class="svelte-1pv61cd">about</a>
					<a href="/games" aria-current="page" class="svelte-1pv61cd">games</a>
					<a href="/blog" aria-current="page" class="svelte-1pv61cd">blog</a>
					<a href="https://discord.gg/3ee" target="_blank" class="svelte-1pv61cd">discord community</a>
					<a href="/contact" aria-current="page" class="svelte-1pv61cd">contact</a></div>
				<div class="footer-category svelte-1pv61cd"><div class="footer-heading svelte-1pv61cd"><ion-icon class="footer-heading-icon svelte-1pv61cd" name="person-circle-sharp"></ion-icon>
						<h6 class="svelte-1pv61cd">account</h6></div>
					<a href="/account/login" aria-current="page" class="svelte-1pv61cd">login</a>
						<a href="/account/create" aria-current="page" class="svelte-1pv61cd">create an account</a>
						<a href="/account/accessibility" aria-current="page" class="svelte-1pv61cd">accessibility</a>
						<a href="/account/conduct" aria-current="page" class="svelte-1pv61cd">code of conduct</a>
						<a href="/account/privacy" aria-current="page" class="svelte-1pv61cd">privacy policy</a>
						<a href="/account/terms" aria-current="page" class="svelte-1pv61cd">terms of service</a></div>
				<div class="footer-category svelte-1pv61cd"><div class="footer-heading svelte-1pv61cd"><ion-icon class="footer-heading-icon svelte-1pv61cd" name="chatbubbles-sharp"></ion-icon>
						<h6 class="svelte-1pv61cd">social</h6></div>

					<a href="https://github.com/3ee-Games" target="_blank" class="svelte-1pv61cd">github</a>
					<a href="https://huggingface.co/3ee" target="_blank" class="svelte-1pv61cd">huggingface</a>
					<a rel="me" target="_blank" href="https://mastodon.social/@zuleo" class="svelte-1pv61cd">mastodon</a>
					<a href="https://www.youtube.com/channel/UCv-Cy54zRQgGHe5kiqpfOGA" target="_blank" class="svelte-1pv61cd">youtube</a>
					<a href="https://twitter.com/3ee_Games" target="_blank" class="svelte-1pv61cd">twitter</a>
					<a href="https://www.linkedin.com/company/3ee-games" target="_blank" class="svelte-1pv61cd">linkedin</a>
					<a href="https://www.facebook.com/3eecom" target="_blank" class="svelte-1pv61cd">facebook</a></div></div></div></div></footer>





	<script async defer data-website-id="a7b42ac7-8ef9-4e00-a63e-73c6726cc1ea" src="https://lifestream.3ee.com/umami.js"></script>


		<script type="module" data-sveltekit-hydrate="7wgs0g">
		import { start } from "/_app/immutable/start-b72ce2ef.js";
		start({
			target: document.querySelector('[data-sveltekit-hydrate="7wgs0g"]').parentNode,
			paths: {"base":"","assets":""},
			session: {},
			route: true,
			spa: false,
			trailing_slash: "always",
			hydrate: {
				status: 200,
				error: null,
				nodes: [0, 21],
				params: {},
				routeId: "blog/first-party-experience"
			}
		});
	</script></div>
</body>

<script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
<script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>

</html>